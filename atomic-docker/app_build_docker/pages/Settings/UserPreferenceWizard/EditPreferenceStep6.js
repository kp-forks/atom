"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getServerSideProps = getServerSideProps;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const Switch_1 = __importDefault(require("@components/Switch"));
const Box_1 = __importDefault(require("@components/common/Box"));
const Text_1 = __importDefault(require("@components/common/Text"));
const EditBreakPreferenceColor_1 = __importDefault(require("@pages/Settings/UserPreferenceWizard/EditBreakPreferenceColor"));
const colorsPalette_1 = require("@lib/theme/colorsPalette");
const react_color_circle_1 = __importDefault(require("@uiw/react-color-circle"));
const INITIAL_COLOR = colorsPalette_1.colorsPalette.blue30;
const supertokens_node_1 = __importDefault(require("supertokens-node"));
const backendConfig_1 = require("@config/backendConfig");
const session_1 = __importDefault(require("supertokens-node/recipe/session"));
async function getServerSideProps({ req, res }) {
    // Notice how the server uses `API` from `withSSRContext`, instead of the top-level `API`.
    // const SSR = withSSRContext({ req })
    // this runs on the backend, so we must call init on supertokens-node SDK
    supertokens_node_1.default.init((0, backendConfig_1.backendConfig)());
    let session;
    try {
        session = await session_1.default.getSession(req, res, {
            overrideGlobalClaimValidators: async function () {
                return [];
            },
        });
    }
    catch (err) {
        if (err.type === session_1.default.Error.TRY_REFRESH_TOKEN) {
            return { props: { fromSupertokens: 'needs-refresh' } };
        }
        else if (err.type === session_1.default.Error.UNAUTHORISED) {
            // this will force the frontend to try and refresh which will fail
            // clearing all cookies and redirecting the user to the login screen.
            return { props: { fromSupertokens: 'needs-refresh' } };
        }
        throw err;
    }
    if (!session?.getUserId()) {
        return {
            redirect: {
                destination: '/User/Login/UserLogin',
                permanent: false,
            },
        };
    }
    return {
        props: {
            sub: session.getUserId(),
        }
    };
}
function EditPreferenceStep6(props) {
    const [copyIsMeeting, setCopyIsMeeting] = (0, react_1.useState)(props?.copyIsMeeting);
    const [copyIsExternalMeeting, setCopyIsExternalMeeting] = (0, react_1.useState)(props?.copyIsExternalMeeting);
    const [copyColor, setCopyColor] = (0, react_1.useState)(props?.copyColor);
    const [backToBackMeetings, setBackToBackMeetings] = (0, react_1.useState)(props?.backToBackMeetings);
    const [breakColor, setBreakColor] = (0, react_1.useState)(props?.breakColor || INITIAL_COLOR);
    const [enableSelectColor, setEnableSelectColor] = (0, react_1.useState)(false);
    const setParentCopyIsMeeting = props?.setParentCopyIsMeeting;
    const setParentCopyIsExternalMeeting = props?.setParentCopyIsExternalMeeting;
    const setParentCopyColor = props?.setParentCopyColor;
    const setParentBackToBackMeetings = props?.setParentBackToBackMeetings;
    const setParentBreakColor = props?.setParentBreakColor;
    const changeCopyIsMeeting = (value) => {
        setCopyIsMeeting(value);
        setParentCopyIsMeeting(value);
    };
    const changeCopyIsExternalMeeting = (value) => {
        setCopyIsExternalMeeting(value);
        setParentCopyIsExternalMeeting(value);
    };
    const changeCopyColor = (value) => {
        setCopyColor(value);
        setParentCopyColor(value);
    };
    const changeBackToBackMeetings = (value) => {
        setBackToBackMeetings(value);
        setParentBackToBackMeetings(value);
    };
    const changeBreakColor = (value) => {
        setBreakColor(value);
        setParentBreakColor(value);
    };
    if (enableSelectColor) {
        return ((0, jsx_runtime_1.jsx)(EditBreakPreferenceColor_1.default, { breakColor: breakColor, setParentBreakColor: changeBreakColor, setParentEnableSelectColor: setEnableSelectColor }));
    }
    return ((0, jsx_runtime_1.jsx)(Box_1.default, { justifyContent: "center", alignItems: "center", width: "100%", children: (0, jsx_runtime_1.jsxs)(Box_1.default, { justifyContent: "center", alignItems: "center", minHeight: "70vh", children: [(0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '90%' }, pt: { phone: 'm', tablet: 's' }, children: [(0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-start", alignItems: "center", children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: "Select color for any new events classified as a 'break type' event" }) }), (0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-end", alignItems: "center", children: (0, jsx_runtime_1.jsx)(react_color_circle_1.default, { colors: ['#039be5', '#7986cb', '#33b679', '#8e24aa', '#e67c73', '#f6c026', '#f5511d', '#616161', '#3f51b5', '#0b8043', '#d60000'], color: breakColor, onChange: (color) => {
                                    changeBreakColor(color.hex);
                                } }) })] }), (0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '90%' }, pt: { phone: 'm', tablet: 's' }, children: [(0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-start", alignItems: "center", children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: "Enable back-to-back meetings with no breaks for scheduling assists? " }) }), (0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-end", pt: { phone: 'm', tablet: 's' }, children: (0, jsx_runtime_1.jsx)(Switch_1.default, { onColor: colorsPalette_1.colorsPalette.purple30, offColor: colorsPalette_1.colorsPalette.purple60, checked: backToBackMeetings, onValueChange: changeBackToBackMeetings }) })] }), (0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '90%' }, pt: { phone: 'm', tablet: 's' }, children: [(0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-start", alignItems: "center", children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: "In general, once trained, classify any new events whose details are similar to a 'meeting type' event as a 'meeting type' for scheduling assists? " }) }), (0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-end", pt: { phone: 'm', tablet: 's' }, children: (0, jsx_runtime_1.jsx)(Switch_1.default, { onColor: colorsPalette_1.colorsPalette.purple30, offColor: colorsPalette_1.colorsPalette.purple60, checked: copyIsMeeting, onValueChange: changeCopyIsMeeting, style: { marginBottom: 20 } }) })] }), (0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '90%' }, pt: { phone: 'm', tablet: 's' }, children: [(0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-start", alignItems: "center", children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: "In general, once trained, classify any new events whose details are similar to an 'external meeting type' event (meeting with a contact outside the organization) as an 'external meeting type' for scheduling assists? " }) }), (0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-end", pt: { phone: 'm', tablet: 's' }, children: (0, jsx_runtime_1.jsx)(Switch_1.default, { onColor: colorsPalette_1.colorsPalette.purple30, offColor: colorsPalette_1.colorsPalette.purple60, checked: copyIsExternalMeeting, onValueChange: changeCopyIsExternalMeeting, style: { marginBottom: 20 } }) })] }), (0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '90%' }, pt: { phone: 'm', tablet: 's' }, children: [(0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-start", alignItems: "center", children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: "Copy over background color to any new events whose details are similar? " }) }), (0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-end", pt: { phone: 'm', tablet: 's' }, children: (0, jsx_runtime_1.jsx)(Switch_1.default, { onColor: colorsPalette_1.colorsPalette.purple30, offColor: colorsPalette_1.colorsPalette.purple60, checked: copyColor, onValueChange: changeCopyColor }) })] })] }) }));
}
exports.default = EditPreferenceStep6;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRWRpdFByZWZlcmVuY2VTdGVwNi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkVkaXRQcmVmZXJlbmNlU3RlcDYudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBcUJBLGdEQXFDQzs7QUExREQsaUNBSWM7QUFDZCxnRUFBd0M7QUFDeEMsaUVBQXdDO0FBQ3hDLG1FQUEwQztBQUMxQyw2SEFBb0c7QUFHcEcsNERBQWtFO0FBQ2xFLGlGQUE0QztBQUU1QyxNQUFNLGFBQWEsR0FBRyw2QkFBTSxDQUFDLE1BQU0sQ0FBQTtBQUduQyx3RUFBOEM7QUFDOUMseURBQXFEO0FBQ3JELDhFQUFxRDtBQUU5QyxLQUFLLFVBQVUsa0JBQWtCLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFpRDtJQUNoRywwRkFBMEY7SUFDMUYsc0NBQXNDO0lBQ3RDLHlFQUF5RTtJQUN6RSwwQkFBZSxDQUFDLElBQUksQ0FBQyxJQUFBLDZCQUFhLEdBQUUsQ0FBQyxDQUFBO0lBQ3JDLElBQUksT0FBTyxDQUFBO0lBQ1gsSUFBSSxDQUFDO1FBQ0QsT0FBTyxHQUFHLE1BQU0saUJBQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRTtZQUN6Qyw2QkFBNkIsRUFBRSxLQUFLO2dCQUNoQyxPQUFPLEVBQUUsQ0FBQTtZQUNiLENBQUM7U0FDSixDQUFDLENBQUE7SUFDTixDQUFDO0lBQUMsT0FBTyxHQUFRLEVBQUUsQ0FBQztRQUNoQixJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssaUJBQU8sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUMvQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxFQUFFLENBQUE7UUFDMUQsQ0FBQzthQUFNLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxpQkFBTyxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUNqRCxrRUFBa0U7WUFDbEUscUVBQXFFO1lBQ3JFLE9B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LEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxZQUMvRSx1QkFBQyxnQkFBTyxJQUNKLE9BQU8sRUFBRSw2QkFBTSxDQUFDLFFBQVEsRUFDeEIsUUFBUSxFQUFFLDZCQUFNLENBQUMsUUFBUSxFQUN6QixPQUFPLEVBQUUsU0FBUyxFQUNsQixhQUFhLEVBQUUsZUFBZSxHQUNoQyxHQUNBLElBQ0osSUFDSixHQUNGLENBQ1QsQ0FBQTtBQUNMLENBQUM7QUFFRCxrQkFBZSxtQkFBbUIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge1xuICB1c2VTdGF0ZSxcbiAgRGlzcGF0Y2gsXG4gIFNldFN0YXRlQWN0aW9uLFxufSBmcm9tICdyZWFjdCdcbmltcG9ydCBTd2l0Y2gxIGZyb20gJ0Bjb21wb25lbnRzL1N3aXRjaCdcbmltcG9ydCBCb3ggZnJvbSAnQGNvbXBvbmVudHMvY29tbW9uL0JveCdcbmltcG9ydCBUZXh0IGZyb20gJ0Bjb21wb25lbnRzL2NvbW1vbi9UZXh0J1xuaW1wb3J0IEVkaXRCcmVha1ByZWZlcmVuY2VDb2xvciBmcm9tICdAcGFnZXMvU2V0dGluZ3MvVXNlclByZWZlcmVuY2VXaXphcmQvRWRpdEJyZWFrUHJlZmVyZW5jZUNvbG9yJ1xuaW1wb3J0IHsgUHJlc3NhYmxlLCBTY3JvbGxWaWV3IH0gZnJvbSAncmVhY3QtbmF0aXZlJ1xuXG5pbXBvcnQgeyBjb2xvcnNQYWxldHRlIGFzIENvbG9ycyB9IGZyb20gJ0BsaWIvdGhlbWUvY29sb3JzUGFsZXR0ZSdcbmltcG9ydCBDaXJjbGUgZnJvbSAnQHVpdy9yZWFjdC1jb2xvci1jaXJjbGUnXG5cbmNvbnN0IElOSVRJQUxfQ09MT1IgPSBDb2xvcnMuYmx1ZTMwXG5cbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCBzdXBlcnRva2Vuc05vZGUgZnJvbSAnc3VwZXJ0b2tlbnMtbm9kZSdcbmltcG9ydCB7IGJhY2tlbmRDb25maWcgfSBmcm9tICdAY29uZmlnL2JhY2tlbmRDb25maWcnXG5pbXBvcnQgU2Vzc2lvbiBmcm9tICdzdXBlcnRva2Vucy1ub2RlL3JlY2lwZS9zZXNzaW9uJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMgfTogeyByZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSB9KSB7XG4gICAgLy8gTm90aWNlIGhvdyB0aGUgc2VydmVyIHVzZXMgYEFQSWAgZnJvbSBgd2l0aFNTUkNvbnRleHRgLCBpbnN0ZWFkIG9mIHRoZSB0b3AtbGV2ZWwgYEFQSWAuXG4gICAgLy8gY29uc3QgU1NSID0gd2l0aFNTUkNvbnRleHQoeyByZXEgfSlcbiAgICAvLyB0aGlzIHJ1bnMgb24gdGhlIGJhY2tlbmQsIHNvIHdlIG11c3QgY2FsbCBpbml0IG9uIHN1cGVydG9rZW5zLW5vZGUgU0RLXG4gICAgc3VwZXJ0b2tlbnNOb2RlLmluaXQoYmFja2VuZENvbmZpZygpKVxuICAgIGxldCBzZXNzaW9uXG4gICAgdHJ5IHtcbiAgICAgICAgc2Vzc2lvbiA9IGF3YWl0IFNlc3Npb24uZ2V0U2Vzc2lvbihyZXEsIHJlcywge1xuICAgICAgICAgICAgb3ZlcnJpZGVHbG9iYWxDbGFpbVZhbGlkYXRvcnM6IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgICAgaWYgKGVyci50eXBlID09PSBTZXNzaW9uLkVycm9yLlRSWV9SRUZSRVNIX1RPS0VOKSB7XG4gICAgICAgICAgICByZXR1cm4geyBwcm9wczogeyBmcm9tU3VwZXJ0b2tlbnM6ICduZWVkcy1yZWZyZXNoJyB9IH1cbiAgICAgICAgfSBlbHNlIGlmIChlcnIudHlwZSA9PT0gU2Vzc2lvbi5FcnJvci5VTkFVVEhPUklTRUQpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBmb3JjZSB0aGUgZnJvbnRlbmQgdG8gdHJ5IGFuZCByZWZyZXNoIHdoaWNoIHdpbGwgZmFpbFxuICAgICAgICAgICAgLy8gY2xlYXJpbmcgYWxsIGNvb2tpZXMgYW5kIHJlZGlyZWN0aW5nIHRoZSB1c2VyIHRvIHRoZSBsb2dpbiBzY3JlZW4uXG4gICAgICAgICAgICByZXR1cm4geyBwcm9wczogeyBmcm9tU3VwZXJ0b2tlbnM6ICduZWVkcy1yZWZyZXNoJyB9IH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJcbiAgICB9XG5cbiAgICBpZiAoIXNlc3Npb24/LmdldFVzZXJJZCgpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWRpcmVjdDoge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiAnL1VzZXIvTG9naW4vVXNlckxvZ2luJyxcbiAgICAgICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgIHN1Yjogc2Vzc2lvbi5nZXRVc2VySWQoKSxcbiAgICAgICAgfVxuICAgIH1cbn1cblxudHlwZSBQcm9wcyA9IHtcbiAgICBjb3B5SXNNZWV0aW5nOiBib29sZWFuLFxuICAgIGNvcHlJc0V4dGVybmFsTWVldGluZzogYm9vbGVhbixcbiAgICBjb3B5Q29sb3I6IGJvb2xlYW4sXG4gICAgYmFja1RvQmFja01lZXRpbmdzOiBib29sZWFuLFxuICAgIGJyZWFrQ29sb3I6IHN0cmluZyxcbiAgICBzZXRQYXJlbnRDb3B5SXNNZWV0aW5nOiBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxib29sZWFuPj4sXG4gICAgc2V0UGFyZW50Q29weUlzRXh0ZXJuYWxNZWV0aW5nOiBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxib29sZWFuPj4sXG4gICAgc2V0UGFyZW50Q29weUNvbG9yOiBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxib29sZWFuPj4sXG4gICAgc2V0UGFyZW50QmFja1RvQmFja01lZXRpbmdzOiBEaXNwYXRjaDxTZXRTdGF0ZUFjdGlvbjxib29sZWFuPj4sXG4gICAgc2V0UGFyZW50QnJlYWtDb2xvcjogRGlzcGF0Y2g8U2V0U3RhdGVBY3Rpb248c3RyaW5nPj4sXG59XG5cbmZ1bmN0aW9uIEVkaXRQcmVmZXJlbmNlU3RlcDYocHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3QgW2NvcHlJc01lZXRpbmcsIHNldENvcHlJc01lZXRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4ocHJvcHM/LmNvcHlJc01lZXRpbmcpXG4gICAgY29uc3QgW2NvcHlJc0V4dGVybmFsTWVldGluZywgc2V0Q29weUlzRXh0ZXJuYWxNZWV0aW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHByb3BzPy5jb3B5SXNFeHRlcm5hbE1lZXRpbmcpXG4gICAgY29uc3QgW2NvcHlDb2xvciwgc2V0Q29weUNvbG9yXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHByb3BzPy5jb3B5Q29sb3IpXG4gICAgY29uc3QgW2JhY2tUb0JhY2tNZWV0aW5ncywgc2V0QmFja1RvQmFja01lZXRpbmdzXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHByb3BzPy5iYWNrVG9CYWNrTWVldGluZ3MpXG4gICAgY29uc3QgW2JyZWFrQ29sb3IsIHNldEJyZWFrQ29sb3JdID0gdXNlU3RhdGU8c3RyaW5nPihwcm9wcz8uYnJlYWtDb2xvciB8fCBJTklUSUFMX0NPTE9SKVxuICAgIGNvbnN0IFtlbmFibGVTZWxlY3RDb2xvciwgc2V0RW5hYmxlU2VsZWN0Q29sb3JdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG4gICAgXG4gICAgY29uc3Qgc2V0UGFyZW50Q29weUlzTWVldGluZyA9IHByb3BzPy5zZXRQYXJlbnRDb3B5SXNNZWV0aW5nXG4gICAgY29uc3Qgc2V0UGFyZW50Q29weUlzRXh0ZXJuYWxNZWV0aW5nID0gcHJvcHM/LnNldFBhcmVudENvcHlJc0V4dGVybmFsTWVldGluZ1xuICAgIGNvbnN0IHNldFBhcmVudENvcHlDb2xvciA9IHByb3BzPy5zZXRQYXJlbnRDb3B5Q29sb3JcbiAgICBjb25zdCBzZXRQYXJlbnRCYWNrVG9CYWNrTWVldGluZ3MgPSBwcm9wcz8uc2V0UGFyZW50QmFja1RvQmFja01lZXRpbmdzXG4gICAgY29uc3Qgc2V0UGFyZW50QnJlYWtDb2xvciA9IHByb3BzPy5zZXRQYXJlbnRCcmVha0NvbG9yXG4gICAgXG4gICAgY29uc3QgY2hhbmdlQ29weUlzTWVldGluZyA9ICh2YWx1ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBzZXRDb3B5SXNNZWV0aW5nKHZhbHVlKVxuICAgICAgICBzZXRQYXJlbnRDb3B5SXNNZWV0aW5nKHZhbHVlKVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBjaGFuZ2VDb3B5SXNFeHRlcm5hbE1lZXRpbmcgPSAodmFsdWU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgc2V0Q29weUlzRXh0ZXJuYWxNZWV0aW5nKHZhbHVlKVxuICAgICAgICBzZXRQYXJlbnRDb3B5SXNFeHRlcm5hbE1lZXRpbmcodmFsdWUpXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNoYW5nZUNvcHlDb2xvciA9ICh2YWx1ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBzZXRDb3B5Q29sb3IodmFsdWUpXG4gICAgICAgIHNldFBhcmVudENvcHlDb2xvcih2YWx1ZSlcbiAgICB9XG5cbiAgICBjb25zdCBjaGFuZ2VCYWNrVG9CYWNrTWVldGluZ3MgPSAodmFsdWU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgc2V0QmFja1RvQmFja01lZXRpbmdzKHZhbHVlKVxuICAgICAgICBzZXRQYXJlbnRCYWNrVG9CYWNrTWVldGluZ3ModmFsdWUpXG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlQnJlYWtDb2xvciA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHNldEJyZWFrQ29sb3IodmFsdWUpXG4gICAgICAgIHNldFBhcmVudEJyZWFrQ29sb3IodmFsdWUpXG4gICAgfVxuXG4gICAgaWYgKGVuYWJsZVNlbGVjdENvbG9yKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RWRpdEJyZWFrUHJlZmVyZW5jZUNvbG9yXG4gICAgICAgICAgICAgICAgYnJlYWtDb2xvcj17YnJlYWtDb2xvcn1cbiAgICAgICAgICAgICAgICBzZXRQYXJlbnRCcmVha0NvbG9yPXtjaGFuZ2VCcmVha0NvbG9yfVxuICAgICAgICAgICAgICAgIHNldFBhcmVudEVuYWJsZVNlbGVjdENvbG9yPXtzZXRFbmFibGVTZWxlY3RDb2xvcn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIClcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgICAgPEJveCBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgICAgICA8Qm94IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiIG1pbkhlaWdodD1cIjcwdmhcIj5cbiAgICAgICAgICAgICAgPEJveCBzdHlsZT17eyB3aWR0aDogJzkwJScgfX0gcHQ9e3sgcGhvbmU6ICdtJywgdGFibGV0OiAncycgfX0+XG4gICAgICAgICAgICAgICAgICA8Qm94ICBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJmbGV4LXN0YXJ0XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPiAgXG4gICAgICAgICAgICAgICAgICAgICAgPFRleHQgdmFyaWFudD1cIm9wdGlvbkhlYWRlclwiPlNlbGVjdCBjb2xvciBmb3IgYW55IG5ldyBldmVudHMgY2xhc3NpZmllZCBhcyBhICZhcG9zO2JyZWFrIHR5cGUmYXBvczsgZXZlbnQ8L1RleHQ+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgIDxCb3ggIGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtZW5kXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPiAgXG4gICAgICAgICAgICAgICAgICAgIDxDaXJjbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9ycz17WyAnIzAzOWJlNScsICcjNzk4NmNiJywgJyMzM2I2NzknLCAnIzhlMjRhYScsICcjZTY3YzczJywgJyNmNmMwMjYnLCAnI2Y1NTExZCcsICcjNjE2MTYxJywgJyMzZjUxYjUnLCAnIzBiODA0MycsICcjZDYwMDAwJyBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9e2JyZWFrQ29sb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGNvbG9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlQnJlYWtDb2xvcihjb2xvci5oZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICA8Qm94IHN0eWxlPXt7IHdpZHRoOiAnOTAlJyB9fSBwdD17eyBwaG9uZTogJ20nLCB0YWJsZXQ6ICdzJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxCb3ggIGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtc3RhcnRcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+ICBcbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB2YXJpYW50PVwib3B0aW9uSGVhZGVyXCI+RW5hYmxlIGJhY2stdG8tYmFjayBtZWV0aW5ncyB3aXRoIG5vIGJyZWFrcyBmb3Igc2NoZWR1bGluZyBhc3Npc3RzPyA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgIDxCb3ggIGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtZW5kXCIgcHQ9e3sgcGhvbmU6ICdtJywgdGFibGV0OiAncycgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPFN3aXRjaDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db2xvcj17Q29sb3JzLnB1cnBsZTMwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZDb2xvcj17Q29sb3JzLnB1cnBsZTYwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtiYWNrVG9CYWNrTWVldGluZ3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9e2NoYW5nZUJhY2tUb0JhY2tNZWV0aW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICA8Qm94IHN0eWxlPXt7IHdpZHRoOiAnOTAlJyB9fSBwdD17eyBwaG9uZTogJ20nLCB0YWJsZXQ6ICdzJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxCb3ggIGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtc3RhcnRcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+IFxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHZhcmlhbnQ9XCJvcHRpb25IZWFkZXJcIj5JbiBnZW5lcmFsLCBvbmNlIHRyYWluZWQsIGNsYXNzaWZ5IGFueSBuZXcgZXZlbnRzIHdob3NlIGRldGFpbHMgYXJlIHNpbWlsYXIgdG8gYSAmYXBvczttZWV0aW5nIHR5cGUmYXBvczsgZXZlbnQgYXMgYSAmYXBvczttZWV0aW5nIHR5cGUmYXBvczsgZm9yIHNjaGVkdWxpbmcgYXNzaXN0cz8gPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICA8Qm94ICBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJmbGV4LWVuZFwiIHB0PXt7IHBob25lOiAnbScsIHRhYmxldDogJ3MnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxTd2l0Y2gxXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29sb3I9e0NvbG9ycy5wdXJwbGUzMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb2ZmQ29sb3I9e0NvbG9ycy5wdXJwbGU2MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Y29weUlzTWVldGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17Y2hhbmdlQ29weUlzTWVldGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAyMCB9fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICc5MCUnIH19IHB0PXt7IHBob25lOiAnbScsIHRhYmxldDogJ3MnIH19PlxuICAgICAgICAgICAgICAgICAgPEJveCAgZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwiZmxleC1zdGFydFwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj4gIFxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHZhcmlhbnQ9XCJvcHRpb25IZWFkZXJcIj5JbiBnZW5lcmFsLCBvbmNlIHRyYWluZWQsIGNsYXNzaWZ5IGFueSBuZXcgZXZlbnRzIHdob3NlIGRldGFpbHMgYXJlIHNpbWlsYXIgdG8gYW4gJmFwb3M7ZXh0ZXJuYWwgbWVldGluZyB0eXBlJmFwb3M7IGV2ZW50IChtZWV0aW5nIHdpdGggYSBjb250YWN0IG91dHNpZGUgdGhlIG9yZ2FuaXphdGlvbikgYXMgYW4gJmFwb3M7ZXh0ZXJuYWwgbWVldGluZyB0eXBlJmFwb3M7IGZvciBzY2hlZHVsaW5nIGFzc2lzdHM/IDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgPEJveCAgZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwiZmxleC1lbmRcIiBwdD17eyBwaG9uZTogJ20nLCB0YWJsZXQ6ICdzJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8U3dpdGNoMVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbG9yPXtDb2xvcnMucHVycGxlMzB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9mZkNvbG9yPXtDb2xvcnMucHVycGxlNjB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2NvcHlJc0V4dGVybmFsTWVldGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17Y2hhbmdlQ29weUlzRXh0ZXJuYWxNZWV0aW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDIwIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgPEJveCBzdHlsZT17eyB3aWR0aDogJzkwJScgfX0gcHQ9e3sgcGhvbmU6ICdtJywgdGFibGV0OiAncycgfX0+XG4gICAgICAgICAgICAgICAgICA8Qm94ICBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJmbGV4LXN0YXJ0XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHZhcmlhbnQ9XCJvcHRpb25IZWFkZXJcIj5Db3B5IG92ZXIgYmFja2dyb3VuZCBjb2xvciB0byBhbnkgbmV3IGV2ZW50cyB3aG9zZSBkZXRhaWxzIGFyZSBzaW1pbGFyPyA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgIDxCb3ggIGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cImZsZXgtZW5kXCIgcHQ9e3sgcGhvbmU6ICdtJywgdGFibGV0OiAncycgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPFN3aXRjaDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db2xvcj17Q29sb3JzLnB1cnBsZTMwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZDb2xvcj17Q29sb3JzLnB1cnBsZTYwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjb3B5Q29sb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9e2NoYW5nZUNvcHlDb2xvcn1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgIDwvQm94PlxuICAgICAgICA8L0JveD5cbiAgICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEVkaXRQcmVmZXJlbmNlU3RlcDYiXX0=