"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getServerSideProps = getServerSideProps;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_native_1 = require("react-native");
// import DateTimePicker from 'react-datetime-picker/dist/entry.nostyle'
const react_2 = require("@chakra-ui/react");
const Wizard_1 = __importDefault(require("@components/Wizard"));
const TextField_1 = __importDefault(require("@components/TextField"));
const uuid_1 = require("uuid");
const date_utils_1 = require("@lib/date-utils");
const react_3 = require("@chakra-ui/react");
const io_1 = require("react-icons/io");
const ReminderHelper_1 = require("@lib/Calendar/Reminder/ReminderHelper");
const picker_1 = require("@react-native-picker/picker");
const lodash_1 = __importDefault(require("lodash"));
const Box_1 = __importDefault(require("@components/common/Box"));
const Text_1 = __importDefault(require("@components/common/Text"));
const Button_1 = __importDefault(require("@components/Button"));
const theme_1 = require("@lib/theme/theme");
const CategoryHelper_1 = require("@lib/Category/CategoryHelper");
const UserCreateCalendarHelper_1 = require("@lib/Calendar/UserCreateCalendarHelper");
const UserTaskHelper2_1 = require("@lib/Progress/Todo/UserTaskHelper2");
const ScheduleHelper_1 = require("@lib/Schedule/ScheduleHelper");
const calendarDbHelper_1 = require("@lib/calendarLib/calendarDbHelper");
const user_context_1 = require("@lib/user-context");
const router_1 = require("next/router");
const UserTaskHelper3_1 = require("@lib/Progress/Todo/UserTaskHelper3");
const styles = {
    inputField: {
        fontSize: '21px',
        lineHeight: '28px',
        color: '#221D23',
        borderColor: theme_1.palette.textBlack,
        borderWidth: 1,
        width: '100%',
        height: 40,
    },
};
const supertokens_node_1 = __importDefault(require("supertokens-node"));
const backendConfig_1 = require("@config/backendConfig");
const session_1 = __importDefault(require("supertokens-node/recipe/session"));
async function getServerSideProps({ req, res }) {
    // Notice how the server uses `API` from `withSSRContext`, instead of the top-level `API`.
    // const SSR = withSSRContext({ req })
    // this runs on the backend, so we must call init on supertokens-node SDK
    supertokens_node_1.default.init((0, backendConfig_1.backendConfig)());
    let session;
    try {
        session = await session_1.default.getSession(req, res, {
            overrideGlobalClaimValidators: async function () {
                return [];
            },
        });
    }
    catch (err) {
        if (err.type === session_1.default.Error.TRY_REFRESH_TOKEN) {
            return { props: { fromSupertokens: 'needs-refresh' } };
        }
        else if (err.type === session_1.default.Error.UNAUTHORISED) {
            // this will force the frontend to try and refresh which will fail
            // clearing all cookies and redirecting the user to the login screen.
            return { props: { fromSupertokens: 'needs-refresh' } };
        }
        throw err;
    }
    if (!session?.getUserId()) {
        return {
            redirect: {
                destination: '/User/Login/UserLogin',
                permanent: false,
            },
        };
    }
    return {
        props: {
            sub: session.getUserId(),
        }
    };
}
function UserTaskEvent() {
    const router = (0, router_1.useRouter)();
    const { sub, client } = (0, user_context_1.useAppContext)();
    const taskType = router.query?.taskType;
    const taskId = router.query?.taskId;
    const isUpdate = router.query?.isUpdate;
    const [activeIndex, setActiveIndex] = (0, react_1.useState)(0);
    const [completedStep, setCompletedStep] = (0, react_1.useState)();
    const [startDate, setStartDate] = (0, react_1.useState)((0, date_utils_1.dayjs)().toDate());
    const [duration, setDuration] = (0, react_1.useState)(30);
    const [tags, setTags] = (0, react_1.useState)([]);
    const [alarms, setAlarms] = (0, react_1.useState)([]);
    const [calendar, setCalendar] = (0, react_1.useState)();
    const [alarm, setAlarm] = (0, react_1.useState)(0);
    const [selectedTag, setSelectedTag] = (0, react_1.useState)('');
    const [selectedTagObject, setSelectedTagObject] = (0, react_1.useState)(null);
    const [selectedTags, setSelectedTags] = (0, react_1.useState)([]);
    const [task, setTask] = (0, react_1.useState)();
    // const dark = useColorScheme() === 'dark'
    const userId = sub;
    const toast = (0, react_3.useToast)();
    // get task
    (0, react_1.useEffect)(() => {
        (async () => {
            try {
                if (!taskId || !client) {
                    return;
                }
                const oldTask = await (0, UserTaskHelper3_1.getTaskGivenId)(client, taskId);
                setTask(oldTask);
            }
            catch (e) {
                console.log(e, ' unable to get task by id');
            }
        })();
    }, [client, taskId]);
    (0, react_1.useEffect)(() => {
        (async () => {
            try {
                if (!userId || !client) {
                    return;
                }
                const results = await (0, CategoryHelper_1.listUserCategories)(client, userId);
                if (!results?.[0]?.id) {
                    console.log(' no categories available');
                    return;
                }
                setTags(results);
            }
            catch (e) {
                console.log(e, ' unable to get categories');
            }
        })();
    }, [client, userId]);
    (0, react_1.useEffect)(() => {
        (async () => {
            if (!task || !client) {
                return;
            }
            if (task?.id) {
                const results = await (0, ReminderHelper_1.listRemindersForEvent)(client, task?.eventId);
                if (!results?.[0]?.id) {
                    console.log(' no alarms available');
                    return;
                }
                setAlarms(results?.map(r => r.minutes));
            }
        })();
    }, [client, task, task?.eventId, task?.id]);
    (0, react_1.useEffect)(() => {
        (async () => {
            if (!userId || !client) {
                return;
            }
            const result = await (0, ScheduleHelper_1.getGlobalPrimaryCalendarFunction)(client, userId);
            if (!result?.id) {
                console.log(' no primary calendar available');
                return;
            }
            setCalendar(result);
        })();
    }, [client, userId]);
    (0, react_1.useEffect)(() => {
        (async () => {
            if (!task || !client) {
                return;
            }
            if (task?.id) {
                const event = await (0, calendarDbHelper_1.getEventWithId)(client, task?.eventId);
                if (!event?.id) {
                    console.log(' no event available');
                    return;
                }
                setStartDate((0, date_utils_1.dayjs)(event.startDate).toDate());
                setDuration(event.duration || (0, date_utils_1.dayjs)(event.endDate).diff((0, date_utils_1.dayjs)(event.startDate), 'minutes'));
                const newSelectedTags = await (0, CategoryHelper_1.listCategoriesForEvent)(client, event.id);
                if (newSelectedTags?.[0]?.id) {
                    setSelectedTags(newSelectedTags);
                }
                const newAlarms = await (0, ReminderHelper_1.listRemindersForEvent)(client, event.id);
                if (newAlarms?.[0]?.id) {
                    setAlarms(newAlarms?.map(r => r.minutes));
                }
            }
        })();
    }, [client, task, task?.eventId, task?.id]);
    const updateTaskInDb = async (eventId) => {
        try {
            if (!taskId) {
                return;
            }
            const toUpdateTask = lodash_1.default.cloneDeep(task);
            // validate
            if (!toUpdateTask) {
                console.log('no toUpdateTask provided inside updateTaskinDb');
                return;
            }
            if (eventId !== undefined) {
                toUpdateTask.eventId = eventId;
            }
            await (0, UserTaskHelper3_1.updateTaskByIdInDb)(client, toUpdateTask);
            setTask(toUpdateTask);
        }
        catch (e) {
            console.log(e, ' unable to update task in db');
        }
    };
    const onReceiveCreateEvent = async () => {
        try {
            if (!task?.id) {
                console.log('no taskId present inside onReceiveCreateTaskScheduleInfo');
                return;
            }
            const eventId = await (0, UserCreateCalendarHelper_1.createNewEvent)((0, date_utils_1.dayjs)(startDate).format(), (0, date_utils_1.dayjs)(startDate).add(duration, 'minute').format(), userId, client, calendar?.id, selectedTags.map(t => t.id), task.notes, false, undefined, undefined, undefined, alarms, task.notes, undefined, false, false, false, true, false, false, false, false, date_utils_1.dayjs.tz.guess(), task.id, taskType, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, task.notes, 'opaque', 'private', undefined, undefined, undefined, calendar?.colorId, undefined, selectedTags?.[0]?.color || calendar.backgroundColor, calendar.foregroundColor, alarms.length === 0, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, taskType === 'Daily', taskType === 'Weekly', false, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, true, undefined, true, true, true, undefined, undefined, undefined, undefined, undefined, undefined, duration, undefined, true, 'update', undefined, undefined, undefined);
            if (eventId) {
                await updateTaskInDb(eventId);
            }
            toast({
                status: 'success',
                title: 'Task Event Created',
                description: 'Task event created successfully',
                duration: 9000,
                isClosable: true,
            });
            router.push({ pathname: '/Progress/Todo/UserTask', query: {
                    taskType,
                    isUpdate: (0, uuid_1.v4)(),
                } });
        }
        catch (e) {
            console.log(e, ' unable to create task event');
            toast({
                status: 'error',
                title: 'No event created',
                description: 'We are not able to create the event for task due to an internal error.',
                duration: 9000,
                isClosable: true,
            });
            router.push({ pathname: '/Progress/Todo/UserTask', query: {
                    taskType,
                    isUpdate: undefined,
                } });
        }
    };
    const onReceiveUpdateEvent = async () => {
        try {
            console.log(task, ' task inside onReceiveUpdateEvent');
            if (!task?.id) {
                console.log('no taskId present inside onReceiveUpdateEvent');
                return;
            }
            const oldEvent = await (0, calendarDbHelper_1.getEventWithId)(client, task.eventId);
            if (!oldEvent) {
                console.log('no oldEvent present inside onReceiveUpdateTaskScheduleInfo');
                return;
            }
            console.log(selectedTags, ' selectedTags inside onReceiveUpdateEvent');
            await (0, UserTaskHelper2_1.editEventForTask)(task?.eventId, (0, date_utils_1.dayjs)(startDate).format(), (0, date_utils_1.dayjs)(startDate).add(duration, 'minute').format(), userId, client, calendar?.id, selectedTags.map(t => t.id), task.notes, false, undefined, undefined, undefined, alarms, task.notes, undefined, false, false, false, true, false, false, false, false, date_utils_1.dayjs.tz.guess(), task.id, taskType, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, task.notes, 'opaque', 'private', undefined, undefined, undefined, calendar?.colorId, undefined, selectedTags?.[0]?.color || oldEvent?.backgroundColor || calendar?.backgroundColor, calendar.foregroundColor, alarms.length === 0, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, taskType === 'Daily', taskType === 'Weekly', false, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, true, undefined, true, true, true, undefined, undefined, undefined, undefined, undefined, undefined, duration, undefined, true, 'update', undefined, undefined, undefined);
            if (oldEvent?.id) {
                await updateTaskInDb(oldEvent?.id);
            }
            router.push({ pathname: '/Progress/Todo/UserTask', query: {
                    taskType,
                    isUpdate: (0, uuid_1.v4)(),
                } });
        }
        catch (e) {
            console.log(e, ' unable to update deadline');
            toast({
                status: 'error',
                title: 'Unable to update',
                description: 'Unable to update deadline due to an internal error',
                duration: 9000,
                isClosable: true,
            });
            router.push({ pathname: '/Progress/Todo/UserTask', query: {
                    taskType,
                    isUpdate: undefined,
                } });
        }
    };
    const onActiveIndexChanged = (index) => setActiveIndex(index);
    const goToPrevStep = () => {
        const prevActiveIndex = activeIndex;
        const newActiveIndex = prevActiveIndex === 0 ? 0 : prevActiveIndex - 1;
        setActiveIndex(newActiveIndex);
    };
    const renderPrevButton = () => {
        if (activeIndex === 0) {
            return (0, jsx_runtime_1.jsx)(Box_1.default, { pt: { phone: 'm', tablet: 's' } });
        }
        return ((0, jsx_runtime_1.jsx)(Box_1.default, { pt: { phone: 'm', tablet: 's' }, children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: goToPrevStep, children: "Back" }) }));
    };
    const goToNextStep = () => {
        const prevActiveIndex = activeIndex;
        const prevCompletedStep = completedStep;
        if (prevActiveIndex === 3) {
            return;
        }
        const newActiveIndex = prevActiveIndex + 1;
        if (!prevCompletedStep || (prevCompletedStep < prevActiveIndex)) {
            const newCompletedStep = prevActiveIndex;
            setCompletedStep(newCompletedStep);
        }
        if (newActiveIndex !== prevActiveIndex) {
            setActiveIndex(newActiveIndex);
        }
    };
    const renderNextButton = () => {
        return ((0, jsx_runtime_1.jsx)(Box_1.default, { pt: { phone: 'm', tablet: 's' }, children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: goToNextStep, children: "Next" }) }));
    };
    const addAlarm = () => {
        const newAlarms = lodash_1.default.uniqWith(alarms.concat([alarm]), lodash_1.default.isEqual);
        setAlarms(newAlarms);
        setAlarm(0);
    };
    const removeAlarm = (index) => {
        const newAlarms = alarms.slice(0, index)
            .concat(alarms.slice(index + 1));
        setAlarms(newAlarms);
    };
    const changeSelectedTag = (value) => {
        setSelectedTag(value);
        setSelectedTagObject(tags.find(tag => tag.name === value));
    };
    const addTagToTags = () => {
        const newCategories = lodash_1.default.uniqWith(selectedTags.concat([selectedTagObject]), lodash_1.default.isEqual);
        setSelectedTags(newCategories);
        setSelectedTag('');
        setSelectedTagObject(undefined);
    };
    const removeTagFromTags = (index) => {
        const newCategories = selectedTags.slice(0, index)
            .concat(selectedTags.slice(index + 1));
        setSelectedTags(newCategories);
    };
    const onSubmitPress = () => {
        try {
            return isUpdate
                ? onReceiveUpdateEvent()
                : onReceiveCreateEvent();
        }
        catch (e) {
            console.log(e, ' unable to submit press inside UserTaskEvent');
        }
    };
    const renderCurrentStep = () => {
        switch (activeIndex) {
            case 0:
                return ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col justiy-center items-center", children: [(0, jsx_runtime_1.jsx)(Text_1.default, { textAlign: "center", variant: "subheader", pt: { phone: 'm', tablet: 's' }, children: "Add a task period" }), (0, jsx_runtime_1.jsx)(Box_1.default, { flex: 1, justifyContent: "center", alignItems: "center", minHeight: "60vh", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col justify-center items-start", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: "Select a start date for task" }), (0, jsx_runtime_1.jsx)(react_2.Input, { placeholder: "Select Date and Time", size: "md", type: "datetime-local", onChange: (e) => setStartDate((0, date_utils_1.dayjs)(e?.target?.value, "YYYY-MM-DDTHH:mm").toDate()), value: (0, date_utils_1.dayjs)(startDate).format("YYYY-MM-DDTHH:mm") })] }), (0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "center", alignItems: "center", children: (0, jsx_runtime_1.jsx)(TextField_1.default, { label: "Duration (minutes)", type: "number", onChange: (e) => setDuration(parseInt(e?.target?.value.replace(/[^0-9.]/g, ''), 10)), value: `${duration}`, placeholder: "1", style: { ...(styles?.inputField) } }) })] }) }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", width: "100%", children: [(0, jsx_runtime_1.jsx)(Box_1.default, {}), renderNextButton()] })] }));
            case 1:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(Box_1.default, { justifyContent: "center", alignItems: "center", children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "subheader", children: "Reminders" }) }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flex: 1, justifyContent: "center", alignItems: "center", minHeight: "60vh", children: [(0, jsx_runtime_1.jsx)(react_native_1.FlatList, { data: alarms, renderItem: ({ item, index }) => ((0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-around", children: [(0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: `${item} minutes before` }), (0, jsx_runtime_1.jsx)(react_native_1.Pressable, { hitSlop: 15, onPress: () => removeAlarm(index), children: (0, jsx_runtime_1.jsx)(io_1.IoIosClose, { size: "3em", color: theme_1.palette.red }) })] })), keyExtractor: (item, index) => `${item}-${index}` }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "center", alignItems: "center", children: [(0, jsx_runtime_1.jsx)(TextField_1.default, { type: "number", onChange: (e) => setAlarm(parseInt(e?.target?.value.replace(/[^0-9.]/g, ''), 10)), value: `${alarm}`, placeholder: "0" }), (0, jsx_runtime_1.jsx)("span", { className: "ml-3", children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: addAlarm, children: "Add" }) })] })] }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", children: [renderPrevButton(), renderNextButton()] })] }));
            case 2:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { justifyContent: "center", alignItems: "center", children: [(0, jsx_runtime_1.jsx)(Box_1.default, { m: { phone: 's', tablet: 'm' }, justifyContent: "center", alignItems: "center", children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "subheader", children: "Add tags to this event" }) }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flex: 1, justifyContent: "center", alignItems: "center", minHeight: "60vh", children: [(0, jsx_runtime_1.jsx)(react_native_1.FlatList, { data: selectedTags, renderItem: ({ item, index }) => ((0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", alignItems: "center", children: [(0, jsx_runtime_1.jsx)(Text_1.default, { variant: "optionHeader", children: item.name }), (0, jsx_runtime_1.jsx)(react_native_1.Pressable, { hitSlop: 15, onPress: () => removeTagFromTags(index), children: (0, jsx_runtime_1.jsx)(io_1.IoIosClose, { size: "3em", color: theme_1.palette.red }) })] })), keyExtractor: (item) => item.id }), (0, jsx_runtime_1.jsxs)("div", { className: "flex", children: [(0, jsx_runtime_1.jsx)(Box_1.default, { justifyContent: "center", alignItems: "flex-start", children: (0, jsx_runtime_1.jsx)(picker_1.Picker, { selectedValue: selectedTag, onValueChange: changeSelectedTag, style: { color: theme_1.palette.textBlack }, children: tags.map((category) => ((0, jsx_runtime_1.jsx)(picker_1.Picker.Item, { color: theme_1.palette.textBlack, value: category.name, label: category.name }, category.id))) }) }), (0, jsx_runtime_1.jsx)("div", { className: "m-3", children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: addTagToTags, children: "Add" }) })] })] }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", width: "100%", children: [renderPrevButton(), renderNextButton()] })] }));
            case 3:
                return ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col justify-between items-center", children: [(0, jsx_runtime_1.jsxs)(Box_1.default, { flex: 1, justifyContent: "space-around", alignItems: "center", minHeight: "60vh", children: [(0, jsx_runtime_1.jsx)(Text_1.default, { variant: "subheader", pt: { phone: 'm', tablet: 's' }, children: isUpdate ? "Update the event?" : "Create the event?" }), (0, jsx_runtime_1.jsx)(Box_1.default, { p: { phone: 's', tablet: 'm' }, children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: onSubmitPress, children: isUpdate ? "Update Event" : "Create Event" }) })] }), (0, jsx_runtime_1.jsx)(Box_1.default, { flexDirection: "row", justifyContent: "flex-start", width: "100%", children: renderPrevButton() })] }));
        }
    };
    return ((0, jsx_runtime_1.jsxs)(Box_1.default, { flex: 1, children: [(0, jsx_runtime_1.jsx)(Wizard_1.default, { items: [
                    {
                        index: 0,
                        label: 'Add a Period',
                    },
                    {
                        index: 1,
                        label: 'Add Event Alarms',
                    },
                    {
                        index: 2,
                        label: 'Add Tags',
                    },
                    {
                        index: 3,
                        label: isUpdate ? "Update the event?" : "Create the event?",
                    },
                ], completed: completedStep, activeIndex: activeIndex }), renderCurrentStep()] }));
}
exports.default = UserTaskEvent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlclRhc2tFdmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlVzZXJUYXNrRXZlbnQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBc0RBLGdEQXFDQzs7QUEzRkQsaUNBQWtEO0FBQ2xELCtDQUEwRjtBQUMxRix3RUFBd0U7QUFDeEUsNENBQXdDO0FBQ3hDLGdFQUF1QztBQUN2QyxzRUFBNkM7QUFDN0MsK0JBQWlDO0FBQ2pDLGdEQUF1QztBQUV2Qyw0Q0FBMkM7QUFFM0MsdUNBQTRDO0FBRTVDLDBFQUE2RTtBQUM3RSx3REFBb0Q7QUFDcEQsb0RBQXNCO0FBRXRCLGlFQUF3QztBQUN4QyxtRUFBMEM7QUFDMUMsZ0VBQXVDO0FBQ3ZDLDRDQUEwQztBQUkxQyxpRUFBeUY7QUFDekYscUZBQXVFO0FBQ3ZFLHdFQUFxRTtBQUVyRSxpRUFBK0U7QUFDL0Usd0VBQWtFO0FBQ2xFLG9EQUFpRDtBQUNqRCx3Q0FBdUM7QUFFdkMsd0VBQXVGO0FBRXZGLE1BQU0sTUFBTSxHQUFHO0lBQ2IsVUFBVSxFQUFFO1FBQ1YsUUFBUSxFQUFFLE1BQU07UUFDaEIsVUFBVSxFQUFFLE1BQU07UUFDbEIsS0FBSyxFQUFHLFNBQVM7UUFDakIsV0FBVyxFQUFFLGVBQU8sQ0FBQyxTQUFTO1FBQzlCLFdBQVcsRUFBRSxDQUFDO1FBQ2QsS0FBSyxFQUFFLE1BQU07UUFDYixNQUFNLEVBQUUsRUFBRTtLQUNYO0NBQ0YsQ0FBQTtBQUtELHdFQUE4QztBQUM5Qyx5REFBcUQ7QUFDckQsOEVBQXFEO0FBRTlDLEtBQUssVUFBVSxrQkFBa0IsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQWlEO0lBQ2hHLDBGQUEwRjtJQUMxRixzQ0FBc0M7SUFDdEMseUVBQXlFO0lBQ3pFLDBCQUFlLENBQUMsSUFBSSxDQUFDLElBQUEsNkJBQWEsR0FBRSxDQUFDLENBQUE7SUFDckMsSUFBSSxPQUFPLENBQUE7SUFDWCxJQUFJLENBQUM7UUFDRCxPQUFPLEdBQUcsTUFBTSxp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akMsdUJBQUMsZ0JBQU0sSUFBQyxPQUFPLEVBQUUsYUFBYSxZQUMzQixRQUFRLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsY0FBYyxHQUNwQyxHQUNMLElBQ0YsRUFDTix1QkFBQyxhQUFHLElBQUMsYUFBYSxFQUFDLEtBQUssRUFBQyxjQUFjLEVBQUMsWUFBWSxFQUFDLEtBQUssRUFBQyxNQUFNLFlBQzlELGdCQUFnQixFQUFFLEdBQ2YsSUFDRixDQUNQLENBQUE7UUFDTCxDQUFDO0lBQ0gsQ0FBQyxDQUFBO0lBR0QsT0FBTyxDQUNMLHdCQUFDLGFBQUcsSUFBQyxJQUFJLEVBQUUsQ0FBQyxhQUNWLHVCQUFDLGdCQUFNLElBQ0wsS0FBSyxFQUFFO29CQUNIO3dCQUNJLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRSxjQUFjO3FCQUN4QjtvQkFDRDt3QkFDSSxLQUFLLEVBQUUsQ0FBQzt3QkFDUixLQUFLLEVBQUUsa0JBQWtCO3FCQUM1QjtvQkFDRDt3QkFDSSxLQUFLLEVBQUUsQ0FBQzt3QkFDUixLQUFLLEVBQUUsVUFBVTtxQkFDcEI7b0JBQ0E7d0JBQ0csS0FBSyxFQUFFLENBQUM7d0JBQ1IsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLG1CQUFtQjtxQkFDOUQ7aUJBQ0osRUFFRCxTQUFTLEVBQUUsYUFBYSxFQUN4QixXQUFXLEVBQUUsV0FBVyxHQUN4QixFQUNELGlCQUFpQixFQUFFLElBQ2hCLENBQ1AsQ0FBQTtBQUVILENBQUM7QUFFRCxrQkFBZSxhQUFhLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRmxhdExpc3QsIHVzZUNvbG9yU2NoZW1lLCBTdHlsZVNoZWV0LCBBcHBlYXJhbmNlLCBQcmVzc2FibGUgfSBmcm9tICdyZWFjdC1uYXRpdmUnXG4vLyBpbXBvcnQgRGF0ZVRpbWVQaWNrZXIgZnJvbSAncmVhY3QtZGF0ZXRpbWUtcGlja2VyL2Rpc3QvZW50cnkubm9zdHlsZSdcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdCdcbmltcG9ydCBXaXphcmQgZnJvbSAnQGNvbXBvbmVudHMvV2l6YXJkJ1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAY29tcG9uZW50cy9UZXh0RmllbGQnXG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCdcbmltcG9ydCB7IGRheWpzIH0gZnJvbSAnQGxpYi9kYXRlLXV0aWxzJ1xuXG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnXG5cbmltcG9ydCB7IElvSW9zQ2xvc2UsIH0gZnJvbSBcInJlYWN0LWljb25zL2lvXCJcblxuaW1wb3J0IHsgbGlzdFJlbWluZGVyc0ZvckV2ZW50IH0gZnJvbSAnQGxpYi9DYWxlbmRhci9SZW1pbmRlci9SZW1pbmRlckhlbHBlcidcbmltcG9ydCB7IFBpY2tlciB9IGZyb20gJ0ByZWFjdC1uYXRpdmUtcGlja2VyL3BpY2tlcidcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcblxuaW1wb3J0IEJveCBmcm9tICdAY29tcG9uZW50cy9jb21tb24vQm94J1xuaW1wb3J0IFRleHQgZnJvbSAnQGNvbXBvbmVudHMvY29tbW9uL1RleHQnXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0Bjb21wb25lbnRzL0J1dHRvbidcbmltcG9ydCB7IHBhbGV0dGUgfSBmcm9tICdAbGliL3RoZW1lL3RoZW1lJ1xuXG5pbXBvcnQgeyBDYXRlZ29yeVR5cGUgfSBmcm9tICdAbGliL2RhdGFUeXBlcy9DYXRlZ29yeVR5cGUnXG5pbXBvcnQgeyBDYWxlbmRhclR5cGUgfSBmcm9tICdAbGliL2RhdGFUeXBlcy9DYWxlbmRhclR5cGUnXG5pbXBvcnQgeyBsaXN0Q2F0ZWdvcmllc0ZvckV2ZW50LCBsaXN0VXNlckNhdGVnb3JpZXMgfSBmcm9tICdAbGliL0NhdGVnb3J5L0NhdGVnb3J5SGVscGVyJ1xuaW1wb3J0IHsgY3JlYXRlTmV3RXZlbnQgfSBmcm9tICdAbGliL0NhbGVuZGFyL1VzZXJDcmVhdGVDYWxlbmRhckhlbHBlcidcbmltcG9ydCB7IGVkaXRFdmVudEZvclRhc2sgfSBmcm9tICdAbGliL1Byb2dyZXNzL1RvZG8vVXNlclRhc2tIZWxwZXIyJ1xuaW1wb3J0IHsgQXBvbGxvQ2xpZW50LCBOb3JtYWxpemVkQ2FjaGVPYmplY3QgfSBmcm9tICdAYXBvbGxvL2NsaWVudCdcbmltcG9ydCB7IGdldEdsb2JhbFByaW1hcnlDYWxlbmRhckZ1bmN0aW9uIH0gZnJvbSAnQGxpYi9TY2hlZHVsZS9TY2hlZHVsZUhlbHBlcidcbmltcG9ydCB7IGdldEV2ZW50V2l0aElkIH0gZnJvbSAnQGxpYi9jYWxlbmRhckxpYi9jYWxlbmRhckRiSGVscGVyJ1xuaW1wb3J0IHsgdXNlQXBwQ29udGV4dCB9IGZyb20gJ0BsaWIvdXNlci1jb250ZXh0J1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgeyBUYXNrVHlwZSB9IGZyb20gJ0BsaWIvZGF0YVR5cGVzL1Rhc2tUeXBlJ1xuaW1wb3J0IHsgZ2V0VGFza0dpdmVuSWQsIHVwZGF0ZVRhc2tCeUlkSW5EYiB9IGZyb20gJ0BsaWIvUHJvZ3Jlc3MvVG9kby9Vc2VyVGFza0hlbHBlcjMnXG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgaW5wdXRGaWVsZDoge1xuICAgIGZvbnRTaXplOiAnMjFweCcsXG4gICAgbGluZUhlaWdodDogJzI4cHgnLFxuICAgIGNvbG9yOiAgJyMyMjFEMjMnLFxuICAgIGJvcmRlckNvbG9yOiBwYWxldHRlLnRleHRCbGFjayxcbiAgICBib3JkZXJXaWR0aDogMSxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogNDAsXG4gIH0sXG59XG5cbnR5cGUgdGFza1R5cGUgPSAnRGFpbHknfCdXZWVrbHknfCdNYXN0ZXInfCdHcm9jZXJ5J1xuXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgc3VwZXJ0b2tlbnNOb2RlIGZyb20gJ3N1cGVydG9rZW5zLW5vZGUnXG5pbXBvcnQgeyBiYWNrZW5kQ29uZmlnIH0gZnJvbSAnQGNvbmZpZy9iYWNrZW5kQ29uZmlnJ1xuaW1wb3J0IFNlc3Npb24gZnJvbSAnc3VwZXJ0b2tlbnMtbm9kZS9yZWNpcGUvc2Vzc2lvbidcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH06IHsgcmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UgfSkge1xuICAgIC8vIE5vdGljZSBob3cgdGhlIHNlcnZlciB1c2VzIGBBUElgIGZyb20gYHdpdGhTU1JDb250ZXh0YCwgaW5zdGVhZCBvZiB0aGUgdG9wLWxldmVsIGBBUElgLlxuICAgIC8vIGNvbnN0IFNTUiA9IHdpdGhTU1JDb250ZXh0KHsgcmVxIH0pXG4gICAgLy8gdGhpcyBydW5zIG9uIHRoZSBiYWNrZW5kLCBzbyB3ZSBtdXN0IGNhbGwgaW5pdCBvbiBzdXBlcnRva2Vucy1ub2RlIFNES1xuICAgIHN1cGVydG9rZW5zTm9kZS5pbml0KGJhY2tlbmRDb25maWcoKSlcbiAgICBsZXQgc2Vzc2lvblxuICAgIHRyeSB7XG4gICAgICAgIHNlc3Npb24gPSBhd2FpdCBTZXNzaW9uLmdldFNlc3Npb24ocmVxLCByZXMsIHtcbiAgICAgICAgICAgIG92ZXJyaWRlR2xvYmFsQ2xhaW1WYWxpZGF0b3JzOiBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAgIGlmIChlcnIudHlwZSA9PT0gU2Vzc2lvbi5FcnJvci5UUllfUkVGUkVTSF9UT0tFTikge1xuICAgICAgICAgICAgcmV0dXJuIHsgcHJvcHM6IHsgZnJvbVN1cGVydG9rZW5zOiAnbmVlZHMtcmVmcmVzaCcgfSB9XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyLnR5cGUgPT09IFNlc3Npb24uRXJyb3IuVU5BVVRIT1JJU0VEKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZm9yY2UgdGhlIGZyb250ZW5kIHRvIHRyeSBhbmQgcmVmcmVzaCB3aGljaCB3aWxsIGZhaWxcbiAgICAgICAgICAgIC8vIGNsZWFyaW5nIGFsbCBjb29raWVzIGFuZCByZWRpcmVjdGluZyB0aGUgdXNlciB0byB0aGUgbG9naW4gc2NyZWVuLlxuICAgICAgICAgICAgcmV0dXJuIHsgcHJvcHM6IHsgZnJvbVN1cGVydG9rZW5zOiAnbmVlZHMtcmVmcmVzaCcgfSB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyXG4gICAgfVxuXG4gICAgaWYgKCFzZXNzaW9uPy5nZXRVc2VySWQoKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVkaXJlY3Q6IHtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogJy9Vc2VyL0xvZ2luL1VzZXJMb2dpbicsXG4gICAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICBzdWI6IHNlc3Npb24uZ2V0VXNlcklkKCksXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIFVzZXJUYXNrRXZlbnQoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IHsgc3ViLCBjbGllbnQgfSA9IHVzZUFwcENvbnRleHQoKVxuXG4gIGNvbnN0IHRhc2tUeXBlID0gcm91dGVyLnF1ZXJ5Py50YXNrVHlwZSBhcyB0YXNrVHlwZVxuICBjb25zdCB0YXNrSWQgPSByb3V0ZXIucXVlcnk/LnRhc2tJZCBhcyBzdHJpbmdcbiAgY29uc3QgaXNVcGRhdGUgPSByb3V0ZXIucXVlcnk/LmlzVXBkYXRlIGFzIHN0cmluZ1xuXG4gIGNvbnN0IFthY3RpdmVJbmRleCwgc2V0QWN0aXZlSW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuICBjb25zdCBbY29tcGxldGVkU3RlcCwgc2V0Q29tcGxldGVkU3RlcF0gPSB1c2VTdGF0ZTxudW1iZXIgfCB1bmRlZmluZWQ+KClcbiAgY29uc3QgW3N0YXJ0RGF0ZSwgc2V0U3RhcnREYXRlXSA9IHVzZVN0YXRlPERhdGU+KGRheWpzKCkudG9EYXRlKCkpXG4gIGNvbnN0IFtkdXJhdGlvbiwgc2V0RHVyYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyPigzMClcbiAgY29uc3QgW3RhZ3MsIHNldFRhZ3NdID0gdXNlU3RhdGU8Q2F0ZWdvcnlUeXBlW10+KFtdKVxuICBjb25zdCBbYWxhcm1zLCBzZXRBbGFybXNdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKVxuICBjb25zdCBbY2FsZW5kYXIsIHNldENhbGVuZGFyXSA9IHVzZVN0YXRlPENhbGVuZGFyVHlwZT4oKVxuICBjb25zdCBbYWxhcm0sIHNldEFsYXJtXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcbiAgY29uc3QgW3NlbGVjdGVkVGFnLCBzZXRTZWxlY3RlZFRhZ10gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICBjb25zdCBbc2VsZWN0ZWRUYWdPYmplY3QsIHNldFNlbGVjdGVkVGFnT2JqZWN0XSA9IHVzZVN0YXRlPENhdGVnb3J5VHlwZT4obnVsbClcbiAgY29uc3QgW3NlbGVjdGVkVGFncywgc2V0U2VsZWN0ZWRUYWdzXSA9IHVzZVN0YXRlPENhdGVnb3J5VHlwZVtdPihbXSlcbiAgY29uc3QgW3Rhc2ssIHNldFRhc2tdID0gdXNlU3RhdGU8VGFza1R5cGU+KClcblxuICAvLyBjb25zdCBkYXJrID0gdXNlQ29sb3JTY2hlbWUoKSA9PT0gJ2RhcmsnXG4gIGNvbnN0IHVzZXJJZCA9IHN1YlxuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KClcblxuICAvLyBnZXQgdGFza1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghdGFza0lkIHx8ICFjbGllbnQpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9sZFRhc2sgPSBhd2FpdCBnZXRUYXNrR2l2ZW5JZChjbGllbnQsIHRhc2tJZClcbiAgICAgICAgc2V0VGFzayhvbGRUYXNrKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byBnZXQgdGFzayBieSBpZCcpXG4gICAgICB9XG4gICAgfSkoKVxuICB9LCBbY2xpZW50LCB0YXNrSWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCF1c2VySWQgfHwgIWNsaWVudCkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBsaXN0VXNlckNhdGVnb3JpZXMoY2xpZW50LCB1c2VySWQpXG4gICAgICAgIGlmICghcmVzdWx0cz8uWzBdPy5pZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCcgbm8gY2F0ZWdvcmllcyBhdmFpbGFibGUnKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHNldFRhZ3MocmVzdWx0cylcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byBnZXQgY2F0ZWdvcmllcycpXG4gICAgICB9XG4gICAgfSkoKVxuICB9LCBbY2xpZW50LCB1c2VySWRdKVxuXG4gICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRhc2sgfHwgIWNsaWVudCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHRhc2s/LmlkKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBsaXN0UmVtaW5kZXJzRm9yRXZlbnQoY2xpZW50LCB0YXNrPy5ldmVudElkKVxuICAgICAgICBpZiAoIXJlc3VsdHM/LlswXT8uaWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnIG5vIGFsYXJtcyBhdmFpbGFibGUnKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHNldEFsYXJtcyhyZXN1bHRzPy5tYXAociA9PiByLm1pbnV0ZXMpKVxuICAgICAgfVxuICAgICAgXG4gICAgfSkoKVxuICB9LCBbY2xpZW50LCB0YXNrLCB0YXNrPy5ldmVudElkLCB0YXNrPy5pZF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAoYXN5bmMgKCkgPT4geyAgXG4gICAgICBpZiAoIXVzZXJJZCB8fCAhY2xpZW50KSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0R2xvYmFsUHJpbWFyeUNhbGVuZGFyRnVuY3Rpb24oY2xpZW50LCB1c2VySWQpXG4gICAgICBpZiAoIXJlc3VsdD8uaWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJyBubyBwcmltYXJ5IGNhbGVuZGFyIGF2YWlsYWJsZScpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgc2V0Q2FsZW5kYXIocmVzdWx0KVxuICAgIH0pKClcbiAgfSwgW2NsaWVudCwgdXNlcklkXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRhc2sgfHwgIWNsaWVudCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHRhc2s/LmlkKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gYXdhaXQgZ2V0RXZlbnRXaXRoSWQoY2xpZW50LCB0YXNrPy5ldmVudElkKVxuICAgICAgICBpZiAoIWV2ZW50Py5pZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCcgbm8gZXZlbnQgYXZhaWxhYmxlJylcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHNldFN0YXJ0RGF0ZShkYXlqcyhldmVudC5zdGFydERhdGUpLnRvRGF0ZSgpKVxuICAgICAgICBzZXREdXJhdGlvbihldmVudC5kdXJhdGlvbiB8fCBkYXlqcyhldmVudC5lbmREYXRlKS5kaWZmKGRheWpzKGV2ZW50LnN0YXJ0RGF0ZSksICdtaW51dGVzJykpXG5cbiAgICAgICAgY29uc3QgbmV3U2VsZWN0ZWRUYWdzID0gYXdhaXQgbGlzdENhdGVnb3JpZXNGb3JFdmVudChjbGllbnQsIGV2ZW50LmlkKVxuICAgICAgICBpZiAobmV3U2VsZWN0ZWRUYWdzPy5bMF0/LmlkKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRUYWdzKG5ld1NlbGVjdGVkVGFncylcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBbGFybXMgPSBhd2FpdCBsaXN0UmVtaW5kZXJzRm9yRXZlbnQoY2xpZW50LCBldmVudC5pZClcbiAgICAgICAgaWYgKG5ld0FsYXJtcz8uWzBdPy5pZCkge1xuICAgICAgICAgIHNldEFsYXJtcyhuZXdBbGFybXM/Lm1hcChyID0+IHIubWludXRlcykpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSgpXG4gIH0sIFtjbGllbnQsIHRhc2ssIHRhc2s/LmV2ZW50SWQsIHRhc2s/LmlkXSlcblxuICBjb25zdCB1cGRhdGVUYXNrSW5EYiA9IGFzeW5jIChcbiAgICBldmVudElkPzogc3RyaW5nLFxuICApID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0YXNrSWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvVXBkYXRlVGFzayA9IF8uY2xvbmVEZWVwKHRhc2spXG5cbiAgICAgIC8vIHZhbGlkYXRlXG4gICAgICBpZiAoIXRvVXBkYXRlVGFzaykge1xuICAgICAgICBjb25zb2xlLmxvZygnbm8gdG9VcGRhdGVUYXNrIHByb3ZpZGVkIGluc2lkZSB1cGRhdGVUYXNraW5EYicpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRvVXBkYXRlVGFzay5ldmVudElkID0gZXZlbnRJZFxuICAgICAgfVxuXG4gICAgICBhd2FpdCB1cGRhdGVUYXNrQnlJZEluRGIoY2xpZW50LCB0b1VwZGF0ZVRhc2spXG5cbiAgICAgIHNldFRhc2sodG9VcGRhdGVUYXNrKVxuXG5cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byB1cGRhdGUgdGFzayBpbiBkYicpXG4gICAgfVxuICB9XG5cblxuICBjb25zdCBvblJlY2VpdmVDcmVhdGVFdmVudCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0YXNrPy5pZCkge1xuICAgICAgICBjb25zb2xlLmxvZygnbm8gdGFza0lkIHByZXNlbnQgaW5zaWRlIG9uUmVjZWl2ZUNyZWF0ZVRhc2tTY2hlZHVsZUluZm8nKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgZXZlbnRJZCA9IGF3YWl0IGNyZWF0ZU5ld0V2ZW50KFxuICAgICAgICBkYXlqcyhzdGFydERhdGUpLmZvcm1hdCgpLFxuICAgICAgICBkYXlqcyhzdGFydERhdGUpLmFkZChkdXJhdGlvbiwgJ21pbnV0ZScpLmZvcm1hdCgpLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAgY2FsZW5kYXI/LmlkLFxuICAgICAgICBzZWxlY3RlZFRhZ3MubWFwKHQgPT4gdC5pZCksXG4gICAgICAgIHRhc2subm90ZXMsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBhbGFybXMsXG4gICAgICAgIHRhc2subm90ZXMsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGRheWpzLnR6Lmd1ZXNzKCksXG4gICAgICAgIHRhc2suaWQsXG4gICAgICAgIHRhc2tUeXBlLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdGFzay5ub3RlcyxcbiAgICAgICAgJ29wYXF1ZScsXG4gICAgICAgICdwcml2YXRlJyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgY2FsZW5kYXI/LmNvbG9ySWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgc2VsZWN0ZWRUYWdzPy5bMF0/LmNvbG9yIHx8IGNhbGVuZGFyLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgY2FsZW5kYXIuZm9yZWdyb3VuZENvbG9yLFxuICAgICAgICBhbGFybXMubGVuZ3RoID09PSAwLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB0YXNrVHlwZSA9PT0gJ0RhaWx5JyxcbiAgICAgICAgdGFza1R5cGUgPT09ICdXZWVrbHknLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgJ3VwZGF0ZScsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICApXG5cbiAgICAgIGlmIChldmVudElkKSB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZVRhc2tJbkRiKGV2ZW50SWQpXG4gICAgICB9XG5cbiAgICAgIHRvYXN0KHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIHRpdGxlOiAnVGFzayBFdmVudCBDcmVhdGVkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUYXNrIGV2ZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgZHVyYXRpb246IDkwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KVxuICAgIFxuICAgICAgcm91dGVyLnB1c2goeyBwYXRobmFtZTogJy9Qcm9ncmVzcy9Ub2RvL1VzZXJUYXNrJywgcXVlcnk6IHtcbiAgICAgICAgdGFza1R5cGUsXG4gICAgICAgIGlzVXBkYXRlOiB1dWlkKCksXG4gICAgICB9fSlcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKGUsICcgdW5hYmxlIHRvIGNyZWF0ZSB0YXNrIGV2ZW50JylcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICB0aXRsZTogJ05vIGV2ZW50IGNyZWF0ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1dlIGFyZSBub3QgYWJsZSB0byBjcmVhdGUgdGhlIGV2ZW50IGZvciB0YXNrIGR1ZSB0byBhbiBpbnRlcm5hbCBlcnJvci4nLFxuICAgICAgICBkdXJhdGlvbjogOTAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pXG4gICAgICByb3V0ZXIucHVzaCh7IHBhdGhuYW1lOiAnL1Byb2dyZXNzL1RvZG8vVXNlclRhc2snLCBxdWVyeToge1xuICAgICAgICB0YXNrVHlwZSxcbiAgICAgICAgaXNVcGRhdGU6IHVuZGVmaW5lZCxcbiAgICAgIH19KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG9uUmVjZWl2ZVVwZGF0ZUV2ZW50ID0gYXN5bmMgKCApID0+IHtcbiAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyh0YXNrLCAnIHRhc2sgaW5zaWRlIG9uUmVjZWl2ZVVwZGF0ZUV2ZW50JylcbiAgICAgIGlmICghdGFzaz8uaWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ25vIHRhc2tJZCBwcmVzZW50IGluc2lkZSBvblJlY2VpdmVVcGRhdGVFdmVudCcpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRFdmVudCA9IGF3YWl0IGdldEV2ZW50V2l0aElkKGNsaWVudCwgdGFzay5ldmVudElkKVxuXG4gICAgICBpZiAoIW9sZEV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdubyBvbGRFdmVudCBwcmVzZW50IGluc2lkZSBvblJlY2VpdmVVcGRhdGVUYXNrU2NoZWR1bGVJbmZvJylcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkVGFncywgJyBzZWxlY3RlZFRhZ3MgaW5zaWRlIG9uUmVjZWl2ZVVwZGF0ZUV2ZW50JylcblxuICAgICAgYXdhaXQgZWRpdEV2ZW50Rm9yVGFzayhcbiAgICAgICAgdGFzaz8uZXZlbnRJZCxcbiAgICAgICAgZGF5anMoc3RhcnREYXRlKS5mb3JtYXQoKSxcbiAgICAgICAgZGF5anMoc3RhcnREYXRlKS5hZGQoZHVyYXRpb24sICdtaW51dGUnKS5mb3JtYXQoKSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBjbGllbnQsXG4gICAgICAgIGNhbGVuZGFyPy5pZCxcbiAgICAgICAgc2VsZWN0ZWRUYWdzLm1hcCh0ID0+IHQuaWQpLFxuICAgICAgICB0YXNrLm5vdGVzLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgYWxhcm1zLFxuICAgICAgICB0YXNrLm5vdGVzLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHRydWUsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBkYXlqcy50ei5ndWVzcygpLFxuICAgICAgICB0YXNrLmlkLFxuICAgICAgICB0YXNrVHlwZSxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRhc2subm90ZXMsXG4gICAgICAgICdvcGFxdWUnLFxuICAgICAgICAncHJpdmF0ZScsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGNhbGVuZGFyPy5jb2xvcklkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHNlbGVjdGVkVGFncz8uWzBdPy5jb2xvciB8fCBvbGRFdmVudD8uYmFja2dyb3VuZENvbG9yIHx8IGNhbGVuZGFyPy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGNhbGVuZGFyLmZvcmVncm91bmRDb2xvcixcbiAgICAgICAgYWxhcm1zLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdGFza1R5cGUgPT09ICdEYWlseScsXG4gICAgICAgIHRhc2tUeXBlID09PSAnV2Vla2x5JyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB0cnVlLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHRydWUsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHRydWUsXG4gICAgICAgICd1cGRhdGUnLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgKVxuXG4gICAgICBpZiAob2xkRXZlbnQ/LmlkKSB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZVRhc2tJbkRiKG9sZEV2ZW50Py5pZClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcm91dGVyLnB1c2goeyBwYXRobmFtZTogJy9Qcm9ncmVzcy9Ub2RvL1VzZXJUYXNrJywgcXVlcnk6IHtcbiAgICAgICAgdGFza1R5cGUsXG4gICAgICAgIGlzVXBkYXRlOiB1dWlkKCksXG4gICAgICB9fSlcbiAgIH0gY2F0Y2goZSkge1xuICAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byB1cGRhdGUgZGVhZGxpbmUnKVxuICAgICB0b2FzdCh7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgdGl0bGU6ICdVbmFibGUgdG8gdXBkYXRlJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdVbmFibGUgdG8gdXBkYXRlIGRlYWRsaW5lIGR1ZSB0byBhbiBpbnRlcm5hbCBlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiA5MDAwLFxuICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICB9KVxuICAgICByb3V0ZXIucHVzaCh7IHBhdGhuYW1lOiAnL1Byb2dyZXNzL1RvZG8vVXNlclRhc2snLCBxdWVyeToge1xuICAgICAgIHRhc2tUeXBlLFxuICAgICAgIGlzVXBkYXRlOiB1bmRlZmluZWQsXG4gICAgIH19KVxuICAgfVxuICB9XG5cbiAgY29uc3Qgb25BY3RpdmVJbmRleENoYW5nZWQgPSAoaW5kZXg6IG51bWJlcikgPT4gc2V0QWN0aXZlSW5kZXgoaW5kZXgpXG5cbiAgY29uc3QgZ29Ub1ByZXZTdGVwID0gKCkgPT4ge1xuICAgIGNvbnN0IHByZXZBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4XG4gICAgY29uc3QgbmV3QWN0aXZlSW5kZXggPSBwcmV2QWN0aXZlSW5kZXggPT09IDAgPyAwIDogcHJldkFjdGl2ZUluZGV4IC0gMVxuICAgIHNldEFjdGl2ZUluZGV4KG5ld0FjdGl2ZUluZGV4KVxuICB9XG5cbiAgY29uc3QgcmVuZGVyUHJldkJ1dHRvbiA9ICgpID0+IHtcbiAgICBpZiAoYWN0aXZlSW5kZXggPT09IDApIHtcbiAgICAgIHJldHVybiA8Qm94IHB0PXt7IHBob25lOiAnbScsIHRhYmxldDogJ3MnIH19Lz5cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgIDxCb3ggcHQ9e3sgcGhvbmU6ICdtJywgdGFibGV0OiAncycgfX0+XG4gICAgICA8QnV0dG9uIG9uQ2xpY2s9e2dvVG9QcmV2U3RlcH0+XG4gICAgICAgIEJhY2tcbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvQm94PlxuICApfVxuXG4gIGNvbnN0IGdvVG9OZXh0U3RlcCA9ICgpID0+IHtcbiAgICBjb25zdCBwcmV2QWN0aXZlSW5kZXggPSBhY3RpdmVJbmRleFxuICAgIGNvbnN0IHByZXZDb21wbGV0ZWRTdGVwID0gY29tcGxldGVkU3RlcFxuXG4gICAgaWYgKHByZXZBY3RpdmVJbmRleCA9PT0gMykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbmV3QWN0aXZlSW5kZXggPSBwcmV2QWN0aXZlSW5kZXggKyAxXG5cbiAgICBpZiAoIXByZXZDb21wbGV0ZWRTdGVwIHx8IChwcmV2Q29tcGxldGVkU3RlcCA8IHByZXZBY3RpdmVJbmRleCkpIHtcbiAgICAgIGNvbnN0IG5ld0NvbXBsZXRlZFN0ZXAgPSBwcmV2QWN0aXZlSW5kZXhcbiAgICAgIHNldENvbXBsZXRlZFN0ZXAobmV3Q29tcGxldGVkU3RlcClcbiAgICB9XG5cbiAgICBpZiAobmV3QWN0aXZlSW5kZXggIT09IHByZXZBY3RpdmVJbmRleCkge1xuICAgICAgc2V0QWN0aXZlSW5kZXgobmV3QWN0aXZlSW5kZXgpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyTmV4dEJ1dHRvbiA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPEJveCBwdD17eyBwaG9uZTogJ20nLCB0YWJsZXQ6ICdzJyB9fT5cbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtnb1RvTmV4dFN0ZXB9PlxuICAgICAgICAgIE5leHRcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L0JveD5cbiAgICApXG4gIH1cblxuICBjb25zdCBhZGRBbGFybSA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdBbGFybXMgPSBfLnVuaXFXaXRoKGFsYXJtcy5jb25jYXQoW2FsYXJtXSksIF8uaXNFcXVhbClcbiAgICBzZXRBbGFybXMobmV3QWxhcm1zKVxuICAgIHNldEFsYXJtKDApXG4gIH1cblxuICBjb25zdCByZW1vdmVBbGFybSA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgbmV3QWxhcm1zID0gYWxhcm1zLnNsaWNlKDAsIGluZGV4KVxuICAgICAgLmNvbmNhdChhbGFybXMuc2xpY2UoaW5kZXggKyAxKSlcblxuICAgIHNldEFsYXJtcyhuZXdBbGFybXMpXG4gIH1cblxuICBjb25zdCBjaGFuZ2VTZWxlY3RlZFRhZyA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRUYWcodmFsdWUpXG4gICAgc2V0U2VsZWN0ZWRUYWdPYmplY3QodGFncy5maW5kKHRhZyA9PiB0YWcubmFtZSA9PT0gdmFsdWUpKVxuICB9XG5cbiAgY29uc3QgYWRkVGFnVG9UYWdzID0gKCkgPT4ge1xuICAgIGNvbnN0IG5ld0NhdGVnb3JpZXMgPSBfLnVuaXFXaXRoKHNlbGVjdGVkVGFncy5jb25jYXQoW3NlbGVjdGVkVGFnT2JqZWN0XSksIF8uaXNFcXVhbClcbiAgICBzZXRTZWxlY3RlZFRhZ3MobmV3Q2F0ZWdvcmllcylcbiAgICBzZXRTZWxlY3RlZFRhZygnJylcbiAgICBzZXRTZWxlY3RlZFRhZ09iamVjdCh1bmRlZmluZWQpXG4gIH1cblxuICBjb25zdCByZW1vdmVUYWdGcm9tVGFncyA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgbmV3Q2F0ZWdvcmllcyA9IHNlbGVjdGVkVGFncy5zbGljZSgwLCBpbmRleClcbiAgICAgIC5jb25jYXQoc2VsZWN0ZWRUYWdzLnNsaWNlKGluZGV4ICsgMSkpXG5cbiAgICBzZXRTZWxlY3RlZFRhZ3MobmV3Q2F0ZWdvcmllcylcbiAgfVxuXG4gIGNvbnN0IG9uU3VibWl0UHJlc3MgPSAoKSA9PiB7XG4gICAgdHJ5IHtcblxuXG4gICAgICByZXR1cm4gaXNVcGRhdGVcbiAgICAgICAgPyBvblJlY2VpdmVVcGRhdGVFdmVudCgpXG4gICAgICAgIDogb25SZWNlaXZlQ3JlYXRlRXZlbnQoKVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5sb2coZSwgJyB1bmFibGUgdG8gc3VibWl0IHByZXNzIGluc2lkZSBVc2VyVGFza0V2ZW50JylcbiAgICB9XG4gIH1cblxuICBjb25zdCByZW5kZXJDdXJyZW50U3RlcCA9ICgpID0+IHtcbiAgICBzd2l0Y2goYWN0aXZlSW5kZXgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wganVzdGl5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxUZXh0IHRleHRBbGlnbj1cImNlbnRlclwiIHZhcmlhbnQ9XCJzdWJoZWFkZXJcIiBwdD17eyBwaG9uZTogJ20nLCB0YWJsZXQ6ICdzJyB9fT5cbiAgICAgICAgICAgICAgQWRkIGEgdGFzayBwZXJpb2RcbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgIDxCb3ggZmxleD17MX0ganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgbWluSGVpZ2h0PVwiNjB2aFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtc3RhcnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPFRleHQgdmFyaWFudD1cIm9wdGlvbkhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgYSBzdGFydCBkYXRlIGZvciB0YXNrXG4gICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgRGF0ZSBhbmQgVGltZVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJtZFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRldGltZS1sb2NhbFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U3RhcnREYXRlKGRheWpzKGU/LnRhcmdldD8udmFsdWUsIFwiWVlZWS1NTS1ERFRISDptbVwiKS50b0RhdGUoKSl9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtkYXlqcyhzdGFydERhdGUpLmZvcm1hdChcIllZWVktTU0tRERUSEg6bW1cIil9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkR1cmF0aW9uIChtaW51dGVzKVwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IHsgdGFyZ2V0OiB7IHZhbHVlOiBzdHJpbmcgfSB9KSA9PiBzZXREdXJhdGlvbihwYXJzZUludChlPy50YXJnZXQ/LnZhbHVlLnJlcGxhY2UoL1teMC05Ll0vZywgJycpLCAxMCkpfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YCR7ZHVyYXRpb259YH1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIxXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgLi4uKHN0eWxlcz8uaW5wdXRGaWVsZCl9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiIHdpZHRoPVwiMTAwJVwiPlxuICAgICAgICAgICAgICA8Qm94IC8+XG4gICAgICAgICAgICAgIHtyZW5kZXJOZXh0QnV0dG9uKCl9XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Qm94IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCI+XG4gICAgICAgICAgICA8Qm94IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICA8VGV4dCB2YXJpYW50PVwic3ViaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgUmVtaW5kZXJzXG4gICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPEJveCBmbGV4PXsxfSBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBtaW5IZWlnaHQ9XCI2MHZoXCIgPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPEZsYXRMaXN0XG4gICAgICAgICAgICAgICAgZGF0YT17YWxhcm1zfVxuICAgICAgICAgICAgICAgIHJlbmRlckl0ZW09eyh7IGl0ZW0sIGluZGV4IH0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYXJvdW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IHZhcmlhbnQ9XCJvcHRpb25IZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7YCR7aXRlbX0gbWludXRlcyBiZWZvcmVgfVxuICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgIDxQcmVzc2FibGUgaGl0U2xvcD17MTV9IG9uUHJlc3M9eygpID0+IHJlbW92ZUFsYXJtKGluZGV4KX0+XG4gICAgICAgICAgICAgICAgICAgICAgPElvSW9zQ2xvc2Ugc2l6ZT1cIjNlbVwiIGNvbG9yPXtwYWxldHRlLnJlZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9QcmVzc2FibGU+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIGtleUV4dHJhY3Rvcj17KGl0ZW0sIGluZGV4KSA9PiBgJHtpdGVtfS0ke2luZGV4fWB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlOiB7IHRhcmdldDogeyB2YWx1ZTogc3RyaW5nIH0gfSkgPT4gc2V0QWxhcm0ocGFyc2VJbnQoZT8udGFyZ2V0Py52YWx1ZS5yZXBsYWNlKC9bXjAtOS5dL2csICcnKSwgMTApKX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtgJHthbGFybX1gfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwXCJcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtM1wiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXthZGRBbGFybX0+XG4gICAgICAgICAgICAgICAgICAgIEFkZFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPEJveCAgZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiPlxuICAgICAgICAgICAgICB7cmVuZGVyUHJldkJ1dHRvbigpfVxuICAgICAgICAgICAgICB7cmVuZGVyTmV4dEJ1dHRvbigpfVxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgIClcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8Qm94IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgPEJveCBtPXt7IHBob25lOiAncycsIHRhYmxldDogJ20nfX0ganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxUZXh0IHZhcmlhbnQ9XCJzdWJoZWFkZXJcIj5cbiAgICAgICAgICAgICAgICBBZGQgdGFncyB0byB0aGlzIGV2ZW50XG4gICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPEJveCBmbGV4PXsxfSBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBtaW5IZWlnaHQ9XCI2MHZoXCI+XG4gICAgICAgICAgICAgIDxGbGF0TGlzdFxuICAgICAgICAgICAgICAgICAgZGF0YT17c2VsZWN0ZWRUYWdzfVxuICAgICAgICAgICAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSwgaW5kZXggfSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdmFyaWFudD1cIm9wdGlvbkhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJlc3NhYmxlIGhpdFNsb3A9ezE1fSBvblByZXNzPXsoKSA9PiByZW1vdmVUYWdGcm9tVGFncyhpbmRleCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElvSW9zQ2xvc2Ugc2l6ZT1cIjNlbVwiIGNvbG9yPXtwYWxldHRlLnJlZH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9QcmVzc2FibGU+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAga2V5RXh0cmFjdG9yPXsoaXRlbSkgPT4gaXRlbS5pZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgICAgICAgICAgPEJveCBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJmbGV4LXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxQaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmFsdWU9e3NlbGVjdGVkVGFnfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25WYWx1ZUNoYW5nZT17Y2hhbmdlU2VsZWN0ZWRUYWd9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogcGFsZXR0ZS50ZXh0QmxhY2sgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3RhZ3MubWFwKChjYXRlZ29yeSkgPT4gKCAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQaWNrZXIuSXRlbSBjb2xvcj17cGFsZXR0ZS50ZXh0QmxhY2t9IGtleT17Y2F0ZWdvcnkuaWR9IHZhbHVlPXtjYXRlZ29yeS5uYW1lfSBsYWJlbD17Y2F0ZWdvcnkubmFtZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L1BpY2tlcj5cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17YWRkVGFnVG9UYWdzfT5cbiAgICAgICAgICAgICAgICAgICAgICBBZGRcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPEJveCBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgd2lkdGg9XCIxMDAlXCI+XG4gICAgICAgICAgICAgIHtyZW5kZXJQcmV2QnV0dG9uKCl9XG4gICAgICAgICAgICAgIHtyZW5kZXJOZXh0QnV0dG9uKCl9XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgKVxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8Qm94IGZsZXg9ezF9IGp1c3RpZnlDb250ZW50PVwic3BhY2UtYXJvdW5kXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiIG1pbkhlaWdodD1cIjYwdmhcIj5cbiAgICAgICAgICAgICAgPFRleHQgdmFyaWFudD1cInN1YmhlYWRlclwiIHB0PXt7IHBob25lOiAnbScsIHRhYmxldDogJ3MnIH19PlxuICAgICAgICAgICAgICAgIHtpc1VwZGF0ZSA/IFwiVXBkYXRlIHRoZSBldmVudD9cIiA6IFwiQ3JlYXRlIHRoZSBldmVudD9cIn1cbiAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICA8Qm94IHA9e3sgcGhvbmU6ICdzJywgdGFibGV0OiAnbScgfX0+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtvblN1Ym1pdFByZXNzfT5cbiAgICAgICAgICAgICAgICAgIHtpc1VwZGF0ZSA/IFwiVXBkYXRlIEV2ZW50XCIgOiBcIkNyZWF0ZSBFdmVudFwifVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPEJveCBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJmbGV4LXN0YXJ0XCIgd2lkdGg9XCIxMDAlXCI+XG4gICAgICAgICAgICAgIHtyZW5kZXJQcmV2QnV0dG9uKCl9XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbiAgfVxuXG5cbiAgcmV0dXJuIChcbiAgICA8Qm94IGZsZXg9ezF9PlxuICAgICAgPFdpemFyZFxuICAgICAgICBpdGVtcz17W1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnQWRkIGEgUGVyaW9kJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IDEsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBZGQgRXZlbnQgQWxhcm1zJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IDIsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBZGQgVGFncycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleDogMyxcbiAgICAgICAgICAgICAgICBsYWJlbDogaXNVcGRhdGUgPyBcIlVwZGF0ZSB0aGUgZXZlbnQ/XCIgOiBcIkNyZWF0ZSB0aGUgZXZlbnQ/XCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdfVxuXG4gICAgICAgIGNvbXBsZXRlZD17Y29tcGxldGVkU3RlcH1cbiAgICAgICAgYWN0aXZlSW5kZXg9e2FjdGl2ZUluZGV4fVxuICAgICAgLz5cbiAgICAgIHtyZW5kZXJDdXJyZW50U3RlcCgpfVxuICAgIDwvQm94PlxuICApXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlclRhc2tFdmVudFxuIl19