"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getServerSideProps = getServerSideProps;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const Wizard_1 = __importDefault(require("@components/Wizard"));
const react_2 = require("@chakra-ui/react");
const date_utils_1 = require("@lib/date-utils");
const Box_1 = __importDefault(require("@components/common/Box"));
const Button_1 = __importDefault(require("@components/Button"));
const Text_1 = __importDefault(require("@components/common/Text"));
const RegularCard_1 = __importDefault(require("@components/RegularCard"));
const UserMeetingAssistHelper_1 = require("@lib/Assist/UserMeetingAssistHelper");
const getGlobalPrimaryCalendar_1 = __importDefault(require("@lib/apollo/gql/getGlobalPrimaryCalendar"));
const zoomMeetingHelper_1 = require("@lib/zoom/zoomMeetingHelper");
const EditMeetingAssistBaseStep_1 = __importDefault(require("@pages/Assist/EditMeetingAssistWizard/EditMeetingAssistBaseStep"));
const EditMeetingAssistVirtualMeet_1 = __importDefault(require("@pages/Assist/EditMeetingAssistWizard/EditMeetingAssistVirtualMeet"));
const EditMeetingAssistBaseStep3_1 = __importDefault(require("@pages/Assist/EditMeetingAssistWizard/EditMeetingAssistBaseStep3"));
const EditMeetingAssistAlarms_1 = __importDefault(require("./EditMeetingAssistWizard/EditMeetingAssistAlarms"));
const EditMeetingAssistBaseStep5_1 = __importDefault(require("./EditMeetingAssistWizard/EditMeetingAssistBaseStep5"));
const EditMeetingAssistBaseStep6_1 = __importDefault(require("./EditMeetingAssistWizard/EditMeetingAssistBaseStep6"));
const EditMeetingAssistBaseStep7_1 = __importDefault(require("./EditMeetingAssistWizard/EditMeetingAssistBaseStep7"));
const EditMeetingAssistInvitees_1 = __importDefault(require("./EditMeetingAssistWizard/EditMeetingAssistInvitees"));
const EditMeetingAssistRecurStepAlt_1 = __importDefault(require("./EditMeetingAssistWizard/EditMeetingAssistRecurStepAlt"));
const googleCalendarHelper_1 = require("@lib/calendarLib/googleCalendarHelper");
const router_1 = require("next/router");
const user_context_1 = require("@lib/user-context");
const supertokens_node_1 = __importDefault(require("supertokens-node"));
const backendConfig_1 = require("../../config/backendConfig");
const session_1 = __importDefault(require("supertokens-node/recipe/session"));
async function getServerSideProps({ req, res }) {
    // Notice how the server uses `API` from `withSSRContext`, instead of the top-level `API`.
    // const SSR = withSSRContext({ req })
    // this runs on the backend, so we must call init on supertokens-node SDK
    supertokens_node_1.default.init((0, backendConfig_1.backendConfig)());
    let session;
    try {
        session = await session_1.default.getSession(req, res, {
            overrideGlobalClaimValidators: async function () {
                return [];
            },
        });
    }
    catch (err) {
        if (err.type === session_1.default.Error.TRY_REFRESH_TOKEN) {
            return { props: { fromSupertokens: 'needs-refresh' } };
        }
        else if (err.type === session_1.default.Error.UNAUTHORISED) {
            // this will force the frontend to try and refresh which will fail
            // clearing all cookies and redirecting the user to the login screen.
            return { props: { fromSupertokens: 'needs-refresh' } };
        }
        throw err;
    }
    if (!session?.getUserId()) {
        return {
            redirect: {
                destination: '/User/Login/UserLogin',
                permanent: false,
            },
        };
    }
    return {
        props: {
            sub: session.getUserId(),
        }
    };
}
function UserEditMeetingAssist() {
    const [notes, setNotes] = (0, react_1.useState)('');
    const [summary, setSummary] = (0, react_1.useState)('');
    const [windowStartDate, setWindowStartDate] = (0, react_1.useState)(new Date());
    const [windowEndDate, setWindowEndDate] = (0, react_1.useState)(new Date());
    const [location, setLocation] = (0, react_1.useState)('');
    const [isZoomAvailable, setIsZoomAvailable] = (0, react_1.useState)(false);
    const [isGoogleMeetAvailable, setIsGoogleMeetAvailable] = (0, react_1.useState)(false);
    const [zoomMeet, setZoomMeet] = (0, react_1.useState)(false);
    const [googleMeet, setGoogleMeet] = (0, react_1.useState)(false);
    const [sendUpdates, setSendUpdates] = (0, react_1.useState)('all');
    const [guestsCanInviteOthers, setGuestsCanInviteOthers] = (0, react_1.useState)(true);
    const [transparency, setTransparency] = (0, react_1.useState)('opaque');
    const [visibility, setVisibility] = (0, react_1.useState)('default');
    const [useDefaultAlarms, setUseDefaultAlarms] = (0, react_1.useState)(true);
    const [alarms, setAlarms] = (0, react_1.useState)([]);
    const [cancelIfAnyRefuse, setCancelIfAnyRefuse] = (0, react_1.useState)(false);
    const [enableAttendeePreferences, setEnableAttendeePreferences] = (0, react_1.useState)(true);
    const [attendeeCanModify, setAttendeeCanModify] = (0, react_1.useState)(false);
    const [expireDate, setExpireDate] = (0, react_1.useState)(new Date());
    const [duration, setDuration] = (0, react_1.useState)(30);
    const [enableConference, setEnableConference] = (0, react_1.useState)(false);
    const [conferenceApp, setConferenceApp] = (0, react_1.useState)('google');
    const [isBufferTime, setIsBufferTime] = (0, react_1.useState)(false);
    const [beforeEventMinutes, setBeforeEventMinutes] = (0, react_1.useState)(0);
    const [afterEventMinutes, setAfterEventMinutes] = (0, react_1.useState)(0);
    const [anyoneCanAddSelf, setAnyoneCanAddSelf] = (0, react_1.useState)(true);
    const [guestsCanSeeOtherGuests, setGuestsCanSeeOtherGuests] = (0, react_1.useState)(true);
    const [minThresholdCount, setMinThresholdCount] = (0, react_1.useState)(2);
    const [guaranteeAvailability, setGuaranteeAvailability] = (0, react_1.useState)(false);
    const [isRecurring, setIsRecurring] = (0, react_1.useState)(false);
    const [frequency, setFrequency] = (0, react_1.useState)('weekly');
    const [interval, setInterval] = (0, react_1.useState)(1); // every 1, 2... weeks 
    const [until, setUntil] = (0, react_1.useState)(new Date());
    // const [selectedCalendarId, setSelectedCalendarId] = useState<string>()
    const [calendar, setCalendar] = (0, react_1.useState)();
    const [searchName, setSearchName] = (0, react_1.useState)('');
    const [contactResults, setContactResults] = (0, react_1.useState)();
    const [invitees, setInvitees] = (0, react_1.useState)([]);
    const [activeIndex, setActiveIndex] = (0, react_1.useState)(0);
    const [completedStep, setCompletedStep] = (0, react_1.useState)();
    const [hostName, setHostName] = (0, react_1.useState)('');
    const [user, setUser] = (0, react_1.useState)();
    const [meetingAssist, setMeetingAssist] = (0, react_1.useState)();
    const [cancel, setCancel] = (0, react_1.useState)(false);
    const [lockAfter, setLockAfter] = (0, react_1.useState)(false);
    const router = (0, router_1.useRouter)();
    const meetingId = router?.query?.meetingId;
    console.log(meetingId, ' meetingId');
    // const client = props?.client
    // const userId = props?.sub
    const { sub, client } = (0, user_context_1.useAppContext)();
    const userId = sub;
    const toast = (0, react_2.useToast)();
    // get meeting assist
    (0, react_1.useEffect)(() => {
        (async () => {
            try {
                if (!meetingId) {
                    return;
                }
                const oldMeetingAssist = await (0, UserMeetingAssistHelper_1.getMeetingAssistGivenId)(client, meetingId);
                if (!oldMeetingAssist?.id) {
                    toast({
                        status: 'error',
                        title: 'No Meeting Assist found',
                        description: 'Seems like there is no Meeting Assist found. Let us know.',
                        duration: 9000,
                        isClosable: true,
                    });
                    return;
                }
                setMeetingAssist(oldMeetingAssist);
                setNotes(oldMeetingAssist?.notes || '');
                setSummary(oldMeetingAssist?.summary || '');
                setWindowStartDate((0, date_utils_1.dayjs)(oldMeetingAssist?.windowStartDate).toDate());
                setWindowEndDate((0, date_utils_1.dayjs)(oldMeetingAssist?.windowEndDate).toDate());
                setLocation(oldMeetingAssist?.location?.title || '');
                setZoomMeet(oldMeetingAssist?.conferenceApp === 'zoom');
                setGoogleMeet(oldMeetingAssist?.conferenceApp === 'google');
                setSendUpdates(oldMeetingAssist?.sendUpdates);
                setGuestsCanInviteOthers(oldMeetingAssist?.guestsCanInviteOthers || false);
                setTransparency(oldMeetingAssist?.transparency || 'opaque');
                setVisibility(oldMeetingAssist?.visibility || 'default');
                if (oldMeetingAssist?.useDefaultAlarms !== undefined) {
                    setUseDefaultAlarms(oldMeetingAssist?.useDefaultAlarms);
                }
                if (oldMeetingAssist?.reminders && oldMeetingAssist?.reminders?.length > 0) {
                    setAlarms(oldMeetingAssist?.reminders);
                }
                if (oldMeetingAssist?.cancelIfAnyRefuse !== undefined) {
                    setCancelIfAnyRefuse(oldMeetingAssist?.cancelIfAnyRefuse);
                }
                if (oldMeetingAssist?.enableAttendeePreferences !== undefined) {
                    setEnableAttendeePreferences(oldMeetingAssist?.enableAttendeePreferences);
                }
                if (oldMeetingAssist?.attendeeCanModify !== undefined) {
                    setAttendeeCanModify(oldMeetingAssist?.attendeeCanModify);
                }
                setExpireDate((0, date_utils_1.dayjs)(oldMeetingAssist?.expireDate).toDate());
                if (oldMeetingAssist?.duration !== undefined) {
                    setDuration(oldMeetingAssist?.duration);
                }
                if (oldMeetingAssist?.enableConference !== undefined) {
                    setEnableConference(oldMeetingAssist?.enableConference);
                }
                if (oldMeetingAssist?.conferenceApp !== undefined) {
                    setConferenceApp(oldMeetingAssist?.conferenceApp);
                }
                setIsBufferTime(!!(oldMeetingAssist?.bufferTime));
                if (oldMeetingAssist?.bufferTime?.beforeEvent !== undefined) {
                    setBeforeEventMinutes(oldMeetingAssist?.bufferTime?.beforeEvent);
                }
                if (oldMeetingAssist?.bufferTime?.afterEvent !== undefined) {
                    setAfterEventMinutes(oldMeetingAssist?.bufferTime?.afterEvent);
                }
                if (oldMeetingAssist?.anyoneCanAddSelf !== undefined) {
                    setAnyoneCanAddSelf(oldMeetingAssist?.anyoneCanAddSelf);
                }
                if (oldMeetingAssist?.guestsCanSeeOtherGuests !== undefined) {
                    setGuestsCanSeeOtherGuests(oldMeetingAssist?.guestsCanSeeOtherGuests);
                }
                if (oldMeetingAssist?.minThresholdCount !== undefined) {
                    setMinThresholdCount(oldMeetingAssist?.minThresholdCount);
                }
                if (oldMeetingAssist?.guaranteeAvailability !== undefined) {
                    setGuaranteeAvailability(oldMeetingAssist?.guaranteeAvailability);
                }
                setIsRecurring(!!(oldMeetingAssist?.until));
                if (oldMeetingAssist?.frequency !== undefined) {
                    setFrequency(oldMeetingAssist?.frequency);
                }
                if (oldMeetingAssist?.interval !== undefined) {
                    setInterval(oldMeetingAssist?.interval);
                }
                setUntil((0, date_utils_1.dayjs)(oldMeetingAssist?.until).toDate());
                if (oldMeetingAssist?.lockAfter) {
                    setLockAfter(oldMeetingAssist?.lockAfter);
                }
            }
            catch (e) {
                console.log(e, ' unable to get meeting assist');
            }
        })();
    }, [client, meetingId, toast]);
    // check if zoom available
    (0, react_1.useEffect)(() => {
        (async () => {
            if (!userId || !client) {
                return;
            }
            const isAvailable = await (0, zoomMeetingHelper_1.zoomAvailable)(client, userId);
            if (isAvailable) {
                setIsZoomAvailable(true);
            }
        })();
    }, [client, userId]);
    // check if google available
    (0, react_1.useEffect)(() => {
        (async () => {
            if (!userId || !client) {
                return;
            }
            const isAvailable = await (0, googleCalendarHelper_1.googleMeetAvailable)(client, userId);
            if (isAvailable) {
                setIsGoogleMeetAvailable(isAvailable);
            }
        })();
    }, [client, userId]);
    // get global primary calendar
    (0, react_1.useEffect)(() => {
        (async () => {
            if (!userId || !client) {
                return;
            }
            const result = (await client.query({
                query: getGlobalPrimaryCalendar_1.default,
                variables: {
                    userId,
                },
            })).data?.Calendar?.[0];
            if (!result?.id) {
                console.log(' no primary calendar available');
                return;
            }
            // setSelectedCalendarId(result?.id)
            setCalendar(result);
        })();
    }, [client, userId]);
    // get user and update if necessary
    (0, react_1.useEffect)(() => {
        (async () => {
            try {
                const oldUser = await (0, UserMeetingAssistHelper_1.getUserGivenId)(client, userId);
                setUser(oldUser);
                if (oldUser?.name) {
                    setHostName(oldUser?.name);
                }
            }
            catch (e) {
                console.log(e, ' unable to get user');
            }
        })();
    }, [client, userId]);
    // list meeting assist invitees
    (0, react_1.useEffect)(() => {
        (async () => {
            try {
                const oldMeetingAssistInvites = await (0, UserMeetingAssistHelper_1.listMeetingAssistInvitesGivenMeetingId)(client, meetingId);
                if (oldMeetingAssistInvites && oldMeetingAssistInvites?.length > 0) {
                    setInvitees(oldMeetingAssistInvites);
                }
            }
            catch (e) {
                console.log(e, ' unable to list meeting assist invites');
            }
        })();
    }, [client, meetingId, userId]);
    const editMeetingAssistInvitees = async () => {
        try {
            if (invitees?.length > 0) {
                await (0, UserMeetingAssistHelper_1.upsertMeetingAssistInviteMany)(client, invitees);
            }
        }
        catch (e) {
            console.log(e, ' unable to edit meeting assist');
        }
    };
    const editMeetingAssist = async () => {
        try {
            const newMeetingAssist = {
                id: meetingId,
                userId,
                summary,
                notes,
                windowStartDate: (0, date_utils_1.dayjs)(windowStartDate).format(),
                windowEndDate: (0, date_utils_1.dayjs)(windowEndDate).format(),
                timezone: date_utils_1.dayjs.tz.guess(),
                location: { title: location || '' },
                priority: 1,
                enableConference,
                conferenceApp,
                sendUpdates,
                guestsCanInviteOthers,
                transparency,
                visibility,
                createdDate: (0, date_utils_1.dayjs)().format(),
                updatedAt: (0, date_utils_1.dayjs)().format(),
                useDefaultAlarms,
                reminders: alarms,
                cancelIfAnyRefuse,
                enableAttendeePreferences,
                attendeeCanModify,
                expireDate: (0, date_utils_1.dayjs)(expireDate).format(),
                duration,
                calendarId: calendar?.id || '',
                bufferTime: isBufferTime ? {
                    beforeEvent: beforeEventMinutes,
                    afterEvent: afterEventMinutes,
                } : undefined,
                anyoneCanAddSelf,
                guestsCanSeeOtherGuests,
                minThresholdCount,
                attendeeRespondedCount: meetingAssist?.attendeeRespondedCount || 0,
                attendeeCount: meetingAssist?.attendeeCount,
                cancelled: cancel,
                frequency,
                interval,
                until: (0, date_utils_1.dayjs)(until).format(),
                originalMeetingId: isRecurring ? meetingId : undefined,
                lockAfter,
            };
            console.log(newMeetingAssist, ' meetingAssist before update');
            await (0, UserMeetingAssistHelper_1.upsertMeetingAssistOne)(client, newMeetingAssist);
            await editMeetingAssistInvitees();
            if (cancel) {
                if (invitees?.length > 0) {
                    const cancelRecipients = (0, UserMeetingAssistHelper_1.convertInviteeTypeToCancelEmailRecipients)(invitees);
                    const filteredInviteeEmails = cancelRecipients?.filter(i => !!(i?.email));
                    if (filteredInviteeEmails?.length > 0) {
                        await (0, UserMeetingAssistHelper_1.sendBulkMeetingCancelEmail)(filteredInviteeEmails, user?.email || '', hostName || user?.name || '');
                    }
                }
            }
            if (hostName && (user?.name !== hostName)) {
                await (0, UserMeetingAssistHelper_1.updateUserNameGivenId)(client, userId, hostName);
            }
            toast({
                status: 'success',
                title: 'Meeting Assist Edited',
                description: 'Meeting Assist edited successfully',
                duration: 9000,
                isClosable: true,
            });
            router.push('/Assist/UserListMeetingAssists');
        }
        catch (e) {
            console.log(e, ' unable ot edit single meeting assist inside usereditmeetingassist');
        }
    };
    // const onActiveIndexChanged = (index: number) => setActiveIndex(index)
    const goToPrevStep = () => {
        const prevActiveIndex = activeIndex;
        const newActiveIndex = prevActiveIndex === 0 ? 0 : prevActiveIndex - 1;
        if ((activeIndex === 8) && !isRecurring) {
            return setActiveIndex(6);
        }
        setActiveIndex(newActiveIndex);
    };
    const renderPrevButton = () => {
        if (activeIndex === 0) {
            return (0, jsx_runtime_1.jsx)(Box_1.default, { pt: { phone: 'm', tablet: 's' } });
        }
        return ((0, jsx_runtime_1.jsx)(Box_1.default, { p: { phone: 's', tablet: 'm' }, children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: goToPrevStep, children: "Back" }) }));
    };
    const goToNextStep = () => {
        const prevActiveIndex = activeIndex;
        const prevCompletedStep = completedStep;
        /**
         * 0 - EditMeetingAssistBaseStep
         * 1 - EditMeetingAssistVirtualMeet
         * 2 - EditMeetingAssistBaseStep3
         * 3 - EditMeetingAssistAlarms
         * 4 - EditMeetingAssistBaseStep5
         * 5 - EditMeetingAssistBaseStep6
         * 6 - EditMeetingAssistBaseStep7
         * 7 - EditMeetingAssistRecurStepAlt
         * 8 - EditMeetingAssistInvitees
         */
        if (!isRecurring) {
            let newActiveIndex = prevActiveIndex + 1;
            if (prevActiveIndex === 6) {
                newActiveIndex = 8;
            }
            // validate invitees list
            if (prevActiveIndex === 8) {
                if (invitees?.length === 0) {
                    toast({
                        status: 'info',
                        title: 'No invitees added',
                        description: 'Please add at least one invitee in order to add your meeting',
                        duration: 9000,
                        isClosable: true,
                    });
                    newActiveIndex = 8;
                }
            }
            if (prevActiveIndex === 9) {
                return;
            }
            if (!prevCompletedStep || (prevCompletedStep < prevActiveIndex)) {
                const newCompletedStep = prevActiveIndex;
                setCompletedStep(newCompletedStep);
            }
            if (newActiveIndex !== prevActiveIndex) {
                return setActiveIndex(newActiveIndex);
            }
        }
        if (prevActiveIndex === 9) {
            return;
        }
        let newActiveIndex = prevActiveIndex + 1;
        // validate invitees list
        if (prevActiveIndex === 8) {
            if (invitees?.length === 0) {
                toast({
                    status: 'info',
                    title: 'No invitees added',
                    description: 'Please add at least one invitee in order to add your meeting',
                    duration: 9000,
                    isClosable: true,
                });
                newActiveIndex = 8;
            }
        }
        if (!prevCompletedStep || (prevCompletedStep < prevActiveIndex)) {
            const newCompletedStep = prevActiveIndex;
            setCompletedStep(newCompletedStep);
        }
        if (newActiveIndex !== prevActiveIndex) {
            setActiveIndex(newActiveIndex);
        }
    };
    const renderNextButton = () => {
        if (activeIndex === 10) {
            return (0, jsx_runtime_1.jsx)(Box_1.default, { pt: { phone: 'm', tablet: 's' } });
        }
        if ((activeIndex === 9) && (invitees?.length === 0)) {
            return (0, jsx_runtime_1.jsx)(Box_1.default, { pt: { phone: 'm', tablet: 's' } });
        }
        return ((0, jsx_runtime_1.jsx)(Box_1.default, { p: { phone: 's', tablet: 'm' }, children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: goToNextStep, children: "Next" }) }));
    };
    const renderSubmitButton = () => {
        return ((0, jsx_runtime_1.jsx)(Box_1.default, { pt: { phone: 'm', tablet: 'l' }, children: (0, jsx_runtime_1.jsx)(Button_1.default, { onClick: editMeetingAssist, children: "Submit" }) }));
    };
    const renderCurrentStep = () => {
        /**
         * 0 - EditMeetingAssistBaseStep
         * 1 - EditMeetingAssistVirtualMeet
         * 2 - EditMeetingAssistBaseStep3
         * 3 - EditMeetingAssistAlarms
         * 4 - EditMeetingAssistBaseStep5
         * 5 - EditMeetingAssistBaseStep6
         * 6 - EditMeetingAssistBaseStep7
         * 7 - EditMeetingAssistRecurStepAlt
         * 8 - EditMeetingAssistInvitees
         */
        switch (activeIndex) {
            case 0:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistBaseStep_1.default, { notes: notes, summary: summary, windowStartDate: windowStartDate, windowEndDate: windowEndDate, location: location, setParentNotes: setNotes, setParentSummary: setSummary, setParentWindowStartDate: setWindowStartDate, setParentWindowEndDate: setWindowEndDate, setParentLocation: setLocation, cancel: cancel, setParentCancel: setCancel }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [(0, jsx_runtime_1.jsx)(Box_1.default, {}), renderNextButton()] })] }));
            case 1:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistVirtualMeet_1.default, { isZoomAvailable: isZoomAvailable, isGoogleMeetAvailable: isGoogleMeetAvailable, zoomMeet: zoomMeet, googleMeet: googleMeet, enableConference: enableConference, setParentZoomMeet: setZoomMeet, setParentGoogleMeet: setGoogleMeet, setParentEnableConference: setEnableConference, setParentConferenceApp: setConferenceApp }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 2:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistBaseStep3_1.default, { sendUpdates: sendUpdates, guestsCanInviteOthers: guestsCanInviteOthers, transparency: transparency, visibility: visibility, hostName: hostName, setParentSendUpdates: setSendUpdates, setParentGuestsCanInviteOthers: setGuestsCanInviteOthers, setParentTransparency: setTransparency, setParentVisibility: setVisibility, setParentHostName: setHostName }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 3:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistAlarms_1.default, { useDefaultAlarms: useDefaultAlarms, alarms: alarms, setParentAlarms: setAlarms, setParentUseDefaultAlarms: setUseDefaultAlarms }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 4:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistBaseStep5_1.default, { cancelIfAnyRefuse: cancelIfAnyRefuse, enableAttendeePreferences: enableAttendeePreferences, attendeeCanModify: attendeeCanModify, expireDate: expireDate, duration: duration, setParentCancelIfAnyRefuse: setCancelIfAnyRefuse, setParentEnableAttendeePreferences: setEnableAttendeePreferences, setParentAttendeeCanModify: setAttendeeCanModify, setParentExpireDate: setExpireDate, setParentDuration: setDuration }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 5:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistBaseStep6_1.default, { isBufferTime: isBufferTime, beforeEventMinutes: beforeEventMinutes, afterEventMinutes: afterEventMinutes, setParentIsBufferTime: setIsBufferTime, setParentBeforeEventMinutes: setBeforeEventMinutes, setParentAfterEventMinutes: setAfterEventMinutes }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 6:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistBaseStep7_1.default, { anyoneCanAddSelf: anyoneCanAddSelf, guestsCanSeeOtherGuests: guestsCanSeeOtherGuests, minThresholdCount: minThresholdCount, guaranteeAvailability: guaranteeAvailability, isRecurring: isRecurring, lockAfter: lockAfter, setParentAnyoneCanAddSelf: setAnyoneCanAddSelf, setParentGuestsCanSeeOtherGuests: setGuestsCanSeeOtherGuests, setParentMinThresholdCount: setMinThresholdCount, setParentGuaranteeAvailability: setGuaranteeAvailability, setParentIsRecurring: setIsRecurring, setParentLockAfter: setLockAfter }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 7:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistRecurStepAlt_1.default, { frequency: frequency, interval: interval, until: until, setParentFrequency: setFrequency, setParentInterval: setInterval, setParentUntil: setUntil }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 8:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsx)(EditMeetingAssistInvitees_1.default, { invitees: invitees, userId: userId, client: client, hostName: hostName, meetingId: meetingId, setParentInvitees: setInvitees }), (0, jsx_runtime_1.jsx)(Box_1.default, { style: { width: '100%' }, justifyContent: "center", alignItems: "center", children: renderSubmitButton() }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", children: [renderPrevButton(), renderNextButton()] })] }));
            case 9:
                return ((0, jsx_runtime_1.jsxs)(Box_1.default, { style: { width: '100%' }, flex: 1, alignItems: "center", justifyContent: "center", children: [(0, jsx_runtime_1.jsxs)(Box_1.default, { flex: 1, style: { width: '100%' }, p: { phone: 's', tablet: 'm' }, justifyContent: "center", alignItems: "center", minHeight: "65vh", maxHeight: "65vh", children: [(0, jsx_runtime_1.jsx)(Box_1.default, { p: { phone: 'm', tablet: 'l' }, children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "subheaderNormal", children: "Edit Meeting Assist" }) }), renderSubmitButton()] }), (0, jsx_runtime_1.jsxs)(Box_1.default, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", style: { width: '75%' }, children: [renderPrevButton(), (0, jsx_runtime_1.jsx)(Box_1.default, {})] })] }));
            default:
                return ((0, jsx_runtime_1.jsx)(Box_1.default, { justifyContent: "center", alignItems: "center", minHeight: "65vh", maxHeight: "65vh", children: (0, jsx_runtime_1.jsx)(RegularCard_1.default, { children: (0, jsx_runtime_1.jsx)(Text_1.default, { variant: "header", children: "Oops... something went wrong" }) }) }));
        }
    };
    return ((0, jsx_runtime_1.jsxs)(Box_1.default, { flex: 1, justifyContent: "center", alignItems: "center", children: [(0, jsx_runtime_1.jsx)(Wizard_1.default, { items: [
                    {
                        index: 0,
                        label: 'Set Base',
                    },
                    {
                        index: 1,
                        label: 'Select Virtual Meet',
                    },
                    {
                        index: 2,
                        label: 'Continue Base',
                    },
                    {
                        index: 3,
                        label: 'Set Alarms',
                    },
                    {
                        index: 4,
                        label: 'Continue Base',
                    },
                    {
                        index: 5,
                        label: 'Continue Base',
                    },
                    {
                        index: 6,
                        label: 'Continue Base',
                    },
                    {
                        index: 7,
                        label: 'Create Recurrence',
                    },
                    {
                        index: 8,
                        label: 'Add Invitees',
                    },
                    {
                        index: 9,
                        label: 'Update Event',
                    },
                ], completed: completedStep, activeIndex: activeIndex }), renderCurrentStep()] }));
}
exports.default = UserEditMeetingAssist;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlckVkaXRNZWV0aW5nQXNzaXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVXNlckVkaXRNZWV0aW5nQXNzaXN0LnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQXlDQSxnREFxQ0M7O0FBOUVELGlDQUFrRDtBQUNsRCxnRUFBdUM7QUFFdkMsNENBQTJDO0FBRTNDLGdEQUF1QztBQUV2QyxpRUFBd0M7QUFDeEMsZ0VBQXVDO0FBRXZDLG1FQUEwQztBQUMxQywwRUFBaUQ7QUFPakQsaUZBQTBSO0FBQzFSLHdHQUErRTtBQUMvRSxtRUFBMkQ7QUFHM0QsZ0lBQXVHO0FBQ3ZHLHNJQUE2RztBQUM3RyxrSUFBeUc7QUFDekcsZ0hBQXVGO0FBQ3ZGLHNIQUE2RjtBQUM3RixzSEFBNkY7QUFDN0Ysc0hBQTZGO0FBQzdGLG9IQUEyRjtBQUMzRiw0SEFBbUc7QUFDbkcsZ0ZBQTJFO0FBQzNFLHdDQUF1QztBQUN2QyxvREFBaUQ7QUFHakQsd0VBQThDO0FBQzlDLDhEQUEwRDtBQUMxRCw4RUFBcUQ7QUFFOUMsS0FBSyxVQUFVLGtCQUFrQixDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBaUQ7SUFDbEcsMEZBQTBGO0lBQzFGLHNDQUFzQztJQUN0Qyx5RUFBeUU7SUFDekUsMEJBQWUsQ0FBQyxJQUFJLENBQUMsSUFBQSw2QkFBYSxHQUFFLENBQUMsQ0FBQTtJQUNyQyxJQUFJLE9BQU8sQ0FBQTtJQUNYLElBQUksQ0FBQztRQUNILE9BQU8sR0FBRyxNQUFNLGlCQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUU7WUFDM0MsNkJBQTZCLEVBQUUsS0FBSztnQkFDbEMsT0FBTyxFQUFFLENBQUE7WUFDWCxDQUFDO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQUFDLE9BQU8sR0FBUSxFQUFFLENBQUM7UUFDbEIsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLLGlCQUFPLENBQUMsS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUM7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QUNSLEtBQUssRUFBRSxVQUFVO3FCQUNwQjtvQkFDRDt3QkFDSSxLQUFLLEVBQUUsQ0FBQzt3QkFDUixLQUFLLEVBQUUscUJBQXFCO3FCQUMvQjtvQkFDRDt3QkFDSSxLQUFLLEVBQUUsQ0FBQzt3QkFDUixLQUFLLEVBQUUsZUFBZTtxQkFDekI7b0JBQ0E7d0JBQ0csS0FBSyxFQUFFLENBQUM7d0JBQ1IsS0FBSyxFQUFFLFlBQVk7cUJBQ3RCO29CQUNBO3dCQUNHLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRSxlQUFlO3FCQUN6QjtvQkFDQTt3QkFDRyxLQUFLLEVBQUUsQ0FBQzt3QkFDUixLQUFLLEVBQUUsZUFBZTtxQkFDekI7b0JBQ0Q7d0JBQ0ksS0FBSyxFQUFFLENBQUM7d0JBQ1IsS0FBSyxFQUFFLGVBQWU7cUJBQ3pCO29CQUNEO3dCQUNJLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRSxtQkFBbUI7cUJBQzdCO29CQUNEO3dCQUNJLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRSxjQUFjO3FCQUN4QjtvQkFDRDt3QkFDSSxLQUFLLEVBQUUsQ0FBQzt3QkFDUixLQUFLLEVBQUUsY0FBYztxQkFDeEI7aUJBQ0osRUFFRCxTQUFTLEVBQUUsYUFBYSxFQUN4QixXQUFXLEVBQUUsV0FBVyxHQUMxQixFQUNELGlCQUFpQixFQUFFLElBQ2xCLENBQ1QsQ0FBQTtBQUVMLENBQUM7QUFFRCxrQkFBZSxxQkFBcUIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgV2l6YXJkIGZyb20gJ0Bjb21wb25lbnRzL1dpemFyZCdcblxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0J1xuaW1wb3J0IHsgQXBvbGxvQ2xpZW50LCBOb3JtYWxpemVkQ2FjaGVPYmplY3QgfSBmcm9tICdAYXBvbGxvL2NsaWVudCdcbmltcG9ydCB7IGRheWpzIH0gZnJvbSAnQGxpYi9kYXRlLXV0aWxzJ1xuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gJ3V1aWQnXG5pbXBvcnQgQm94IGZyb20gJ0Bjb21wb25lbnRzL2NvbW1vbi9Cb3gnXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0Bjb21wb25lbnRzL0J1dHRvbidcblxuaW1wb3J0IFRleHQgZnJvbSAnQGNvbXBvbmVudHMvY29tbW9uL1RleHQnXG5pbXBvcnQgUmVndWxhckNhcmQgZnJvbSAnQGNvbXBvbmVudHMvUmVndWxhckNhcmQnXG5pbXBvcnQgeyBDb25mZXJlbmNlQXBwVHlwZSwgTWVldGluZ0Fzc2lzdFR5cGUgfSBmcm9tICdAbGliL2RhdGFUeXBlcy9NZWV0aW5nQXNzaXN0VHlwZSdcbmltcG9ydCB7IENhbGVuZGFyVHlwZSB9IGZyb20gJ0BsaWIvZGF0YVR5cGVzL0NhbGVuZGFyVHlwZSdcbmltcG9ydCB7IE1lZXRpbmdBc3Npc3RJbnZpdGVUeXBlIH0gZnJvbSAnQGxpYi9kYXRhVHlwZXMvTWVldGluZ0Fzc2lzdEludml0ZVR5cGUnXG5cbmltcG9ydCB7IFVzZXJUeXBlIH0gZnJvbSAnQGxpYi9kYXRhVHlwZXMvVXNlclR5cGUnXG5pbXBvcnQgeyBBdHRlbmRlZURldGFpbHNGb3JCdWxrTWVldGluZ0NhbmNlbGxlZFR5cGUsIFJlY3VycmVuY2VGcmVxdWVuY3lUeXBlIH0gZnJvbSAnQGxpYi9Bc3Npc3QvdHlwZXMnXG5pbXBvcnQgeyBjb252ZXJ0SW52aXRlZVR5cGVUb0NhbmNlbEVtYWlsUmVjaXBpZW50cywgZ2V0TWVldGluZ0Fzc2lzdEdpdmVuSWQsIGdldFVzZXJHaXZlbklkLCBsaXN0TWVldGluZ0Fzc2lzdEludml0ZXNHaXZlbk1lZXRpbmdJZCwgc2VuZEJ1bGtNZWV0aW5nQ2FuY2VsRW1haWwsIHVwZGF0ZVVzZXJOYW1lR2l2ZW5JZCwgdXBzZXJ0TWVldGluZ0Fzc2lzdEludml0ZU1hbnksIHVwc2VydE1lZXRpbmdBc3Npc3RPbmUgfSBmcm9tICdAbGliL0Fzc2lzdC9Vc2VyTWVldGluZ0Fzc2lzdEhlbHBlcidcbmltcG9ydCBnZXRHbG9iYWxQcmltYXJ5Q2FsZW5kYXIgZnJvbSAnQGxpYi9hcG9sbG8vZ3FsL2dldEdsb2JhbFByaW1hcnlDYWxlbmRhcidcbmltcG9ydCB7IHpvb21BdmFpbGFibGUgfSBmcm9tICdAbGliL3pvb20vem9vbU1lZXRpbmdIZWxwZXInXG5cblxuaW1wb3J0IEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXAgZnJvbSAnQHBhZ2VzL0Fzc2lzdC9FZGl0TWVldGluZ0Fzc2lzdFdpemFyZC9FZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwJ1xuaW1wb3J0IEVkaXRNZWV0aW5nQXNzaXN0VmlydHVhbE1lZXQgZnJvbSAnQHBhZ2VzL0Fzc2lzdC9FZGl0TWVldGluZ0Fzc2lzdFdpemFyZC9FZGl0TWVldGluZ0Fzc2lzdFZpcnR1YWxNZWV0J1xuaW1wb3J0IEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXAzIGZyb20gJ0BwYWdlcy9Bc3Npc3QvRWRpdE1lZXRpbmdBc3Npc3RXaXphcmQvRWRpdE1lZXRpbmdBc3Npc3RCYXNlU3RlcDMnXG5pbXBvcnQgRWRpdE1lZXRpbmdBc3Npc3RBbGFybXMgZnJvbSAnLi9FZGl0TWVldGluZ0Fzc2lzdFdpemFyZC9FZGl0TWVldGluZ0Fzc2lzdEFsYXJtcydcbmltcG9ydCBFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwNSBmcm9tICcuL0VkaXRNZWV0aW5nQXNzaXN0V2l6YXJkL0VkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXA1J1xuaW1wb3J0IEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXA2IGZyb20gJy4vRWRpdE1lZXRpbmdBc3Npc3RXaXphcmQvRWRpdE1lZXRpbmdBc3Npc3RCYXNlU3RlcDYnXG5pbXBvcnQgRWRpdE1lZXRpbmdBc3Npc3RCYXNlU3RlcDcgZnJvbSAnLi9FZGl0TWVldGluZ0Fzc2lzdFdpemFyZC9FZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwNydcbmltcG9ydCBFZGl0TWVldGluZ0Fzc2lzdEludml0ZWVzIGZyb20gJy4vRWRpdE1lZXRpbmdBc3Npc3RXaXphcmQvRWRpdE1lZXRpbmdBc3Npc3RJbnZpdGVlcydcbmltcG9ydCBFZGl0TWVldGluZ0Fzc2lzdFJlY3VyU3RlcEFsdCBmcm9tICcuL0VkaXRNZWV0aW5nQXNzaXN0V2l6YXJkL0VkaXRNZWV0aW5nQXNzaXN0UmVjdXJTdGVwQWx0J1xuaW1wb3J0IHsgZ29vZ2xlTWVldEF2YWlsYWJsZSB9IGZyb20gJ0BsaWIvY2FsZW5kYXJMaWIvZ29vZ2xlQ2FsZW5kYXJIZWxwZXInXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCB7IHVzZUFwcENvbnRleHQgfSBmcm9tICdAbGliL3VzZXItY29udGV4dCdcbmltcG9ydCB7IENvbnRhY3RUeXBlIH0gZnJvbSAnQGxpYi9kYXRhVHlwZXMvQ29udGFjdFR5cGUnXG5pbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgc3VwZXJ0b2tlbnNOb2RlIGZyb20gJ3N1cGVydG9rZW5zLW5vZGUnXG5pbXBvcnQgeyBiYWNrZW5kQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnL2JhY2tlbmRDb25maWcnXG5pbXBvcnQgU2Vzc2lvbiBmcm9tICdzdXBlcnRva2Vucy1ub2RlL3JlY2lwZS9zZXNzaW9uJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKHsgcmVxLCByZXMgfTogeyByZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSB9KSB7XG4gIC8vIE5vdGljZSBob3cgdGhlIHNlcnZlciB1c2VzIGBBUElgIGZyb20gYHdpdGhTU1JDb250ZXh0YCwgaW5zdGVhZCBvZiB0aGUgdG9wLWxldmVsIGBBUElgLlxuICAvLyBjb25zdCBTU1IgPSB3aXRoU1NSQ29udGV4dCh7IHJlcSB9KVxuICAvLyB0aGlzIHJ1bnMgb24gdGhlIGJhY2tlbmQsIHNvIHdlIG11c3QgY2FsbCBpbml0IG9uIHN1cGVydG9rZW5zLW5vZGUgU0RLXG4gIHN1cGVydG9rZW5zTm9kZS5pbml0KGJhY2tlbmRDb25maWcoKSlcbiAgbGV0IHNlc3Npb25cbiAgdHJ5IHtcbiAgICBzZXNzaW9uID0gYXdhaXQgU2Vzc2lvbi5nZXRTZXNzaW9uKHJlcSwgcmVzLCB7XG4gICAgICBvdmVycmlkZUdsb2JhbENsYWltVmFsaWRhdG9yczogYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH0sXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICBpZiAoZXJyLnR5cGUgPT09IFNlc3Npb24uRXJyb3IuVFJZX1JFRlJFU0hfVE9LRU4pIHtcbiAgICAgIHJldHVybiB7IHByb3BzOiB7IGZyb21TdXBlcnRva2VuczogJ25lZWRzLXJlZnJlc2gnIH0gfVxuICAgIH0gZWxzZSBpZiAoZXJyLnR5cGUgPT09IFNlc3Npb24uRXJyb3IuVU5BVVRIT1JJU0VEKSB7XG4gICAgICAvLyB0aGlzIHdpbGwgZm9yY2UgdGhlIGZyb250ZW5kIHRvIHRyeSBhbmQgcmVmcmVzaCB3aGljaCB3aWxsIGZhaWxcbiAgICAgIC8vIGNsZWFyaW5nIGFsbCBjb29raWVzIGFuZCByZWRpcmVjdGluZyB0aGUgdXNlciB0byB0aGUgbG9naW4gc2NyZWVuLlxuICAgICAgcmV0dXJuIHsgcHJvcHM6IHsgZnJvbVN1cGVydG9rZW5zOiAnbmVlZHMtcmVmcmVzaCcgfSB9XG4gICAgfVxuICAgIHRocm93IGVyclxuICB9XG5cbiAgaWYgKCFzZXNzaW9uPy5nZXRVc2VySWQoKSkge1xuICAgIHJldHVybiB7XG4gICAgICByZWRpcmVjdDoge1xuICAgICAgICBkZXN0aW5hdGlvbjogJy9Vc2VyL0xvZ2luL1VzZXJMb2dpbicsXG4gICAgICAgIHBlcm1hbmVudDogZmFsc2UsXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIHN1Yjogc2Vzc2lvbi5nZXRVc2VySWQoKSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gVXNlckVkaXRNZWV0aW5nQXNzaXN0KCkge1xuICAgIGNvbnN0IFtub3Rlcywgc2V0Tm90ZXNdID0gdXNlU3RhdGU8c3RyaW5nPignJylcbiAgICBjb25zdCBbc3VtbWFyeSwgc2V0U3VtbWFyeV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICAgIGNvbnN0IFt3aW5kb3dTdGFydERhdGUsIHNldFdpbmRvd1N0YXJ0RGF0ZV0gPSB1c2VTdGF0ZTxEYXRlPihuZXcgRGF0ZSgpKVxuICAgIGNvbnN0IFt3aW5kb3dFbmREYXRlLCBzZXRXaW5kb3dFbmREYXRlXSA9IHVzZVN0YXRlPERhdGU+KG5ldyBEYXRlKCkpXG4gICAgY29uc3QgW2xvY2F0aW9uLCBzZXRMb2NhdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICAgIGNvbnN0IFtpc1pvb21BdmFpbGFibGUsIHNldElzWm9vbUF2YWlsYWJsZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcbiAgICBjb25zdCBbaXNHb29nbGVNZWV0QXZhaWxhYmxlLCBzZXRJc0dvb2dsZU1lZXRBdmFpbGFibGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG4gICAgY29uc3QgW3pvb21NZWV0LCBzZXRab29tTWVldF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcbiAgICBjb25zdCBbZ29vZ2xlTWVldCwgc2V0R29vZ2xlTWVldF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcbiAgICBjb25zdCBbc2VuZFVwZGF0ZXMsIHNldFNlbmRVcGRhdGVzXSA9IHVzZVN0YXRlPCdhbGwnIHwgJ2V4dGVybmFsT25seSc+KCdhbGwnKVxuICAgIGNvbnN0IFtndWVzdHNDYW5JbnZpdGVPdGhlcnMsIHNldEd1ZXN0c0Nhbkludml0ZU90aGVyc10gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKVxuICAgIGNvbnN0IFt0cmFuc3BhcmVuY3ksIHNldFRyYW5zcGFyZW5jeV0gPSB1c2VTdGF0ZTwnb3BhcXVlJyB8ICd0cmFuc3BhcmVudCc+KCdvcGFxdWUnKVxuICAgIGNvbnN0IFt2aXNpYmlsaXR5LCBzZXRWaXNpYmlsaXR5XSA9IHVzZVN0YXRlPCdkZWZhdWx0JyB8ICdwdWJsaWMnIHwgJ3ByaXZhdGUnPignZGVmYXVsdCcpXG4gICAgY29uc3QgW3VzZURlZmF1bHRBbGFybXMsIHNldFVzZURlZmF1bHRBbGFybXNdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcbiAgICBjb25zdCBbYWxhcm1zLCBzZXRBbGFybXNdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKVxuICAgIGNvbnN0IFtjYW5jZWxJZkFueVJlZnVzZSwgc2V0Q2FuY2VsSWZBbnlSZWZ1c2VdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG4gICAgY29uc3QgW2VuYWJsZUF0dGVuZGVlUHJlZmVyZW5jZXMsIHNldEVuYWJsZUF0dGVuZGVlUHJlZmVyZW5jZXNdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcbiAgICBjb25zdCBbYXR0ZW5kZWVDYW5Nb2RpZnksIHNldEF0dGVuZGVlQ2FuTW9kaWZ5XSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICAgIGNvbnN0IFtleHBpcmVEYXRlLCBzZXRFeHBpcmVEYXRlXSA9IHVzZVN0YXRlPERhdGU+KG5ldyBEYXRlKCkpXG4gICAgY29uc3QgW2R1cmF0aW9uLCBzZXREdXJhdGlvbl0gPSB1c2VTdGF0ZTxudW1iZXI+KDMwKVxuICAgIGNvbnN0IFtlbmFibGVDb25mZXJlbmNlLCBzZXRFbmFibGVDb25mZXJlbmNlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICAgIGNvbnN0IFtjb25mZXJlbmNlQXBwLCBzZXRDb25mZXJlbmNlQXBwXSA9IHVzZVN0YXRlPENvbmZlcmVuY2VBcHBUeXBlIHwgbnVsbD4oJ2dvb2dsZScpXG4gICAgY29uc3QgW2lzQnVmZmVyVGltZSwgc2V0SXNCdWZmZXJUaW1lXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICAgIGNvbnN0IFtiZWZvcmVFdmVudE1pbnV0ZXMsIHNldEJlZm9yZUV2ZW50TWludXRlc10gPSB1c2VTdGF0ZTxudW1iZXI+KDApXG4gICAgY29uc3QgW2FmdGVyRXZlbnRNaW51dGVzLCBzZXRBZnRlckV2ZW50TWludXRlc10gPSB1c2VTdGF0ZTxudW1iZXI+KDApXG4gICAgY29uc3QgW2FueW9uZUNhbkFkZFNlbGYsIHNldEFueW9uZUNhbkFkZFNlbGZdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSlcbiAgICBjb25zdCBbZ3Vlc3RzQ2FuU2VlT3RoZXJHdWVzdHMsIHNldEd1ZXN0c0NhblNlZU90aGVyR3Vlc3RzXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpXG4gICAgY29uc3QgW21pblRocmVzaG9sZENvdW50LCBzZXRNaW5UaHJlc2hvbGRDb3VudF0gPSB1c2VTdGF0ZTxudW1iZXI+KDIpXG4gICAgY29uc3QgW2d1YXJhbnRlZUF2YWlsYWJpbGl0eSwgc2V0R3VhcmFudGVlQXZhaWxhYmlsaXR5XSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICAgIGNvbnN0IFtpc1JlY3VycmluZywgc2V0SXNSZWN1cnJpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG4gICAgY29uc3QgW2ZyZXF1ZW5jeSwgc2V0RnJlcXVlbmN5XSA9IHVzZVN0YXRlPFJlY3VycmVuY2VGcmVxdWVuY3lUeXBlPignd2Vla2x5JylcbiAgICBjb25zdCBbaW50ZXJ2YWwsIHNldEludGVydmFsXSA9IHVzZVN0YXRlPG51bWJlcj4oMSkgLy8gZXZlcnkgMSwgMi4uLiB3ZWVrcyBcbiAgICBjb25zdCBbdW50aWwsIHNldFVudGlsXSA9IHVzZVN0YXRlPERhdGU+KG5ldyBEYXRlKCkpXG4gICAgLy8gY29uc3QgW3NlbGVjdGVkQ2FsZW5kYXJJZCwgc2V0U2VsZWN0ZWRDYWxlbmRhcklkXSA9IHVzZVN0YXRlPHN0cmluZz4oKVxuICAgIGNvbnN0IFtjYWxlbmRhciwgc2V0Q2FsZW5kYXJdID0gdXNlU3RhdGU8Q2FsZW5kYXJUeXBlPigpXG4gICAgY29uc3QgW3NlYXJjaE5hbWUsIHNldFNlYXJjaE5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJylcbiAgICBjb25zdCBbY29udGFjdFJlc3VsdHMsIHNldENvbnRhY3RSZXN1bHRzXSA9IHVzZVN0YXRlPENvbnRhY3RUeXBlW10+KClcbiAgICBjb25zdCBbaW52aXRlZXMsIHNldEludml0ZWVzXSA9IHVzZVN0YXRlPE1lZXRpbmdBc3Npc3RJbnZpdGVUeXBlW10+KFtdKVxuICAgIGNvbnN0IFthY3RpdmVJbmRleCwgc2V0QWN0aXZlSW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuICAgIGNvbnN0IFtjb21wbGV0ZWRTdGVwLCBzZXRDb21wbGV0ZWRTdGVwXSA9IHVzZVN0YXRlPG51bWJlciB8IHVuZGVmaW5lZD4oKVxuICAgIGNvbnN0IFtob3N0TmFtZSwgc2V0SG9zdE5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJylcbiAgICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyVHlwZSB8IHVuZGVmaW5lZD4oKVxuICAgIGNvbnN0IFttZWV0aW5nQXNzaXN0LCBzZXRNZWV0aW5nQXNzaXN0XSA9IHVzZVN0YXRlPE1lZXRpbmdBc3Npc3RUeXBlPigpXG4gICAgY29uc3QgW2NhbmNlbCwgc2V0Q2FuY2VsXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICAgIGNvbnN0IFtsb2NrQWZ0ZXIsIHNldExvY2tBZnRlcl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcblxuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG5cbiAgICBjb25zdCBtZWV0aW5nSWQgPSByb3V0ZXI/LnF1ZXJ5Py5tZWV0aW5nSWQgYXMgc3RyaW5nXG4gICAgY29uc29sZS5sb2cobWVldGluZ0lkLCAnIG1lZXRpbmdJZCcpXG4gICAgLy8gY29uc3QgY2xpZW50ID0gcHJvcHM/LmNsaWVudFxuICAgIC8vIGNvbnN0IHVzZXJJZCA9IHByb3BzPy5zdWJcblxuICAgIGNvbnN0IHsgc3ViLCBjbGllbnQgfSA9IHVzZUFwcENvbnRleHQoKVxuICAgIGNvbnN0IHVzZXJJZCA9IHN1YlxuICAgIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKVxuXG4gICAgLy8gZ2V0IG1lZXRpbmcgYXNzaXN0XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtZWV0aW5nSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG9sZE1lZXRpbmdBc3Npc3Q6IE1lZXRpbmdBc3Npc3RUeXBlIHwgdW5kZWZpbmVkID0gYXdhaXQgZ2V0TWVldGluZ0Fzc2lzdEdpdmVuSWQoY2xpZW50LCBtZWV0aW5nSWQpXG4gICAgICAgICAgICAgICAgaWYgKCFvbGRNZWV0aW5nQXNzaXN0Py5pZCkge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ05vIE1lZXRpbmcgQXNzaXN0IGZvdW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2VlbXMgbGlrZSB0aGVyZSBpcyBubyBNZWV0aW5nIEFzc2lzdCBmb3VuZC4gTGV0IHVzIGtub3cuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA5MDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZXRNZWV0aW5nQXNzaXN0KG9sZE1lZXRpbmdBc3Npc3QpXG4gICAgICAgICAgICAgICAgc2V0Tm90ZXMob2xkTWVldGluZ0Fzc2lzdD8ubm90ZXMgfHwgJycpXG4gICAgICAgICAgICAgICAgc2V0U3VtbWFyeShvbGRNZWV0aW5nQXNzaXN0Py5zdW1tYXJ5IHx8ICcnKVxuICAgICAgICAgICAgICAgIHNldFdpbmRvd1N0YXJ0RGF0ZShkYXlqcyhvbGRNZWV0aW5nQXNzaXN0Py53aW5kb3dTdGFydERhdGUpLnRvRGF0ZSgpKVxuICAgICAgICAgICAgICAgIHNldFdpbmRvd0VuZERhdGUoZGF5anMob2xkTWVldGluZ0Fzc2lzdD8ud2luZG93RW5kRGF0ZSkudG9EYXRlKCkpXG4gICAgICAgICAgICAgICAgc2V0TG9jYXRpb24ob2xkTWVldGluZ0Fzc2lzdD8ubG9jYXRpb24/LnRpdGxlIHx8ICcnKVxuICAgICAgICAgICAgICAgIHNldFpvb21NZWV0KG9sZE1lZXRpbmdBc3Npc3Q/LmNvbmZlcmVuY2VBcHAgPT09ICd6b29tJylcbiAgICAgICAgICAgICAgICBzZXRHb29nbGVNZWV0KG9sZE1lZXRpbmdBc3Npc3Q/LmNvbmZlcmVuY2VBcHAgPT09ICdnb29nbGUnKVxuICAgICAgICAgICAgICAgIHNldFNlbmRVcGRhdGVzKG9sZE1lZXRpbmdBc3Npc3Q/LnNlbmRVcGRhdGVzIGFzICdhbGwnIHwgJ2V4dGVybmFsT25seScpXG4gICAgICAgICAgICAgICAgc2V0R3Vlc3RzQ2FuSW52aXRlT3RoZXJzKG9sZE1lZXRpbmdBc3Npc3Q/Lmd1ZXN0c0Nhbkludml0ZU90aGVycyB8fCBmYWxzZSlcbiAgICAgICAgICAgICAgICBzZXRUcmFuc3BhcmVuY3kob2xkTWVldGluZ0Fzc2lzdD8udHJhbnNwYXJlbmN5IHx8ICdvcGFxdWUnKVxuICAgICAgICAgICAgICAgIHNldFZpc2liaWxpdHkob2xkTWVldGluZ0Fzc2lzdD8udmlzaWJpbGl0eSB8fCAnZGVmYXVsdCcpXG4gICAgICAgICAgICAgICAgaWYgKG9sZE1lZXRpbmdBc3Npc3Q/LnVzZURlZmF1bHRBbGFybXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRVc2VEZWZhdWx0QWxhcm1zKG9sZE1lZXRpbmdBc3Npc3Q/LnVzZURlZmF1bHRBbGFybXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvbGRNZWV0aW5nQXNzaXN0Py5yZW1pbmRlcnMgJiYgb2xkTWVldGluZ0Fzc2lzdD8ucmVtaW5kZXJzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEFsYXJtcyhvbGRNZWV0aW5nQXNzaXN0Py5yZW1pbmRlcnMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvbGRNZWV0aW5nQXNzaXN0Py5jYW5jZWxJZkFueVJlZnVzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldENhbmNlbElmQW55UmVmdXNlKG9sZE1lZXRpbmdBc3Npc3Q/LmNhbmNlbElmQW55UmVmdXNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAob2xkTWVldGluZ0Fzc2lzdD8uZW5hYmxlQXR0ZW5kZWVQcmVmZXJlbmNlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEVuYWJsZUF0dGVuZGVlUHJlZmVyZW5jZXMob2xkTWVldGluZ0Fzc2lzdD8uZW5hYmxlQXR0ZW5kZWVQcmVmZXJlbmNlcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG9sZE1lZXRpbmdBc3Npc3Q/LmF0dGVuZGVlQ2FuTW9kaWZ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QXR0ZW5kZWVDYW5Nb2RpZnkob2xkTWVldGluZ0Fzc2lzdD8uYXR0ZW5kZWVDYW5Nb2RpZnkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEV4cGlyZURhdGUoZGF5anMob2xkTWVldGluZ0Fzc2lzdD8uZXhwaXJlRGF0ZSkudG9EYXRlKCkpXG4gICAgICAgICAgICAgICAgaWYgKG9sZE1lZXRpbmdBc3Npc3Q/LmR1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RHVyYXRpb24ob2xkTWVldGluZ0Fzc2lzdD8uZHVyYXRpb24pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvbGRNZWV0aW5nQXNzaXN0Py5lbmFibGVDb25mZXJlbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RW5hYmxlQ29uZmVyZW5jZShvbGRNZWV0aW5nQXNzaXN0Py5lbmFibGVDb25mZXJlbmNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob2xkTWVldGluZ0Fzc2lzdD8uY29uZmVyZW5jZUFwcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICBzZXRDb25mZXJlbmNlQXBwKG9sZE1lZXRpbmdBc3Npc3Q/LmNvbmZlcmVuY2VBcHApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0SXNCdWZmZXJUaW1lKCEhKG9sZE1lZXRpbmdBc3Npc3Q/LmJ1ZmZlclRpbWUpKVxuICAgICAgICAgICAgICAgIGlmIChvbGRNZWV0aW5nQXNzaXN0Py5idWZmZXJUaW1lPy5iZWZvcmVFdmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICBzZXRCZWZvcmVFdmVudE1pbnV0ZXMob2xkTWVldGluZ0Fzc2lzdD8uYnVmZmVyVGltZT8uYmVmb3JlRXZlbnQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvbGRNZWV0aW5nQXNzaXN0Py5idWZmZXJUaW1lPy5hZnRlckV2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWZ0ZXJFdmVudE1pbnV0ZXMob2xkTWVldGluZ0Fzc2lzdD8uYnVmZmVyVGltZT8uYWZ0ZXJFdmVudClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG9sZE1lZXRpbmdBc3Npc3Q/LmFueW9uZUNhbkFkZFNlbGYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRBbnlvbmVDYW5BZGRTZWxmKG9sZE1lZXRpbmdBc3Npc3Q/LmFueW9uZUNhbkFkZFNlbGYpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvbGRNZWV0aW5nQXNzaXN0Py5ndWVzdHNDYW5TZWVPdGhlckd1ZXN0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEd1ZXN0c0NhblNlZU90aGVyR3Vlc3RzKG9sZE1lZXRpbmdBc3Npc3Q/Lmd1ZXN0c0NhblNlZU90aGVyR3Vlc3RzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAob2xkTWVldGluZ0Fzc2lzdD8ubWluVGhyZXNob2xkQ291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRNaW5UaHJlc2hvbGRDb3VudChvbGRNZWV0aW5nQXNzaXN0Py5taW5UaHJlc2hvbGRDb3VudClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob2xkTWVldGluZ0Fzc2lzdD8uZ3VhcmFudGVlQXZhaWxhYmlsaXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0R3VhcmFudGVlQXZhaWxhYmlsaXR5KG9sZE1lZXRpbmdBc3Npc3Q/Lmd1YXJhbnRlZUF2YWlsYWJpbGl0eSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0SXNSZWN1cnJpbmcoISEob2xkTWVldGluZ0Fzc2lzdD8udW50aWwpKVxuXG4gICAgICAgICAgICAgICAgaWYgKG9sZE1lZXRpbmdBc3Npc3Q/LmZyZXF1ZW5jeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEZyZXF1ZW5jeShvbGRNZWV0aW5nQXNzaXN0Py5mcmVxdWVuY3kpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChvbGRNZWV0aW5nQXNzaXN0Py5pbnRlcnZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKG9sZE1lZXRpbmdBc3Npc3Q/LmludGVydmFsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRVbnRpbChkYXlqcyhvbGRNZWV0aW5nQXNzaXN0Py51bnRpbCkudG9EYXRlKCkpXG5cbiAgICAgICAgICAgICAgICBpZiAob2xkTWVldGluZ0Fzc2lzdD8ubG9ja0FmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldExvY2tBZnRlcihvbGRNZWV0aW5nQXNzaXN0Py5sb2NrQWZ0ZXIpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSwgJyB1bmFibGUgdG8gZ2V0IG1lZXRpbmcgYXNzaXN0JylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKVxuICAgIH0sIFtjbGllbnQsIG1lZXRpbmdJZCwgdG9hc3RdKVxuXG4gICAgIC8vIGNoZWNrIGlmIHpvb20gYXZhaWxhYmxlXG4gICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghdXNlcklkIHx8ICFjbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQXZhaWxhYmxlID0gYXdhaXQgem9vbUF2YWlsYWJsZShjbGllbnQsIHVzZXJJZClcbiAgICAgICAgaWYgKGlzQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICBzZXRJc1pvb21BdmFpbGFibGUodHJ1ZSlcbiAgICAgICAgfVxuICAgICAgICB9KSgpXG4gICAgfSwgW2NsaWVudCwgdXNlcklkXSlcblxuICAgIC8vIGNoZWNrIGlmIGdvb2dsZSBhdmFpbGFibGVcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXVzZXJJZCB8fCAhY2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IGdvb2dsZU1lZXRBdmFpbGFibGUoY2xpZW50LCB1c2VySWQpXG4gICAgICAgIGlmIChpc0F2YWlsYWJsZSkge1xuICAgICAgICAgICAgc2V0SXNHb29nbGVNZWV0QXZhaWxhYmxlKGlzQXZhaWxhYmxlKVxuICAgICAgICB9XG4gICAgICAgIH0pKClcbiAgICB9LCBbY2xpZW50LCB1c2VySWRdKVxuXG4gICAgLy8gZ2V0IGdsb2JhbCBwcmltYXJ5IGNhbGVuZGFyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgKGFzeW5jICgpID0+IHsgIFxuICAgICAgICBpZiAoIXVzZXJJZCB8fCAhY2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgY2xpZW50LnF1ZXJ5PHsgQ2FsZW5kYXI6IENhbGVuZGFyVHlwZVtdIH0+KHtcbiAgICAgICAgICAgIHF1ZXJ5OiBnZXRHbG9iYWxQcmltYXJ5Q2FsZW5kYXIsIFxuICAgICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSkuZGF0YT8uQ2FsZW5kYXI/LlswXVxuICAgICAgICBpZiAoIXJlc3VsdD8uaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgbm8gcHJpbWFyeSBjYWxlbmRhciBhdmFpbGFibGUnKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0U2VsZWN0ZWRDYWxlbmRhcklkKHJlc3VsdD8uaWQpXG4gICAgICAgIHNldENhbGVuZGFyKHJlc3VsdClcbiAgICAgICAgfSkoKVxuICAgIH0sIFtjbGllbnQsIHVzZXJJZF0pXG5cbiAgICAvLyBnZXQgdXNlciBhbmQgdXBkYXRlIGlmIG5lY2Vzc2FyeVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZFVzZXIgPSBhd2FpdCBnZXRVc2VyR2l2ZW5JZChjbGllbnQsIHVzZXJJZClcbiAgICAgICAgICAgICAgICBzZXRVc2VyKG9sZFVzZXIpXG4gICAgICAgICAgICAgICAgaWYgKG9sZFVzZXI/Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SG9zdE5hbWUob2xkVXNlcj8ubmFtZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSwgJyB1bmFibGUgdG8gZ2V0IHVzZXInKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpXG4gICAgfSwgW2NsaWVudCwgdXNlcklkXSlcblxuICAgIC8vIGxpc3QgbWVldGluZyBhc3Npc3QgaW52aXRlZXNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRNZWV0aW5nQXNzaXN0SW52aXRlcyA9IGF3YWl0IGxpc3RNZWV0aW5nQXNzaXN0SW52aXRlc0dpdmVuTWVldGluZ0lkKGNsaWVudCwgbWVldGluZ0lkKVxuXG4gICAgICAgICAgICAgICAgaWYgKG9sZE1lZXRpbmdBc3Npc3RJbnZpdGVzICYmIG9sZE1lZXRpbmdBc3Npc3RJbnZpdGVzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEludml0ZWVzKG9sZE1lZXRpbmdBc3Npc3RJbnZpdGVzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byBsaXN0IG1lZXRpbmcgYXNzaXN0IGludml0ZXMnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpXG4gICAgfSwgW2NsaWVudCwgbWVldGluZ0lkLCB1c2VySWRdKVxuXG4gICAgY29uc3QgZWRpdE1lZXRpbmdBc3Npc3RJbnZpdGVlcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChpbnZpdGVlcz8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwc2VydE1lZXRpbmdBc3Npc3RJbnZpdGVNYW55KGNsaWVudCwgaW52aXRlZXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUsICcgdW5hYmxlIHRvIGVkaXQgbWVldGluZyBhc3Npc3QnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZWRpdE1lZXRpbmdBc3Npc3QgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld01lZXRpbmdBc3Npc3Q6IE1lZXRpbmdBc3Npc3RUeXBlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZWV0aW5nSWQsXG4gICAgICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgICAgIHN1bW1hcnksXG4gICAgICAgICAgICAgICAgbm90ZXMsXG4gICAgICAgICAgICAgICAgd2luZG93U3RhcnREYXRlOiBkYXlqcyh3aW5kb3dTdGFydERhdGUpLmZvcm1hdCgpLFxuICAgICAgICAgICAgICAgIHdpbmRvd0VuZERhdGU6IGRheWpzKHdpbmRvd0VuZERhdGUpLmZvcm1hdCgpLFxuICAgICAgICAgICAgICAgIHRpbWV6b25lOiBkYXlqcy50ei5ndWVzcygpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7IHRpdGxlOiBsb2NhdGlvbiB8fCAnJyB9LFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiAxLFxuICAgICAgICAgICAgICAgIGVuYWJsZUNvbmZlcmVuY2UsXG4gICAgICAgICAgICAgICAgY29uZmVyZW5jZUFwcCxcbiAgICAgICAgICAgICAgICBzZW5kVXBkYXRlcyxcbiAgICAgICAgICAgICAgICBndWVzdHNDYW5JbnZpdGVPdGhlcnMsXG4gICAgICAgICAgICAgICAgdHJhbnNwYXJlbmN5LFxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHksXG4gICAgICAgICAgICAgICAgY3JlYXRlZERhdGU6IGRheWpzKCkuZm9ybWF0KCksXG4gICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBkYXlqcygpLmZvcm1hdCgpLFxuICAgICAgICAgICAgICAgIHVzZURlZmF1bHRBbGFybXMsXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJzOiBhbGFybXMsXG4gICAgICAgICAgICAgICAgY2FuY2VsSWZBbnlSZWZ1c2UsXG4gICAgICAgICAgICAgICAgZW5hYmxlQXR0ZW5kZWVQcmVmZXJlbmNlcyxcbiAgICAgICAgICAgICAgICBhdHRlbmRlZUNhbk1vZGlmeSxcbiAgICAgICAgICAgICAgICBleHBpcmVEYXRlOiBkYXlqcyhleHBpcmVEYXRlKS5mb3JtYXQoKSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBjYWxlbmRhcklkOiBjYWxlbmRhcj8uaWQgfHwgJycsXG4gICAgICAgICAgICAgICAgYnVmZmVyVGltZTogaXNCdWZmZXJUaW1lID8ge1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVFdmVudDogYmVmb3JlRXZlbnRNaW51dGVzLFxuICAgICAgICAgICAgICAgICAgICBhZnRlckV2ZW50OiBhZnRlckV2ZW50TWludXRlcyxcbiAgICAgICAgICAgICAgICB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGFueW9uZUNhbkFkZFNlbGYsXG4gICAgICAgICAgICAgICAgZ3Vlc3RzQ2FuU2VlT3RoZXJHdWVzdHMsXG4gICAgICAgICAgICAgICAgbWluVGhyZXNob2xkQ291bnQsXG4gICAgICAgICAgICAgICAgYXR0ZW5kZWVSZXNwb25kZWRDb3VudDogbWVldGluZ0Fzc2lzdD8uYXR0ZW5kZWVSZXNwb25kZWRDb3VudCB8fCAwLFxuICAgICAgICAgICAgICAgIGF0dGVuZGVlQ291bnQ6IG1lZXRpbmdBc3Npc3Q/LmF0dGVuZGVlQ291bnQsXG4gICAgICAgICAgICAgICAgY2FuY2VsbGVkOiBjYW5jZWwsXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5LFxuICAgICAgICAgICAgICAgIGludGVydmFsLFxuICAgICAgICAgICAgICAgIHVudGlsOiBkYXlqcyh1bnRpbCkuZm9ybWF0KCksXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxNZWV0aW5nSWQ6IGlzUmVjdXJyaW5nID8gbWVldGluZ0lkIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGxvY2tBZnRlcixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2cobmV3TWVldGluZ0Fzc2lzdCwgJyBtZWV0aW5nQXNzaXN0IGJlZm9yZSB1cGRhdGUnKVxuXG4gICAgICAgICAgICBhd2FpdCB1cHNlcnRNZWV0aW5nQXNzaXN0T25lKFxuICAgICAgICAgICAgICAgIGNsaWVudCxcbiAgICAgICAgICAgICAgICBuZXdNZWV0aW5nQXNzaXN0LFxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICBhd2FpdCBlZGl0TWVldGluZ0Fzc2lzdEludml0ZWVzKClcblxuICAgICAgICAgICAgaWYgKGNhbmNlbCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnZpdGVlcz8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5jZWxSZWNpcGllbnRzOiBBdHRlbmRlZURldGFpbHNGb3JCdWxrTWVldGluZ0NhbmNlbGxlZFR5cGVbXSA9IGNvbnZlcnRJbnZpdGVlVHlwZVRvQ2FuY2VsRW1haWxSZWNpcGllbnRzKGludml0ZWVzKVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSW52aXRlZUVtYWlscyA9IGNhbmNlbFJlY2lwaWVudHM/LmZpbHRlcihpID0+ICEhKGk/LmVtYWlsKSlcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRJbnZpdGVlRW1haWxzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kQnVsa01lZXRpbmdDYW5jZWxFbWFpbChmaWx0ZXJlZEludml0ZWVFbWFpbHMsIHVzZXI/LmVtYWlsIHx8ICcnLCBob3N0TmFtZSB8fCB1c2VyPy5uYW1lIHx8ICcnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaG9zdE5hbWUgJiYgKHVzZXI/Lm5hbWUgIT09IGhvc3ROYW1lKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVVzZXJOYW1lR2l2ZW5JZChcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICAgICAgICAgIGhvc3ROYW1lXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdNZWV0aW5nIEFzc2lzdCBFZGl0ZWQnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTWVldGluZyBBc3Npc3QgZWRpdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDkwMDAsXG4gICAgICAgICAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvQXNzaXN0L1VzZXJMaXN0TWVldGluZ0Fzc2lzdHMnKVxuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUsICcgdW5hYmxlIG90IGVkaXQgc2luZ2xlIG1lZXRpbmcgYXNzaXN0IGluc2lkZSB1c2VyZWRpdG1lZXRpbmdhc3Npc3QnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29uc3Qgb25BY3RpdmVJbmRleENoYW5nZWQgPSAoaW5kZXg6IG51bWJlcikgPT4gc2V0QWN0aXZlSW5kZXgoaW5kZXgpXG5cbiAgICBjb25zdCBnb1RvUHJldlN0ZXAgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4XG4gICAgICAgIGNvbnN0IG5ld0FjdGl2ZUluZGV4ID0gcHJldkFjdGl2ZUluZGV4ID09PSAwID8gMCA6IHByZXZBY3RpdmVJbmRleCAtIDFcblxuICAgICAgICBpZiAoKGFjdGl2ZUluZGV4ID09PSA4KSAmJiAhaXNSZWN1cnJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRBY3RpdmVJbmRleCg2KVxuICAgICAgICB9XG5cbiAgICAgICAgc2V0QWN0aXZlSW5kZXgobmV3QWN0aXZlSW5kZXgpXG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyUHJldkJ1dHRvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gPEJveCBwdD17eyBwaG9uZTogJ20nLCB0YWJsZXQ6ICdzJyB9fS8+XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEJveCBwPXt7IHBob25lOiAncycsIHRhYmxldDogJ20nIH19PlxuICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17Z29Ub1ByZXZTdGVwfT5cbiAgICAgICAgICAgICAgICAgICAgQmFja1xuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBnb1RvTmV4dFN0ZXAgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZBY3RpdmVJbmRleCA9IGFjdGl2ZUluZGV4XG4gICAgICAgIGNvbnN0IHByZXZDb21wbGV0ZWRTdGVwID0gY29tcGxldGVkU3RlcFxuICAgICAgICAvKipcbiAgICAgICAgICogMCAtIEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXBcbiAgICAgICAgICogMSAtIEVkaXRNZWV0aW5nQXNzaXN0VmlydHVhbE1lZXRcbiAgICAgICAgICogMiAtIEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXAzXG4gICAgICAgICAqIDMgLSBFZGl0TWVldGluZ0Fzc2lzdEFsYXJtc1xuICAgICAgICAgKiA0IC0gRWRpdE1lZXRpbmdBc3Npc3RCYXNlU3RlcDVcbiAgICAgICAgICogNSAtIEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXA2XG4gICAgICAgICAqIDYgLSBFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwN1xuICAgICAgICAgKiA3IC0gRWRpdE1lZXRpbmdBc3Npc3RSZWN1clN0ZXBBbHRcbiAgICAgICAgICogOCAtIEVkaXRNZWV0aW5nQXNzaXN0SW52aXRlZXNcbiAgICAgICAgICovXG4gICAgICAgIGlmICghaXNSZWN1cnJpbmcpIHtcbiAgICAgICAgICBsZXQgbmV3QWN0aXZlSW5kZXggPSBwcmV2QWN0aXZlSW5kZXggKyAxXG4gICAgXG4gICAgICAgICAgaWYgKHByZXZBY3RpdmVJbmRleCA9PT0gNikge1xuICAgICAgICAgICAgbmV3QWN0aXZlSW5kZXggPSA4XG4gICAgICAgICAgfVxuICAgIFxuICAgICAgICAgIC8vIHZhbGlkYXRlIGludml0ZWVzIGxpc3RcbiAgICAgICAgICBpZiAocHJldkFjdGl2ZUluZGV4ID09PSA4KSB7XG4gICAgICAgICAgICBpZiAoaW52aXRlZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdObyBpbnZpdGVlcyBhZGRlZCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdQbGVhc2UgYWRkIGF0IGxlYXN0IG9uZSBpbnZpdGVlIGluIG9yZGVyIHRvIGFkZCB5b3VyIG1lZXRpbmcnLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA5MDAwLFxuICAgICAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICBuZXdBY3RpdmVJbmRleCA9IDhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgaWYgKHByZXZBY3RpdmVJbmRleCA9PT0gOSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgIFxuICAgICAgICAgIGlmICghcHJldkNvbXBsZXRlZFN0ZXAgfHwgKHByZXZDb21wbGV0ZWRTdGVwIDwgcHJldkFjdGl2ZUluZGV4KSkge1xuICAgICAgICAgICAgY29uc3QgbmV3Q29tcGxldGVkU3RlcCA9IHByZXZBY3RpdmVJbmRleFxuICAgICAgICAgICAgc2V0Q29tcGxldGVkU3RlcChuZXdDb21wbGV0ZWRTdGVwKVxuICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICBpZiAobmV3QWN0aXZlSW5kZXggIT09IHByZXZBY3RpdmVJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldEFjdGl2ZUluZGV4KG5ld0FjdGl2ZUluZGV4KVxuICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBcbiAgICBcbiAgICAgICAgaWYgKHByZXZBY3RpdmVJbmRleCA9PT0gOSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgXG4gICAgICAgIGxldCBuZXdBY3RpdmVJbmRleCA9IHByZXZBY3RpdmVJbmRleCArIDFcbiAgICBcbiAgICAgICAgLy8gdmFsaWRhdGUgaW52aXRlZXMgbGlzdFxuICAgICAgICBpZiAocHJldkFjdGl2ZUluZGV4ID09PSA4KSB7XG4gICAgICAgICAgICBpZiAoaW52aXRlZXM/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnaW5mbycsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdObyBpbnZpdGVlcyBhZGRlZCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdQbGVhc2UgYWRkIGF0IGxlYXN0IG9uZSBpbnZpdGVlIGluIG9yZGVyIHRvIGFkZCB5b3VyIG1lZXRpbmcnLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA5MDAwLFxuICAgICAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICBuZXdBY3RpdmVJbmRleCA9IDhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmICghcHJldkNvbXBsZXRlZFN0ZXAgfHwgKHByZXZDb21wbGV0ZWRTdGVwIDwgcHJldkFjdGl2ZUluZGV4KSkge1xuICAgICAgICAgIGNvbnN0IG5ld0NvbXBsZXRlZFN0ZXAgPSBwcmV2QWN0aXZlSW5kZXhcbiAgICAgICAgICBzZXRDb21wbGV0ZWRTdGVwKG5ld0NvbXBsZXRlZFN0ZXApXG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKG5ld0FjdGl2ZUluZGV4ICE9PSBwcmV2QWN0aXZlSW5kZXgpIHtcbiAgICAgICAgICBzZXRBY3RpdmVJbmRleChuZXdBY3RpdmVJbmRleClcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgY29uc3QgcmVuZGVyTmV4dEJ1dHRvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ID09PSAxMCkge1xuICAgICAgICAgIHJldHVybiA8Qm94IHB0PXt7IHBob25lOiAnbScsIHRhYmxldDogJ3MnIH19Lz5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoYWN0aXZlSW5kZXggPT09IDkpICYmIChpbnZpdGVlcz8ubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIDxCb3ggcHQ9e3sgcGhvbmU6ICdtJywgdGFibGV0OiAncycgfX0vPlxuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEJveCBwPXt7IHBob25lOiAncycsIHRhYmxldDogJ20nIH19PlxuICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtnb1RvTmV4dFN0ZXB9PlxuICAgICAgICAgICAgICBOZXh0XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L0JveD5cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IHJlbmRlclN1Ym1pdEJ1dHRvbiA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxCb3ggcHQ9e3sgcGhvbmU6ICdtJywgdGFibGV0OiAnbCcgfX0+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtlZGl0TWVldGluZ0Fzc2lzdH0+XG4gICAgICAgICAgICAgICAgICAgIFN1Ym1pdFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCByZW5kZXJDdXJyZW50U3RlcCA9ICgpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIDAgLSBFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwXG4gICAgICAgICAqIDEgLSBFZGl0TWVldGluZ0Fzc2lzdFZpcnR1YWxNZWV0XG4gICAgICAgICAqIDIgLSBFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwM1xuICAgICAgICAgKiAzIC0gRWRpdE1lZXRpbmdBc3Npc3RBbGFybXNcbiAgICAgICAgICogNCAtIEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXA1XG4gICAgICAgICAqIDUgLSBFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwNlxuICAgICAgICAgKiA2IC0gRWRpdE1lZXRpbmdBc3Npc3RCYXNlU3RlcDdcbiAgICAgICAgICogNyAtIEVkaXRNZWV0aW5nQXNzaXN0UmVjdXJTdGVwQWx0XG4gICAgICAgICAqIDggLSBFZGl0TWVldGluZ0Fzc2lzdEludml0ZWVzXG4gICAgICAgICAqL1xuXG4gICAgICAgIHN3aXRjaChhY3RpdmVJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOiBcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8Qm94IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0gZmxleD17MX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RWRpdE1lZXRpbmdBc3Npc3RCYXNlU3RlcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzPXtub3Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5PXtzdW1tYXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1N0YXJ0RGF0ZT17d2luZG93U3RhcnREYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0VuZERhdGU9e3dpbmRvd0VuZERhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb249e2xvY2F0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudE5vdGVzPXtzZXROb3Rlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRTdW1tYXJ5PXtzZXRTdW1tYXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudFdpbmRvd1N0YXJ0RGF0ZT17c2V0V2luZG93U3RhcnREYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudFdpbmRvd0VuZERhdGU9e3NldFdpbmRvd0VuZERhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50TG9jYXRpb249e3NldExvY2F0aW9ufSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWw9e2NhbmNlbH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50Q2FuY2VsPXtzZXRDYW5jZWx9IFxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyU3VibWl0QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyTmV4dEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSAxOiBcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8Qm94IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0gZmxleD17MX0gYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RWRpdE1lZXRpbmdBc3Npc3RWaXJ0dWFsTWVldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzWm9vbUF2YWlsYWJsZT17aXNab29tQXZhaWxhYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzR29vZ2xlTWVldEF2YWlsYWJsZT17aXNHb29nbGVNZWV0QXZhaWxhYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21NZWV0PXt6b29tTWVldH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb29nbGVNZWV0PXtnb29nbGVNZWV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZUNvbmZlcmVuY2U9e2VuYWJsZUNvbmZlcmVuY2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50Wm9vbU1lZXQ9e3NldFpvb21NZWV0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudEdvb2dsZU1lZXQ9e3NldEdvb2dsZU1lZXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50RW5hYmxlQ29uZmVyZW5jZT17c2V0RW5hYmxlQ29uZmVyZW5jZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRDb25mZXJlbmNlQXBwPXtzZXRDb25mZXJlbmNlQXBwfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyU3VibWl0QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyUHJldkJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJOZXh0QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBmbGV4PXsxfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRVcGRhdGVzPXtzZW5kVXBkYXRlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWVzdHNDYW5JbnZpdGVPdGhlcnM9e2d1ZXN0c0Nhbkludml0ZU90aGVyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc3BhcmVuY3k9e3RyYW5zcGFyZW5jeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5PXt2aXNpYmlsaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3ROYW1lPXtob3N0TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRTZW5kVXBkYXRlcz17c2V0U2VuZFVwZGF0ZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50R3Vlc3RzQ2FuSW52aXRlT3RoZXJzPXtzZXRHdWVzdHNDYW5JbnZpdGVPdGhlcnN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50VHJhbnNwYXJlbmN5PXtzZXRUcmFuc3BhcmVuY3l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50VmlzaWJpbGl0eT17c2V0VmlzaWJpbGl0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRIb3N0TmFtZT17c2V0SG9zdE5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJTdWJtaXRCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJQcmV2QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlck5leHRCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPEJveCBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19IGZsZXg9ezF9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXRNZWV0aW5nQXNzaXN0QWxhcm1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlRGVmYXVsdEFsYXJtcz17dXNlRGVmYXVsdEFsYXJtc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGFybXM9e2FsYXJtc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRBbGFybXM9e3NldEFsYXJtc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRVc2VEZWZhdWx0QWxhcm1zPXtzZXRVc2VEZWZhdWx0QWxhcm1zfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyU3VibWl0QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyUHJldkJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJOZXh0QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBmbGV4PXsxfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbElmQW55UmVmdXNlPXtjYW5jZWxJZkFueVJlZnVzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVBdHRlbmRlZVByZWZlcmVuY2VzPXtlbmFibGVBdHRlbmRlZVByZWZlcmVuY2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVuZGVlQ2FuTW9kaWZ5PXthdHRlbmRlZUNhbk1vZGlmeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVEYXRlPXtleHBpcmVEYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uPXtkdXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRDYW5jZWxJZkFueVJlZnVzZT17c2V0Q2FuY2VsSWZBbnlSZWZ1c2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50RW5hYmxlQXR0ZW5kZWVQcmVmZXJlbmNlcz17c2V0RW5hYmxlQXR0ZW5kZWVQcmVmZXJlbmNlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRBdHRlbmRlZUNhbk1vZGlmeT17c2V0QXR0ZW5kZWVDYW5Nb2RpZnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50RXhwaXJlRGF0ZT17c2V0RXhwaXJlRGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnREdXJhdGlvbj17c2V0RHVyYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJTdWJtaXRCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBmbGV4RGlyZWN0aW9uPVwicm93XCIganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyZW5kZXJQcmV2QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlck5leHRCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPEJveCBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19IGZsZXg9ezF9IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXRNZWV0aW5nQXNzaXN0QmFzZVN0ZXA2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNCdWZmZXJUaW1lPXtpc0J1ZmZlclRpbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlRXZlbnRNaW51dGVzPXtiZWZvcmVFdmVudE1pbnV0ZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJFdmVudE1pbnV0ZXM9e2FmdGVyRXZlbnRNaW51dGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudElzQnVmZmVyVGltZT17c2V0SXNCdWZmZXJUaW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudEJlZm9yZUV2ZW50TWludXRlcz17c2V0QmVmb3JlRXZlbnRNaW51dGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudEFmdGVyRXZlbnRNaW51dGVzPXtzZXRBZnRlckV2ZW50TWludXRlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0ganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclN1Ym1pdEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cInNwYWNlLWJldHdlZW5cIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclByZXZCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyTmV4dEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBmbGV4PXsxfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0TWVldGluZ0Fzc2lzdEJhc2VTdGVwN1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFueW9uZUNhbkFkZFNlbGY9e2FueW9uZUNhbkFkZFNlbGZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3Vlc3RzQ2FuU2VlT3RoZXJHdWVzdHM9e2d1ZXN0c0NhblNlZU90aGVyR3Vlc3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pblRocmVzaG9sZENvdW50PXttaW5UaHJlc2hvbGRDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBndWFyYW50ZWVBdmFpbGFiaWxpdHk9e2d1YXJhbnRlZUF2YWlsYWJpbGl0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlY3VycmluZz17aXNSZWN1cnJpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja0FmdGVyPXtsb2NrQWZ0ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50QW55b25lQ2FuQWRkU2VsZj17c2V0QW55b25lQ2FuQWRkU2VsZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRHdWVzdHNDYW5TZWVPdGhlckd1ZXN0cz17c2V0R3Vlc3RzQ2FuU2VlT3RoZXJHdWVzdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50TWluVGhyZXNob2xkQ291bnQ9e3NldE1pblRocmVzaG9sZENvdW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudEd1YXJhbnRlZUF2YWlsYWJpbGl0eT17c2V0R3VhcmFudGVlQXZhaWxhYmlsaXR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudElzUmVjdXJyaW5nPXtzZXRJc1JlY3VycmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXJlbnRMb2NrQWZ0ZXI9e3NldExvY2tBZnRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0ganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclN1Ym1pdEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cInNwYWNlLWJldHdlZW5cIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclByZXZCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyTmV4dEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBmbGV4PXsxfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0TWVldGluZ0Fzc2lzdFJlY3VyU3RlcEFsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXF1ZW5jeT17ZnJlcXVlbmN5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsPXtpbnRlcnZhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnRpbD17dW50aWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50RnJlcXVlbmN5PXtzZXRGcmVxdWVuY3l9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50SW50ZXJ2YWw9e3NldEludGVydmFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhcmVudFVudGlsPXtzZXRVbnRpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0ganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclN1Ym1pdEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cInNwYWNlLWJldHdlZW5cIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclByZXZCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyTmV4dEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBmbGV4PXsxfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0TWVldGluZ0Fzc2lzdEludml0ZWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52aXRlZXM9e2ludml0ZWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZD17dXNlcklkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudD17Y2xpZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvc3ROYW1lPXtob3N0TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWV0aW5nSWQ9e21lZXRpbmdJZH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFyZW50SW52aXRlZXM9e3NldEludml0ZWVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyU3VibWl0QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGZsZXhEaXJlY3Rpb249XCJyb3dcIiBqdXN0aWZ5Q29udGVudD1cInNwYWNlLWJldHdlZW5cIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclByZXZCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyTmV4dEJ1dHRvbigpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fSBmbGV4PXsxfSBhbGlnbkl0ZW1zPVwiY2VudGVyXCIganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94IGZsZXg9ezF9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScgfX0gcD17eyBwaG9uZTogJ3MnLCB0YWJsZXQ6ICdtJyB9fSBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBtaW5IZWlnaHQ9XCI2NXZoXCIgbWF4SGVpZ2h0PVwiNjV2aFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggcD17eyBwaG9uZTogJ20nLCB0YWJsZXQ6ICdsJ319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB2YXJpYW50PVwic3ViaGVhZGVyTm9ybWFsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0IE1lZXRpbmcgQXNzaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyU3VibWl0QnV0dG9uKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggZmxleERpcmVjdGlvbj1cInJvd1wiIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBzdHlsZT17eyB3aWR0aDogJzc1JScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlclByZXZCdXR0b24oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm94IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxCb3gganVzdGlmeUNvbnRlbnQ9XCJjZW50ZXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgbWluSGVpZ2h0PVwiNjV2aFwiIG1heEhlaWdodD1cIjY1dmhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWd1bGFyQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB2YXJpYW50PVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9vcHMuLi4gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1JlZ3VsYXJDYXJkPlxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8Qm94IGZsZXg9ezF9IGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgPFdpemFyZFxuICAgICAgICAgICAgICAgIGl0ZW1zPXtbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdTZXQgQmFzZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdTZWxlY3QgVmlydHVhbCBNZWV0JyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVlIEJhc2UnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDMsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1NldCBBbGFybXMnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVlIEJhc2UnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVlIEJhc2UnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogNixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQ29udGludWUgQmFzZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiA3LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDcmVhdGUgUmVjdXJyZW5jZScsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiA4LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdBZGQgSW52aXRlZXMnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogOSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVXBkYXRlIEV2ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdfVxuXG4gICAgICAgICAgICAgICAgY29tcGxldGVkPXtjb21wbGV0ZWRTdGVwfVxuICAgICAgICAgICAgICAgIGFjdGl2ZUluZGV4PXthY3RpdmVJbmRleH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7cmVuZGVyQ3VycmVudFN0ZXAoKX1cbiAgICAgICAgPC9Cb3g+XG4gICAgKVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJFZGl0TWVldGluZ0Fzc2lzdFxuXG4iXX0=