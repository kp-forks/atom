"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateEvent = exports.updateConference = exports.updateEventInGoogle = void 0;
const uuid_1 = require("uuid");
const rrule_1 = require("rrule");
const date_utils_1 = require("@lib/date-utils");
// dayjs.extend(utc)
// dayjs.extend(duration)
// dayjs.extend(timezone)
const googleCalendarHelper_1 = require("@lib/calendarLib/googleCalendarHelper");
const constants_1 = require("@lib/calendarLib/constants");
const constants_2 = require("@lib/zoom/constants");
const zoomMeetingHelper_1 = require("@lib/zoom/zoomMeetingHelper");
const CategoryHelper_1 = require("@lib/Category/CategoryHelper");
const ReminderHelper_1 = require("@lib/Calendar/Reminder/ReminderHelper");
const AttendeeHelper_1 = require("@lib/Calendar/Attendee/AttendeeHelper");
const UserCreateCalendarHelper_1 = require("@lib/Calendar/UserCreateCalendarHelper");
const getEventById_1 = __importDefault(require("@lib/apollo/gql/getEventById"));
const getCalendarIntegrationByResourceAndName_1 = __importDefault(require("@lib/apollo/gql/getCalendarIntegrationByResourceAndName"));
const updateEventInGoogle = async (id, startDate, endDate, userId, client, calendar, conferenceData, attendees, title, allDay, recurringEndDate, frequency, interval, notes, location, isFollowUp, isPreEvent, isPostEvent, modifiable, anyoneCanAddSelf, guestsCanInviteOthers, guestsCanSeeOtherGuests, originalAllDay, alarms, timezone, taskId, taskType, followUpEventId, preEventId, postEventId, forEventId, maxAttendees, sendUpdates, status, transparency, visibility, iCalUID, backgroundColor, foregroundColor, colorId, originalTimezone, useDefaultAlarms, positiveImpactScore, negativeImpactScore, positiveImpactDayOfWeek, positiveImpactTime, negativeImpactDayOfWeek, negativeImpactTime, preferredDayOfWeek, preferredTime, isExternalMeeting, isExternalMeetingModifiable, isMeetingModifiable, isMeeting, dailyTaskList, weeklyTaskList, isBreak, preferredStartTimeRange, preferredEndTimeRange, copyAvailability, copyTimeBlocking, copyTimePreference, copyReminders, copyPriorityLevel, copyModifiable, copyCategories, copyIsBreak, timeBlocking, userModifiedAvailability, userModifiedTimeBlocking, userModifiedTimePreference, userModifiedReminders, userModifiedPriorityLevel, userModifiedCategories, userModifiedModifiable, userModifiedIsBreak, hardDeadline, softDeadline, copyIsMeeting, copyIsExternalMeeting, userModifiedIsMeeting, userModifiedIsExternalMeeting, duration, copyDuration, userModifiedDuration, method, unlink, byWeekDay, priority) => {
    try {
        console.log(alarms, ' alarms inside updateEventInGoogle');
        console.log(hardDeadline, softDeadline, ' hardDeadline, softDeadline inside updateEventInGoogle');
        // validate eventId
        const oldEvent = (await client.query({
            query: getEventById_1.default,
            variables: {
                id: id,
            },
        })).data?.Event_by_pk;
        if (!oldEvent) {
            throw new Error('Event not found');
        }
        let rule = {};
        if (recurringEndDate && frequency) {
            rule = new rrule_1.RRule({
                freq: (0, UserCreateCalendarHelper_1.getRruleFreq)(frequency),
                interval,
                until: (0, date_utils_1.dayjs)(recurringEndDate).toDate(),
                byweekday: byWeekDay?.map((i) => (0, UserCreateCalendarHelper_1.getRRuleDay)(i)),
            });
        }
        let modifiedAlarms = {};
        if (typeof alarms?.[0] === 'string') {
            modifiedAlarms = {
                useDefault: false,
                overrides: alarms.map((i) => ({
                    method: 'email',
                    minutes: date_utils_1.dayjs.duration((0, date_utils_1.dayjs)(startDate).diff((0, date_utils_1.dayjs)(i))).asMinutes(),
                })),
            };
        }
        else if (typeof alarms?.[0] === 'number') {
            modifiedAlarms = {
                useDefault: false,
                overrides: alarms.map((i) => ({ method: 'email', minutes: i })),
            };
        }
        else if (useDefaultAlarms) {
            modifiedAlarms = { useDefault: useDefaultAlarms };
        }
        else {
            // default
            modifiedAlarms = { useDefault: useDefaultAlarms };
        }
        const recurrenceStringArray = frequency &&
            recurringEndDate &&
            interval && [rule.toString()];
        console.log(recurrenceStringArray, ' recurrenceStringArray');
        console.log([rule.toString()], ' [rule.toString()]');
        await (0, googleCalendarHelper_1.patchGoogleEvent)(client, userId, calendar?.id, id.split('#')[0], endDate, startDate, undefined, maxAttendees, sendUpdates, anyoneCanAddSelf, attendees, conferenceData, title, notes, timezone, allDay && (0, date_utils_1.dayjs)(startDate).format('YYYY-MM-DD'), allDay && (endDate || startDate), undefined, guestsCanInviteOthers, false, guestsCanSeeOtherGuests, undefined, undefined, frequency && recurringEndDate && interval ? [rule.toString()] : undefined, modifiedAlarms?.overrides?.[0]
            ? modifiedAlarms
            : null, undefined, status, transparency, visibility, iCalUID, false, undefined, undefined, undefined, undefined, undefined, location?.title);
        console.log(recurringEndDate && frequency && id, ' (recurringEndDate && frequency && eventId)');
        await (0, UserCreateCalendarHelper_1.atomicUpsertEventInDb)(client, id, id.split('#')[0], userId, (0, date_utils_1.dayjs)(startDate).format(), (0, date_utils_1.dayjs)(endDate).format(), (0, date_utils_1.dayjs)().toISOString(), false, priority || 1, isFollowUp ?? false, isPreEvent ?? false, isPostEvent ?? false, modifiable ?? true, anyoneCanAddSelf ?? false, guestsCanInviteOthers ?? false, guestsCanSeeOtherGuests ?? true, (0, date_utils_1.dayjs)(startDate).format(), originalAllDay ?? false, (0, date_utils_1.dayjs)().toISOString(), calendar?.id, title, allDay ?? false, (frequency &&
            recurringEndDate &&
            interval && { frequency, endDate: recurringEndDate, interval }) ??
            null, location, notes, undefined, undefined, 
        // modifiedAlarms,
        timezone ?? date_utils_1.dayjs.tz.guess(), taskId, taskType, followUpEventId, preEventId, postEventId, forEventId, conferenceData?.conferenceId, maxAttendees, sendUpdates, status, title, transparency, visibility, recurringEndDate && frequency && id, iCalUID, undefined, colorId, undefined, // creator - read only G-event
        undefined, // organizer - G-event import only
        false, // endTimeUnspecified - only for G-events
        (frequency && recurringEndDate && interval && [rule.toString()]) ?? null, originalTimezone, //timezone of recurrence instance
        undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, backgroundColor, foregroundColor, useDefaultAlarms, positiveImpactScore, negativeImpactScore, positiveImpactDayOfWeek, positiveImpactTime, negativeImpactDayOfWeek, negativeImpactTime, preferredDayOfWeek, preferredTime, isExternalMeeting, isExternalMeetingModifiable, isMeetingModifiable, isMeeting, dailyTaskList, weeklyTaskList, isBreak, preferredStartTimeRange, preferredEndTimeRange, copyAvailability, copyTimeBlocking, copyTimePreference, copyReminders, copyPriorityLevel, copyModifiable, copyCategories, copyIsBreak, timeBlocking, userModifiedAvailability, userModifiedTimeBlocking, userModifiedTimePreference, userModifiedReminders, userModifiedPriorityLevel, userModifiedCategories, userModifiedModifiable, userModifiedIsBreak, hardDeadline, softDeadline, copyIsMeeting, copyIsExternalMeeting, userModifiedIsMeeting, userModifiedIsExternalMeeting, duration, copyDuration, userModifiedDuration, method, unlink, byWeekDay);
        if (alarms?.length > 0) {
            console.log(alarms, ' alarms inside if clause inside updateEventInGoogle');
            await (0, ReminderHelper_1.updateRemindersForEvent)(client, id, userId, alarms, timezone, useDefaultAlarms);
        }
        else {
            await (0, ReminderHelper_1.removeRemindersForEvent)(client, id);
        }
    }
    catch (e) {
        console.log(e, ' this is e for updateEventInGoogle');
    }
};
exports.updateEventInGoogle = updateEventInGoogle;
const updateConference = async (conferenceId, startDate, endDate, client, calendarId, zoomMeet = false, googleMeet = false, userId, meetingTypeString, attendees, requestId, summary, taskType, notes, zoomPassword, zoomPrivateMeeting) => {
    try {
        // validate
        if (!startDate || !endDate) {
            throw new Error('startDate and endDate are required');
        }
        if (!conferenceId) {
            throw new Error('conferenceId is required');
        }
        if (!calendarId) {
            throw new Error('calendarId is required');
        }
        if (!userId) {
            throw new Error('userId is required');
        }
        let newJoinUrl = '';
        let newStartUrl = '';
        let newConferenceStatus = '';
        let newConferenceId = conferenceId;
        let conferenceName = constants_2.zoomName;
        let conferenceType = 'addOn';
        let conferenceData = {
            type: 'addOn',
            name: conferenceName,
            requestId: (0, uuid_1.v4)(),
            conferenceId,
            createRequest: false,
            entryPoints: [
                {
                    label: constants_2.zoomName,
                    entryPointType: 'video',
                    uri: newJoinUrl,
                    password: zoomPassword,
                },
            ],
        };
        let newRequestId = requestId || (0, uuid_1.v4)();
        if (zoomMeet) {
            const isZoomAvailable = await (0, zoomMeetingHelper_1.zoomAvailable)(client, userId);
            if (isZoomAvailable) {
                const zoomInteg = (await client.query({
                    query: getCalendarIntegrationByResourceAndName_1.default,
                    variables: {
                        userId,
                        name: constants_2.zoomName,
                        resource: constants_2.zoomResourceName,
                    },
                })).data?.Calendar_Integration?.[0];
                const { id: zoomConferenceId, join_url: zoomJoinUrl, start_url: zoomStartUrl, status: zoomStatus, } = await (0, zoomMeetingHelper_1.updateZoomMeeting)(userId, parseInt(newConferenceId, 10), (0, date_utils_1.dayjs)(startDate).format(), date_utils_1.dayjs.tz.guess(), summary ?? taskType ?? notes, date_utils_1.dayjs
                    .duration({
                    hours: (0, date_utils_1.dayjs)(endDate).hour(),
                    minutes: (0, date_utils_1.dayjs)(endDate).minute(),
                })
                    .asMinutes(), zoomInteg?.contactName, zoomInteg?.contactEmail, attendees?.map((i) => i?.email), zoomPrivateMeeting);
                newConferenceId = zoomConferenceId;
                newJoinUrl = zoomJoinUrl;
                newStartUrl = zoomStartUrl;
                newConferenceStatus = zoomStatus;
                conferenceName = constants_2.zoomName;
                conferenceType = 'addOn';
                conferenceData = {
                    type: conferenceType,
                    name: conferenceName,
                    requestId: newRequestId,
                    conferenceId: `${newConferenceId}`,
                    createRequest: false,
                    entryPoints: [
                        {
                            label: constants_2.zoomName,
                            entryPointType: 'video',
                            uri: newJoinUrl,
                            password: zoomPassword,
                        },
                    ],
                };
            }
        }
        else if (googleMeet) {
            conferenceName = constants_1.googleMeetName;
            conferenceType = 'hangoutsMeet';
            conferenceData = {
                type: conferenceType,
                name: conferenceName,
                requestId: newRequestId,
                createRequest: true,
            };
        }
        await (0, UserCreateCalendarHelper_1.upsertConferenceInDb)(client, typeof newConferenceId === 'number'
            ? `${newConferenceId}`
            : newConferenceId, userId, calendarId, zoomMeet ? constants_2.zoomResourceName : constants_1.googleResourceName, newRequestId, meetingTypeString, undefined, undefined, zoomMeet ? constants_2.zoomName : constants_1.googleMeetName, notes, conferenceData?.entryPoints, undefined, undefined, undefined, newJoinUrl, newStartUrl, zoomPrivateMeeting);
        return {
            newConferenceId,
            newJoinUrl,
            newStartUrl,
            newConferenceStatus,
            conferenceName,
            conferenceType,
            conferenceData,
        };
    }
    catch (e) {
        console.log(e, ' this is e for updateConference');
    }
};
exports.updateConference = updateConference;
const updateEvent = async (id, startDate, endDate, userId, client, selectedCalendarId, categoryIds, title, allDay, recurringEndDate, frequency, interval, alarms, notes, location, isFollowUp, isPreEvent, isPostEvent, modifiable, anyoneCanAddSelf, guestsCanInviteOthers, guestsCanSeeOtherGuests, originalAllDay, timezone, taskId, taskType, followUpEventId, preEventId, postEventId, forEventId, zoomMeet, googleMeet, meetingTypeString, zoomPassword, zoomPrivateMeeting, attendees, conferenceId, maxAttendees, sendUpdates, status, summary, transparency, visibility, recurringEventId, iCalUID, htmlLink, colorId, originalTimezone, backgroundColor, foregroundColor, useDefaultAlarms, positiveImpactScore, negativeImpactScore, positiveImpactDayOfWeek, positiveImpactTime, negativeImpactDayOfWeek, negativeImpactTime, preferredDayOfWeek, preferredTime, isExternalMeeting, isExternalMeetingModifiable, isMeetingModifiable, isMeeting, dailyTaskList, weeklyTaskList, isBreak, preferredStartTimeRange, preferredEndTimeRange, copyAvailability, copyTimeBlocking, copyTimePreference, copyReminders, copyPriorityLevel, copyModifiable, copyCategories, copyIsBreak, timeBlocking, userModifiedAvailability, userModifiedTimeBlocking, userModifiedTimePreference, userModifiedReminders, userModifiedPriorityLevel, userModifiedCategories, userModifiedModifiable, userModifiedIsBreak, hardDeadline, softDeadline, copyIsMeeting, copyIsExternalMeeting, userModifiedIsMeeting, userModifiedIsExternalMeeting, duration, copyDuration, userModifiedDuration, method, unlink, byWeekDay, priority) => {
    try {
        console.log(alarms, ' alarms inside updateEvent');
        console.log(categoryIds, ' categoryIds inside updateEvent');
        console.log(hardDeadline, softDeadline, ' hardDeadline, softDeadline inside updateEvent');
        let calendar = {};
        if (selectedCalendarId?.length > 0) {
            calendar = await (0, UserCreateCalendarHelper_1.getCalendarInDb)(client, userId, selectedCalendarId);
        }
        // validate eventId and selectedCalendarId
        if (id.length === 0) {
            throw new Error('id is required');
        }
        if (selectedCalendarId.length === 0) {
            throw new Error('selectedCalendarId is required');
        }
        if (calendar?.resource === constants_1.googleResourceName) {
            const modifiedAttendees = attendees?.map((a) => ({
                additionalGuests: a?.additionalGuests,
                displayName: a?.name,
                email: a?.emails?.[0]?.value,
                id: a?.id,
            }));
            if (conferenceId) {
                // create conferece
                const { 
                // newConferenceId,
                // newJoinUrl,
                // newStartUrl,
                // newConferenceStatus,
                // conferenceName,
                // conferenceType,
                conferenceData, } = await (0, exports.updateConference)(conferenceId, startDate, endDate, client, calendar?.id, zoomMeet, googleMeet, userId, meetingTypeString, modifiedAttendees, undefined, summary, taskType, notes, zoomPassword, zoomPrivateMeeting);
                await (0, exports.updateEventInGoogle)(id, startDate, endDate, userId, client, calendar, conferenceData, // isConference
                modifiedAttendees, title, allDay, recurringEndDate, frequency, interval, notes, location, isFollowUp, isPreEvent, isPostEvent, modifiable, anyoneCanAddSelf, guestsCanInviteOthers, guestsCanSeeOtherGuests, originalAllDay, alarms, timezone, taskId, taskType, followUpEventId, preEventId, postEventId, forEventId, maxAttendees, sendUpdates, status, transparency, visibility, iCalUID, backgroundColor, foregroundColor, colorId, originalTimezone, useDefaultAlarms, positiveImpactScore, negativeImpactScore, positiveImpactDayOfWeek, positiveImpactTime, negativeImpactDayOfWeek, negativeImpactTime, preferredDayOfWeek, preferredTime, isExternalMeeting, isExternalMeetingModifiable, isMeetingModifiable, isMeeting, dailyTaskList, weeklyTaskList, isBreak, preferredStartTimeRange, preferredEndTimeRange, copyAvailability, copyTimeBlocking, copyTimePreference, copyReminders, copyPriorityLevel, copyModifiable, copyCategories, copyIsBreak, timeBlocking, userModifiedAvailability, userModifiedTimeBlocking, userModifiedTimePreference, userModifiedReminders, userModifiedPriorityLevel, userModifiedCategories, userModifiedModifiable, userModifiedIsBreak, hardDeadline, softDeadline, copyIsMeeting, copyIsExternalMeeting, userModifiedIsMeeting, userModifiedIsExternalMeeting, duration, copyDuration, userModifiedDuration, method, unlink, byWeekDay, priority);
            }
            else {
                if (googleMeet || zoomMeet) {
                    const { 
                    // newConferenceId,
                    // newJoinUrl,
                    // newStartUrl,
                    // newConferenceStatus,
                    // conferenceName,
                    // conferenceType,
                    conferenceData, } = await (0, UserCreateCalendarHelper_1.createConference)(startDate, endDate, client, calendar?.id, zoomMeet, googleMeet, userId, meetingTypeString, modifiedAttendees, undefined, summary, taskType, notes, zoomPassword, zoomPrivateMeeting);
                    await (0, exports.updateEventInGoogle)(id, startDate, endDate, userId, client, calendar, conferenceData, // isConference
                    modifiedAttendees, title, allDay, recurringEndDate, frequency, interval, notes, location, isFollowUp, isPreEvent, isPostEvent, modifiable, anyoneCanAddSelf, guestsCanInviteOthers, guestsCanSeeOtherGuests, originalAllDay, alarms, timezone, taskId, taskType, followUpEventId, preEventId, postEventId, forEventId, maxAttendees, sendUpdates, status, transparency, visibility, iCalUID, backgroundColor, foregroundColor, colorId, originalTimezone, useDefaultAlarms, positiveImpactScore, negativeImpactScore, positiveImpactDayOfWeek, positiveImpactTime, negativeImpactDayOfWeek, negativeImpactTime, preferredDayOfWeek, preferredTime, isExternalMeeting, isExternalMeetingModifiable, isMeetingModifiable, isMeeting, dailyTaskList, weeklyTaskList, isBreak, preferredStartTimeRange, preferredEndTimeRange, copyAvailability, copyTimeBlocking, copyTimePreference, copyReminders, copyPriorityLevel, copyModifiable, copyCategories, copyIsBreak, timeBlocking, userModifiedAvailability, userModifiedTimeBlocking, userModifiedTimePreference, userModifiedReminders, userModifiedPriorityLevel, userModifiedCategories, userModifiedModifiable, userModifiedIsBreak, hardDeadline, softDeadline, copyIsMeeting, copyIsExternalMeeting, userModifiedIsMeeting, userModifiedIsExternalMeeting, duration, copyDuration, userModifiedDuration, method, unlink, byWeekDay, priority);
                }
                else {
                    await (0, exports.updateEventInGoogle)(id, startDate, endDate, userId, client, calendar, undefined, // isConference
                    modifiedAttendees, title, allDay, recurringEndDate, frequency, interval, notes, location, isFollowUp, isPreEvent, isPostEvent, modifiable, anyoneCanAddSelf, guestsCanInviteOthers, guestsCanSeeOtherGuests, originalAllDay, alarms, timezone, taskId, taskType, followUpEventId, preEventId, postEventId, forEventId, maxAttendees, sendUpdates, status, transparency, visibility, iCalUID, backgroundColor, foregroundColor, colorId, originalTimezone, useDefaultAlarms, positiveImpactScore, negativeImpactScore, positiveImpactDayOfWeek, positiveImpactTime, negativeImpactDayOfWeek, negativeImpactTime, preferredDayOfWeek, preferredTime, isExternalMeeting, isExternalMeetingModifiable, isMeetingModifiable, isMeeting, dailyTaskList, weeklyTaskList, isBreak, preferredStartTimeRange, preferredEndTimeRange, copyAvailability, copyTimeBlocking, copyTimePreference, copyReminders, copyPriorityLevel, copyModifiable, copyCategories, copyIsBreak, timeBlocking, userModifiedAvailability, userModifiedTimeBlocking, userModifiedTimePreference, userModifiedReminders, userModifiedPriorityLevel, userModifiedCategories, userModifiedModifiable, userModifiedIsBreak, hardDeadline, softDeadline, copyIsMeeting, copyIsExternalMeeting, userModifiedIsMeeting, userModifiedIsExternalMeeting, duration, copyDuration, userModifiedDuration, method, unlink, byWeekDay, priority);
                }
            }
            if (attendees?.length > 0) {
                await (0, AttendeeHelper_1.deleteAttendeesForEvent)(client, id);
                // create new attendees
                const attendeePromises = attendees.map((a) => {
                    return (0, AttendeeHelper_1.upsertAttendeesInDb)(client, (0, uuid_1.v4)(), userId, id, a?.emails, a?.name, a?.id, a?.phoneNumbers, a?.imAddresses, a?.additionalGuests, a?.optional, a?.resource);
                });
                await Promise.all(attendeePromises);
            }
        }
        if (categoryIds?.length > 0) {
            console.log(categoryIds, ' categoryIds after if if inside updateEvent');
            // remove old category connections
            await (0, CategoryHelper_1.removeAllCategoriesForEvent)(client, id);
            // create category_event connections
            const categoryPromises = categoryIds?.map((i) => (0, CategoryHelper_1.upsertCategoryEventConnection)(client, userId, i, id));
            await Promise.all(categoryPromises);
        }
        else {
            // remove old category connections
            await (0, CategoryHelper_1.removeAllCategoriesForEvent)(client, id);
        }
    }
    catch (e) {
        console.log(e, ' this is e for updateEvent');
    }
};
exports.updateEvent = updateEvent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXNlckVkaXRDYWxlbmRhckhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlVzZXJFZGl0Q2FsZW5kYXJIZWxwZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsK0JBQWtDO0FBQ2xDLGlDQUE4QjtBQUM5QixnREFBd0M7QUFFeEMsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6Qix5QkFBeUI7QUFFekIsZ0ZBQXlFO0FBS3pFLDBEQUtvQztBQVNwQyxtREFBaUU7QUFDakUsbUVBQStFO0FBRS9FLGlFQUdzQztBQUN0QywwRUFHK0M7QUFDL0MsMEVBRytDO0FBRS9DLHFGQVNnRDtBQUloRCxnRkFBd0Q7QUFDeEQsc0lBQThHO0FBR3ZHLE1BQU0sbUJBQW1CLEdBQUcsS0FBSyxFQUN0QyxFQUFVLEVBQ1YsU0FBaUIsRUFDakIsT0FBZSxFQUNmLE1BQWMsRUFDZCxNQUEyQyxFQUMzQyxRQUFzQixFQUN0QixjQUFtQyxFQUNuQyxTQUFnQyxFQUNoQyxLQUFjLEVBQ2QsTUFBZ0IsRUFDaEIsZ0JBQXlCLEVBQ3pCLFNBQW1DLEVBQ25DLFFBQWlCLEVBQ2pCLEtBQWMsRUFDZCxRQUF1QixFQUN2QixVQUFvQixFQUNwQixVQUFvQixFQUNwQixXQUFxQixFQUNyQixVQUFvQixFQUNwQixnQkFBMEIsRUFDMUIscUJBQStCLEVBQy9CLHVCQUFpQyxFQUNqQyxjQUF3QixFQUN4QixNQUE0QixFQUM1QixRQUFpQixFQUNqQixNQUFlLEVBQ2YsUUFBaUIsRUFDakIsZUFBd0IsRUFDeEIsVUFBbUIsRUFDbkIsV0FBb0IsRUFDcEIsVUFBbUIsRUFDbkIsWUFBcUIsRUFDckIsV0FBNkIsRUFDN0IsTUFBZSxFQUNmLFlBQStCLEVBQy9CLFVBQTJCLEVBQzNCLE9BQWdCLEVBQ2hCLGVBQXdCLEVBQ3hCLGVBQXdCLEVBQ3hCLE9BQWdCLEVBQ2hCLGdCQUF5QixFQUN6QixnQkFBMEIsRUFDMUIsbUJBQTRCLEVBQzVCLG1CQUE0QixFQUM1Qix1QkFBZ0MsRUFDaEMsa0JBQXlCLEVBQ3pCLHVCQUFnQyxFQUNoQyxrQkFBeUIsRUFDekIsa0JBQTJCLEVBQzNCLGFBQW9CLEVBQ3BCLGlCQUEyQixFQUMzQiwyQkFBcUMsRUFDckMsbUJBQTZCLEVBQzdCLFNBQW1CLEVBQ25CLGFBQXVCLEVBQ3ZCLGNBQXdCLEVBQ3hCLE9BQWlCLEVBQ2pCLHVCQUE4QixFQUM5QixxQkFBNEIsRUFDNUIsZ0JBQTBCLEVBQzFCLGdCQUEwQixFQUMxQixrQkFBNEIsRUFDNUIsYUFBdUIsRUFDdkIsaUJBQTJCLEVBQzNCLGNBQXdCLEVBQ3hCLGNBQXdCLEVBQ3hCLFdBQXFCLEVBQ3JCLFlBQTZCLEVBQzdCLHdCQUFrQyxFQUNsQyx3QkFBa0MsRUFDbEMsMEJBQW9DLEVBQ3BDLHFCQUErQixFQUMvQix5QkFBbUMsRUFDbkMsc0JBQWdDLEVBQ2hDLHNCQUFnQyxFQUNoQyxtQkFBNkIsRUFDN0IsWUFBcUIsRUFDckIsWUFBcUIsRUFDckIsYUFBdUIsRUFDdkIscUJBQStCLEVBQy9CLHFCQUErQixFQUMvQiw2QkFBdUMsRUFDdkMsUUFBaUIsRUFDakIsWUFBc0IsRUFDdEIsb0JBQThCLEVBQzlCLE1BQTRCLEVBQzVCLE1BQWdCLEVBQ2hCLFNBQWlCLEVBQ2pCLFFBQWlCLEVBQ2pCLEVBQUU7SUFDRixJQUFJLENBQUM7UUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxvQ0FBb0MsQ0FBQyxDQUFDO1FBQzFELE9BQU8sQ0FBQyxHQUFHLENBQ1QsWUFBWSxFQUNaLFlBQVksRUFDWix3REFBd0QsQ0FDekQsQ0FBQztRQUNGLG1CQUFtQjtRQUNuQixNQUFNLFFBQVEsR0FBRyxDQUNmLE1BQU0sTUFBTSxDQUFDLEtBQUssQ0FBNkI7WUFDN0MsS0FBSyxFQUFFLHNCQUFZO1lBQ25CLFNBQVMsRUFBRTtnQkFDVCxFQUFFLEVBQUUsRUFBRTthQUNQO1NBQ0YsQ0FBQyxDQUNILENBQUMsSUFBSSxFQUFFLFdBQVcsQ0FBQztRQUVwQixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDckMsQ0FBQztRQUVELElBQUksSUFBSSxHQUFRLEVBQUUsQ0FBQztRQUVuQixJQUFJLGdCQUFnQixJQUFJLFNBQVMsRUFBRSxDQUFDO1lBQ2xDLElBQUksR0FBRyxJQUFJLGFBQUssQ0FBQztnQkFDZixJQUFJLEVBQUUsSUFBQSx1Q0FBWSxFQUFDLFNBQVMsQ0FBQztnQkFDN0IsUUFBUTtnQkFDUixLQUFLLEVBQUUsSUFBQSxrQkFBSyxFQUFDLGdCQUFnQixDQUFDLENBQUMsTUFBTSxFQUFFO2dCQUN2QyxTQUFTLEVBQUUsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBQSxzQ0FBVyxFQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pELENBQUMsQ0FBQztRQUNMLENBQUM7UUFFRCxJQUFJLGNBQWMsR0FBNEIsRUFBRSxDQUFDO1FBRWpELElBQUksT0FBTyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUUsQ0FBQztZQUNwQyxjQUFjLEdBQUc7Z0JBQ2YsVUFBVSxFQUFFLEtBQUs7Z0JBQ2pCLFNBQVMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUM1QixNQUFNLEVBQUUsT0FBTztvQkFDZixPQUFPLEVBQUUsa0JBQUssQ0FBQyxRQUFRLENBQUMsSUFBQSxrQkFBSyxFQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFBLGtCQUFLLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBRTtpQkFDckUsQ0FBQyxDQUFDO2FBQ0osQ0FBQztRQUNKLENBQUM7YUFBTSxJQUFJLE9BQU8sTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssUUFBUSxFQUFFLENBQUM7WUFDM0MsY0FBYyxHQUFHO2dCQUNmLFVBQVUsRUFBRSxLQUFLO2dCQUNqQixTQUFTLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDaEUsQ0FBQztRQUNKLENBQUM7YUFBTSxJQUFJLGdCQUFnQixFQUFFLENBQUM7WUFDNUIsY0FBYyxHQUFHLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixFQUFFLENBQUM7UUFDcEQsQ0FBQzthQUFNLENBQUM7WUFDTixVQUFVO1lBQ1YsY0FBYyxHQUFHLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixFQUFFLENBQUM7UUFDcEQsQ0FBQztRQUVELE1BQU0scUJBQXFCLEdBQUcsU0FBUztZQUNyQyxnQkFBZ0I7WUFDaEIsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFFaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO1FBQzdELE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1FBRXJELE1BQU0sSUFBQSx1Q0FBZ0IsRUFDcEIsTUFBTSxFQUNOLE1BQU0sRUFDTixRQUFRLEVBQUUsRUFBRSxFQUNaLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ2hCLE9BQU8sRUFDUCxTQUFTLEVBQ1QsU0FBUyxFQUNULFlBQVksRUFDWixXQUFXLEVBQ1gsZ0JBQWdCLEVBQ2hCLFNBQVMsRUFDVCxjQUFjLEVBQ2QsS0FBSyxFQUNMLEtBQUssRUFDTCxRQUFRLEVBQ1IsTUFBTSxJQUFJLElBQUEsa0JBQUssRUFBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQy9DLE1BQU0sSUFBSSxDQUFDLE9BQU8sSUFBSSxTQUFTLENBQUMsRUFDaEMsU0FBUyxFQUNULHFCQUFxQixFQUNyQixLQUFLLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxTQUFTLEVBQ1QsU0FBUyxJQUFJLGdCQUFnQixJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUN4RSxjQUFxQyxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNwRCxDQUFDLENBQUUsY0FBcUM7WUFDeEMsQ0FBQyxDQUFDLElBQUksRUFDUixTQUFTLEVBQ1QsTUFBTSxFQUNOLFlBQVksRUFDWixVQUFVLEVBQ1YsT0FBTyxFQUNQLEtBQUssRUFDTCxTQUFTLEVBQ1QsU0FBUyxFQUNULFNBQVMsRUFDVCxTQUFTLEVBQ1QsU0FBUyxFQUNULFFBQVEsRUFBRSxLQUFLLENBQ2hCLENBQUM7UUFFRixPQUFPLENBQUMsR0FBRyxDQUNULGdCQUFnQixJQUFJLFNBQVMsSUFBSSxFQUFFLEVBQ25DLDZDQUE2QyxDQUM5QyxDQUFDO1FBRUYsTUFBTSxJQUFBLGdEQUFxQixFQUN6QixNQUFNLEVBQ04sRUFBRSxFQUNGLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ2hCLE1BQU0sRUFDTixJQUFBLGtCQUFLLEVBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQ3pCLElBQUEsa0JBQUssRUFBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFDdkIsSUFBQSxrQkFBSyxHQUFFLENBQUMsV0FBVyxFQUFFLEVBQ3JCLEtBQUssRUFDTCxRQUFRLElBQUksQ0FBQyxFQUNiLFVBQVUsSUFBSSxLQUFLLEVBQ25CLFVBQVUsSUFBSSxLQUFLLEVBQ25CLFdBQVcsSUFBSSxLQUFLLEVBQ3BCLFVBQVUsSUFBSSxJQUFJLEVBQ2xCLGdCQUFnQixJQUFJLEtBQUssRUFDekIscUJBQXFCLElBQUksS0FBSyxFQUM5Qix1QkFBdUIsSUFBSSxJQUFJLEVBQy9CLElBQUEsa0JBQUssRUFBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFDekIsY0FBYyxJQUFJLEtBQUssRUFDdkIsSUFBQSxrQkFBSyxHQUFFLENBQUMsV0FBVyxFQUFFLEVBQ3JCLFFBQVEsRUFBRSxFQUFFLEVBQ1osS0FBSyxFQUNMLE1BQU0sSUFBSSxLQUFLLEVBQ2YsQ0FBQyxTQUFTO1lBQ1IsZ0JBQWdCO1lBQ2hCLFFBQVEsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLENBQUM7WUFDL0QsSUFBSSxFQUNOLFFBQVEsRUFDUixLQUFLLEVBQ0wsU0FBUyxFQUNULFNBQVM7UUFDVCxrQkFBa0I7UUFDbEIsUUFBUSxJQUFJLGtCQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUM1QixNQUFNLEVBQ04sUUFBUSxFQUNSLGVBQWUsRUFDZixVQUFVLEVBQ1YsV0FBVyxFQUNYLFVBQVUsRUFDVixjQUFjLEVBQUUsWUFBWSxFQUM1QixZQUFZLEVBQ1osV0FBVyxFQUNYLE1BQU0sRUFDTixLQUFLLEVBQ0wsWUFBWSxFQUNaLFVBQVUsRUFDVixnQkFBZ0IsSUFBSSxTQUFTLElBQUksRUFBRSxFQUNuQyxPQUFPLEVBQ1AsU0FBUyxFQUNULE9BQU8sRUFDUCxTQUFTLEVBQUUsOEJBQThCO1FBQ3pDLFNBQVMsRUFBRSxrQ0FBa0M7UUFDN0MsS0FBSyxFQUFFLHlDQUF5QztRQUNoRCxDQUFDLFNBQVMsSUFBSSxnQkFBZ0IsSUFBSSxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksRUFDeEUsZ0JBQWdCLEVBQUUsaUNBQWlDO1FBQ25ELFNBQVMsRUFDVCxTQUFTLEVBQ1QsU0FBUyxFQUNULFNBQVMsRUFDVCxTQUFTLEVBQ1QsU0FBUyxFQUNULFNBQVMsRUFDVCxTQUFTLEVBQ1QsZUFBZSxFQUNmLGVBQWUsRUFDZixnQkFBZ0IsRUFDaEIsbUJBQW1CLEVBQ25CLG1CQUFtQixFQUNuQix1QkFBdUIsRUFDdkIsa0JBQWtCLEVBQ2xCLHVCQUF1QixFQUN2QixrQkFBa0IsRUFDbEIsa0JBQWtCLEVBQ2xCLGFBQWEsRUFDYixpQkFBaUIsRUFDakIsMkJBQTJCLEVBQzNCLG1CQUFtQixFQUNuQixTQUFTLEVBQ1QsYUFBYSxFQUNiLGNBQWMsRUFDZCxPQUFPLEVBQ1AsdUJBQXVCLEVBQ3ZCLHFCQUFxQixFQUNyQixnQkFBZ0IsRUFDaEIsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLGNBQWMsRUFDZCxjQUFjLEVBQ2QsV0FBVyxFQUNYLFlBQVksRUFDWix3QkFBd0IsRUFDeEIsd0JBQXdCLEVBQ3hCLDBCQUEwQixFQUMxQixxQkFBcUIsRUFDckIseUJBQXlCLEVBQ3pCLHNCQUFzQixFQUN0QixzQkFBc0IsRUFDdEIsbUJBQW1CLEVBQ25CLFlBQVksRUFDWixZQUFZLEVBQ1osYUFBYSxFQUNiLHFCQUFxQixFQUNyQixxQkFBcUIsRUFDckIsNkJBQTZCLEVBQzdCLFFBQVEsRUFDUixZQUFZLEVBQ1osb0JBQW9CLEVBQ3BCLE1BQU0sRUFDTixNQUFNLEVBQ04sU0FBUyxDQUNWLENBQUM7UUFFRixJQUFJLE1BQU0sRUFBRSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDdkIsT0FBTyxDQUFDLEdBQUcsQ0FDVCxNQUFNLEVBQ04scURBQXFELENBQ3RELENBQUM7WUFDRixNQUFNLElBQUEsd0NBQXVCLEVBQzNCLE1BQU0sRUFDTixFQUFFLEVBQ0YsTUFBTSxFQUNOLE1BQU0sRUFDTixRQUFRLEVBQ1IsZ0JBQWdCLENBQ2pCLENBQUM7UUFDSixDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sSUFBQSx3Q0FBdUIsRUFBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDNUMsQ0FBQztJQUNILENBQUM7SUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsb0NBQW9DLENBQUMsQ0FBQztJQUN2RCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBNVVXLFFBQUEsbUJBQW1CLHVCQTRVOUI7QUFLSyxNQUFNLGdCQUFnQixHQUFHLEtBQUssRUFDbkMsWUFBb0IsRUFDcEIsU0FBaUIsRUFDakIsT0FBZSxFQUNmLE1BQTJDLEVBQzNDLFVBQWtCLEVBQ2xCLFdBQW9CLEtBQUssRUFDekIsYUFBc0IsS0FBSyxFQUMzQixNQUFjLEVBQ2QsaUJBQXdDLEVBQ3hDLFNBQStCLEVBQy9CLFNBQWtCLEVBQ2xCLE9BQWdCLEVBQ2hCLFFBQWlCLEVBQ2pCLEtBQWMsRUFDZCxZQUFxQixFQUNyQixrQkFBNEIsRUFDNUIsRUFBRTtJQUNGLElBQUksQ0FBQztRQUNILFdBQVc7UUFDWCxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDM0IsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO1FBQ3hELENBQUM7UUFDRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDbEIsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQzlDLENBQUM7UUFDRCxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQzVDLENBQUM7UUFFRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDWixNQUFNLElBQUksS0FBSyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDeEMsQ0FBQztRQUVELElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDckIsSUFBSSxtQkFBbUIsR0FBRyxFQUFFLENBQUM7UUFDN0IsSUFBSSxlQUFlLEdBQW9CLFlBQVksQ0FBQztRQUNwRCxJQUFJLGNBQWMsR0FBbUIsb0JBQVEsQ0FBQztRQUM5QyxJQUFJLGNBQWMsR0FBbUIsT0FBTyxDQUFDO1FBQzdDLElBQUksY0FBYyxHQUF1QjtZQUN2QyxJQUFJLEVBQUUsT0FBTztZQUNiLElBQUksRUFBRSxjQUFjO1lBQ3BCLFNBQVMsRUFBRSxJQUFBLFNBQUksR0FBRTtZQUNqQixZQUFZO1lBQ1osYUFBYSxFQUFFLEtBQUs7WUFDcEIsV0FBVyxFQUFFO2dCQUNYO29CQUNFLEtBQUssRUFBRSxvQkFBUTtvQkFDZixjQUFjLEVBQUUsT0FBTztvQkFDdkIsR0FBRyxFQUFFLFVBQVU7b0JBQ2YsUUFBUSxFQUFFLFlBQVk7aUJBQ3ZCO2FBQ0Y7U0FDRixDQUFDO1FBQ0YsSUFBSSxZQUFZLEdBQUcsU0FBUyxJQUFJLElBQUEsU0FBSSxHQUFFLENBQUM7UUFDdkMsSUFBSSxRQUFRLEVBQUUsQ0FBQztZQUNiLE1BQU0sZUFBZSxHQUFHLE1BQU0sSUFBQSxpQ0FBYSxFQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUU1RCxJQUFJLGVBQWUsRUFBRSxDQUFDO2dCQUNwQixNQUFNLFNBQVMsR0FBRyxDQUNoQixNQUFNLE1BQU0sQ0FBQyxLQUFLLENBRWY7b0JBQ0QsS0FBSyxFQUFFLGlEQUF1QztvQkFDOUMsU0FBUyxFQUFFO3dCQUNULE1BQU07d0JBQ04sSUFBSSxFQUFFLG9CQUFRO3dCQUNkLFFBQVEsRUFBRSw0QkFBZ0I7cUJBQzNCO2lCQUNGLENBQUMsQ0FDSCxDQUFDLElBQUksRUFBRSxvQkFBb0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNsQyxNQUFNLEVBQ0osRUFBRSxFQUFFLGdCQUFnQixFQUNwQixRQUFRLEVBQUUsV0FBVyxFQUNyQixTQUFTLEVBQUUsWUFBWSxFQUN2QixNQUFNLEVBQUUsVUFBVSxHQUNuQixHQUFHLE1BQU0sSUFBQSxxQ0FBaUIsRUFDekIsTUFBTSxFQUNOLFFBQVEsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLEVBQzdCLElBQUEsa0JBQUssRUFBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFDekIsa0JBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQ2hCLE9BQU8sSUFBSSxRQUFRLElBQUksS0FBSyxFQUM1QixrQkFBSztxQkFDRixRQUFRLENBQUM7b0JBQ1IsS0FBSyxFQUFFLElBQUEsa0JBQUssRUFBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUU7b0JBQzVCLE9BQU8sRUFBRSxJQUFBLGtCQUFLLEVBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFO2lCQUNqQyxDQUFDO3FCQUNELFNBQVMsRUFBRSxFQUNkLFNBQVMsRUFBRSxXQUFXLEVBQ3RCLFNBQVMsRUFBRSxZQUFZLEVBQ3ZCLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFDL0Isa0JBQWtCLENBQ25CLENBQUM7Z0JBQ0YsZUFBZSxHQUFHLGdCQUFnQixDQUFDO2dCQUNuQyxVQUFVLEdBQUcsV0FBVyxDQUFDO2dCQUN6QixXQUFXLEdBQUcsWUFBWSxDQUFDO2dCQUMzQixtQkFBbUIsR0FBRyxVQUFVLENBQUM7Z0JBQ2pDLGNBQWMsR0FBRyxvQkFBUSxDQUFDO2dCQUMxQixjQUFjLEdBQUcsT0FBTyxDQUFDO2dCQUN6QixjQUFjLEdBQUc7b0JBQ2YsSUFBSSxFQUFFLGNBQWM7b0JBQ3BCLElBQUksRUFBRSxjQUFjO29CQUNwQixTQUFTLEVBQUUsWUFBWTtvQkFDdkIsWUFBWSxFQUFFLEdBQUcsZUFBZSxFQUFFO29CQUNsQyxhQUFhLEVBQUUsS0FBSztvQkFDcEIsV0FBVyxFQUFFO3dCQUNYOzRCQUNFLEtBQUssRUFBRSxvQkFBUTs0QkFDZixjQUFjLEVBQUUsT0FBTzs0QkFDdkIsR0FBRyxFQUFFLFVBQVU7NEJBQ2YsUUFBUSxFQUFFLFlBQVk7eUJBQ3ZCO3FCQUNGO2lCQUNGLENBQUM7WUFDSixDQUFDO1FBQ0gsQ0FBQzthQUFNLElBQUksVUFBVSxFQUFFLENBQUM7WUFDdEIsY0FBYyxHQUFHLDBCQUFjLENBQUM7WUFDaEMsY0FBYyxHQUFHLGNBQWMsQ0FBQztZQUNoQyxjQUFjLEdBQUc7Z0JBQ2YsSUFBSSxFQUFFLGNBQWM7Z0JBQ3BCLElBQUksRUFBRSxjQUFjO2dCQUNwQixTQUFTLEVBQUUsWUFBWTtnQkFDdkIsYUFBYSxFQUFFLElBQUk7YUFDcEIsQ0FBQztRQUNKLENBQUM7UUFFRCxNQUFNLElBQUEsK0NBQW9CLEVBQ3hCLE1BQU0sRUFDTixPQUFPLGVBQWUsS0FBSyxRQUFRO1lBQ2pDLENBQUMsQ0FBQyxHQUFHLGVBQWUsRUFBRTtZQUN0QixDQUFDLENBQUMsZUFBZSxFQUNuQixNQUFNLEVBQ04sVUFBVSxFQUNWLFFBQVEsQ0FBQyxDQUFDLENBQUMsNEJBQWdCLENBQUMsQ0FBQyxDQUFDLDhCQUFrQixFQUNoRCxZQUFZLEVBQ1osaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxTQUFTLEVBQ1QsUUFBUSxDQUFDLENBQUMsQ0FBQyxvQkFBUSxDQUFDLENBQUMsQ0FBQywwQkFBYyxFQUNwQyxLQUFLLEVBQ0wsY0FBYyxFQUFFLFdBQVcsRUFDM0IsU0FBUyxFQUNULFNBQVMsRUFDVCxTQUFTLEVBQ1QsVUFBVSxFQUNWLFdBQVcsRUFDWCxrQkFBa0IsQ0FDbkIsQ0FBQztRQUVGLE9BQU87WUFDTCxlQUFlO1lBQ2YsVUFBVTtZQUNWLFdBQVc7WUFDWCxtQkFBbUI7WUFDbkIsY0FBYztZQUNkLGNBQWM7WUFDZCxjQUFjO1NBQ2YsQ0FBQztJQUNKLENBQUM7SUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsaUNBQWlDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBbEtXLFFBQUEsZ0JBQWdCLG9CQWtLM0I7QUFFSyxNQUFNLFdBQVcsR0FBRyxLQUFLLEVBQzlCLEVBQVUsRUFDVixTQUFpQixFQUNqQixPQUFlLEVBQ2YsTUFBYyxFQUNkLE1BQTJDLEVBQzNDLGtCQUEwQixFQUMxQixXQUFzQixFQUN0QixLQUFjLEVBQ2QsTUFBZ0IsRUFDaEIsZ0JBQXlCLEVBQ3pCLFNBQW1DLEVBQ25DLFFBQWlCLEVBQ2pCLE1BQTRCLEVBQzVCLEtBQWMsRUFDZCxRQUF1QixFQUN2QixVQUFvQixFQUNwQixVQUFvQixFQUNwQixXQUFxQixFQUNyQixVQUFvQixFQUNwQixnQkFBMEIsRUFDMUIscUJBQStCLEVBQy9CLHVCQUFpQyxFQUNqQyxjQUF3QixFQUN4QixRQUFpQixFQUNqQixNQUFlLEVBQ2YsUUFBaUIsRUFDakIsZUFBd0IsRUFDeEIsVUFBbUIsRUFDbkIsV0FBb0IsRUFDcEIsVUFBbUIsRUFDbkIsUUFBa0IsRUFDbEIsVUFBb0IsRUFDcEIsaUJBQXlDLEVBQ3pDLFlBQXFCLEVBQ3JCLGtCQUE0QixFQUM1QixTQUFvQixFQUNwQixZQUFxQixFQUNyQixZQUFxQixFQUNyQixXQUE2QixFQUM3QixNQUFlLEVBQ2YsT0FBZ0IsRUFDaEIsWUFBK0IsRUFDL0IsVUFBMkIsRUFDM0IsZ0JBQXlCLEVBQ3pCLE9BQWdCLEVBQ2hCLFFBQWlCLEVBQ2pCLE9BQWdCLEVBQ2hCLGdCQUF5QixFQUN6QixlQUF3QixFQUN4QixlQUF3QixFQUN4QixnQkFBMEIsRUFDMUIsbUJBQTRCLEVBQzVCLG1CQUE0QixFQUM1Qix1QkFBZ0MsRUFDaEMsa0JBQXlCLEVBQ3pCLHVCQUFnQyxFQUNoQyxrQkFBeUIsRUFDekIsa0JBQTJCLEVBQzNCLGFBQW9CLEVBQ3BCLGlCQUEyQixFQUMzQiwyQkFBcUMsRUFDckMsbUJBQTZCLEVBQzdCLFNBQW1CLEVBQ25CLGFBQXVCLEVBQ3ZCLGNBQXdCLEVBQ3hCLE9BQWlCLEVBQ2pCLHVCQUE4QixFQUM5QixxQkFBNEIsRUFDNUIsZ0JBQTBCLEVBQzFCLGdCQUEwQixFQUMxQixrQkFBNEIsRUFDNUIsYUFBdUIsRUFDdkIsaUJBQTJCLEVBQzNCLGNBQXdCLEVBQ3hCLGNBQXdCLEVBQ3hCLFdBQXFCLEVBQ3JCLFlBQTZCLEVBQzdCLHdCQUFrQyxFQUNsQyx3QkFBa0MsRUFDbEMsMEJBQW9DLEVBQ3BDLHFCQUErQixFQUMvQix5QkFBbUMsRUFDbkMsc0JBQWdDLEVBQ2hDLHNCQUFnQyxFQUNoQyxtQkFBNkIsRUFDN0IsWUFBcUIsRUFDckIsWUFBcUIsRUFDckIsYUFBdUIsRUFDdkIscUJBQStCLEVBQy9CLHFCQUErQixFQUMvQiw2QkFBdUMsRUFDdkMsUUFBaUIsRUFDakIsWUFBc0IsRUFDdEIsb0JBQThCLEVBQzlCLE1BQTRCLEVBQzVCLE1BQWdCLEVBQ2hCLFNBQWlCLEVBQ2pCLFFBQWlCLEVBQ2pCLEVBQUU7SUFDRixJQUFJLENBQUM7UUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSw0QkFBNEIsQ0FBQyxDQUFDO1FBQ2xELE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLGlDQUFpQyxDQUFDLENBQUM7UUFDNUQsT0FBTyxDQUFDLEdBQUcsQ0FDVCxZQUFZLEVBQ1osWUFBWSxFQUNaLGdEQUFnRCxDQUNqRCxDQUFDO1FBQ0YsSUFBSSxRQUFRLEdBQXNCLEVBQUUsQ0FBQztRQUVyQyxJQUFJLGtCQUFrQixFQUFFLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNuQyxRQUFRLEdBQUcsTUFBTSxJQUFBLDBDQUFlLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1FBQ3ZFLENBQUM7UUFFRCwwQ0FBMEM7UUFDMUMsSUFBSSxFQUFFLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1lBQ3BCLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBRUQsSUFBSSxrQkFBa0IsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDcEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQ3BELENBQUM7UUFFRCxJQUFLLFFBQXlCLEVBQUUsUUFBUSxLQUFLLDhCQUFrQixFQUFFLENBQUM7WUFDaEUsTUFBTSxpQkFBaUIsR0FBeUIsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDckUsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFFLGdCQUFnQjtnQkFDckMsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJO2dCQUNwQixLQUFLLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUs7Z0JBQzVCLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTthQUNWLENBQUMsQ0FBQyxDQUFDO1lBQ0osSUFBSSxZQUFZLEVBQUUsQ0FBQztnQkFDakIsbUJBQW1CO2dCQUNuQixNQUFNO2dCQUNKLG1CQUFtQjtnQkFDbkIsY0FBYztnQkFDZCxlQUFlO2dCQUNmLHVCQUF1QjtnQkFDdkIsa0JBQWtCO2dCQUNsQixrQkFBa0I7Z0JBQ2xCLGNBQWMsR0FDZixHQUFHLE1BQU0sSUFBQSx3QkFBZ0IsRUFDeEIsWUFBWSxFQUNaLFNBQVMsRUFDVCxPQUFPLEVBQ1AsTUFBTSxFQUNMLFFBQXlCLEVBQUUsRUFBRSxFQUM5QixRQUFRLEVBQ1IsVUFBVSxFQUNWLE1BQU0sRUFDTixpQkFBaUIsRUFDakIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxPQUFPLEVBQ1AsUUFBUSxFQUNSLEtBQUssRUFDTCxZQUFZLEVBQ1osa0JBQWtCLENBQ25CLENBQUM7Z0JBRUYsTUFBTSxJQUFBLDJCQUFtQixFQUN2QixFQUFFLEVBQ0YsU0FBUyxFQUNULE9BQU8sRUFDUCxNQUFNLEVBQ04sTUFBTSxFQUNOLFFBQXdCLEVBQ3hCLGNBQWMsRUFBRSxlQUFlO2dCQUMvQixpQkFBaUIsRUFDakIsS0FBSyxFQUNMLE1BQU0sRUFDTixnQkFBZ0IsRUFDaEIsU0FBUyxFQUNULFFBQVEsRUFDUixLQUFLLEVBQ0wsUUFBUSxFQUNSLFVBQVUsRUFDVixVQUFVLEVBQ1YsV0FBVyxFQUNYLFVBQVUsRUFDVixnQkFBZ0IsRUFDaEIscUJBQXFCLEVBQ3JCLHVCQUF1QixFQUN2QixjQUFjLEVBQ2QsTUFBTSxFQUNOLFFBQVEsRUFDUixNQUFNLEVBQ04sUUFBUSxFQUNSLGVBQWUsRUFDZixVQUFVLEVBQ1YsV0FBVyxFQUNYLFVBQVUsRUFDVixZQUFZLEVBQ1osV0FBVyxFQUNYLE1BQU0sRUFDTixZQUFZLEVBQ1osVUFBVSxFQUNWLE9BQU8sRUFDUCxlQUFlLEVBQ2YsZUFBZSxFQUNmLE9BQU8sRUFDUCxnQkFBZ0IsRUFDaEIsZ0JBQWdCLEVBQ2hCLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsdUJBQXVCLEVBQ3ZCLGtCQUFrQixFQUNsQix1QkFBdUIsRUFDdkIsa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLDJCQUEyQixFQUMzQixtQkFBbUIsRUFDbkIsU0FBUyxFQUNULGFBQWEsRUFDYixjQUFjLEVBQ2QsT0FBTyxFQUNQLHVCQUF1QixFQUN2QixxQkFBcUIsRUFDckIsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsYUFBYSxFQUNiLGlCQUFpQixFQUNqQixjQUFjLEVBQ2QsY0FBYyxFQUNkLFdBQVcsRUFDWCxZQUFZLEVBQ1osd0JBQXdCLEVBQ3hCLHdCQUF3QixFQUN4QiwwQkFBMEIsRUFDMUIscUJBQXFCLEVBQ3JCLHlCQUF5QixFQUN6QixzQkFBc0IsRUFDdEIsc0JBQXNCLEVBQ3RCLG1CQUFtQixFQUNuQixZQUFZLEVBQ1osWUFBWSxFQUNaLGFBQWEsRUFDYixxQkFBcUIsRUFDckIscUJBQXFCLEVBQ3JCLDZCQUE2QixFQUM3QixRQUFRLEVBQ1IsWUFBWSxFQUNaLG9CQUFvQixFQUNwQixNQUFNLEVBQ04sTUFBTSxFQUNOLFNBQVMsRUFDVCxRQUFRLENBQ1QsQ0FBQztZQUNKLENBQUM7aUJBQU0sQ0FBQztnQkFDTixJQUFJLFVBQVUsSUFBSSxRQUFRLEVBQUUsQ0FBQztvQkFDM0IsTUFBTTtvQkFDSixtQkFBbUI7b0JBQ25CLGNBQWM7b0JBQ2QsZUFBZTtvQkFDZix1QkFBdUI7b0JBQ3ZCLGtCQUFrQjtvQkFDbEIsa0JBQWtCO29CQUNsQixjQUFjLEdBQ2YsR0FBRyxNQUFNLElBQUEsMkNBQWdCLEVBQ3hCLFNBQVMsRUFDVCxPQUFPLEVBQ1AsTUFBTSxFQUNMLFFBQXlCLEVBQUUsRUFBRSxFQUM5QixRQUFRLEVBQ1IsVUFBVSxFQUNWLE1BQU0sRUFDTixpQkFBaUIsRUFDakIsaUJBQWlCLEVBQ2pCLFNBQVMsRUFDVCxPQUFPLEVBQ1AsUUFBUSxFQUNSLEtBQUssRUFDTCxZQUFZLEVBQ1osa0JBQWtCLENBQ25CLENBQUM7b0JBRUYsTUFBTSxJQUFBLDJCQUFtQixFQUN2QixFQUFFLEVBQ0YsU0FBUyxFQUNULE9BQU8sRUFDUCxNQUFNLEVBQ04sTUFBTSxFQUNOLFFBQXdCLEVBQ3hCLGNBQWMsRUFBRSxlQUFlO29CQUMvQixpQkFBaUIsRUFDakIsS0FBSyxFQUNMLE1BQU0sRUFDTixnQkFBZ0IsRUFDaEIsU0FBUyxFQUNULFFBQVEsRUFDUixLQUFLLEVBQ0wsUUFBUSxFQUNSLFVBQVUsRUFDVixVQUFVLEVBQ1YsV0FBVyxFQUNYLFVBQVUsRUFDVixnQkFBZ0IsRUFDaEIscUJBQXFCLEVBQ3JCLHVCQUF1QixFQUN2QixjQUFjLEVBQ2QsTUFBTSxFQUNOLFFBQVEsRUFDUixNQUFNLEVBQ04sUUFBUSxFQUNSLGVBQWUsRUFDZixVQUFVLEVBQ1YsV0FBVyxFQUNYLFVBQVUsRUFDVixZQUFZLEVBQ1osV0FBVyxFQUNYLE1BQU0sRUFDTixZQUFZLEVBQ1osVUFBVSxFQUNWLE9BQU8sRUFDUCxlQUFlLEVBQ2YsZUFBZSxFQUNmLE9BQU8sRUFDUCxnQkFBZ0IsRUFDaEIsZ0JBQWdCLEVBQ2hCLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsdUJBQXVCLEVBQ3ZCLGtCQUFrQixFQUNsQix1QkFBdUIsRUFDdkIsa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLDJCQUEyQixFQUMzQixtQkFBbUIsRUFDbkIsU0FBUyxFQUNULGFBQWEsRUFDYixjQUFjLEVBQ2QsT0FBTyxFQUNQLHVCQUF1QixFQUN2QixxQkFBcUIsRUFDckIsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsYUFBYSxFQUNiLGlCQUFpQixFQUNqQixjQUFjLEVBQ2QsY0FBYyxFQUNkLFdBQVcsRUFDWCxZQUFZLEVBQ1osd0JBQXdCLEVBQ3hCLHdCQUF3QixFQUN4QiwwQkFBMEIsRUFDMUIscUJBQXFCLEVBQ3JCLHlCQUF5QixFQUN6QixzQkFBc0IsRUFDdEIsc0JBQXNCLEVBQ3RCLG1CQUFtQixFQUNuQixZQUFZLEVBQ1osWUFBWSxFQUNaLGFBQWEsRUFDYixxQkFBcUIsRUFDckIscUJBQXFCLEVBQ3JCLDZCQUE2QixFQUM3QixRQUFRLEVBQ1IsWUFBWSxFQUNaLG9CQUFvQixFQUNwQixNQUFNLEVBQ04sTUFBTSxFQUNOLFNBQVMsRUFDVCxRQUFRLENBQ1QsQ0FBQztnQkFDSixDQUFDO3FCQUFNLENBQUM7b0JBQ04sTUFBTSxJQUFBLDJCQUFtQixFQUN2QixFQUFFLEVBQ0YsU0FBUyxFQUNULE9BQU8sRUFDUCxNQUFNLEVBQ04sTUFBTSxFQUNOLFFBQXdCLEVBQ3hCLFNBQVMsRUFBRSxlQUFlO29CQUMxQixpQkFBaUIsRUFDakIsS0FBSyxFQUNMLE1BQU0sRUFDTixnQkFBZ0IsRUFDaEIsU0FBUyxFQUNULFFBQVEsRUFDUixLQUFLLEVBQ0wsUUFBUSxFQUNSLFVBQVUsRUFDVixVQUFVLEVBQ1YsV0FBVyxFQUNYLFVBQVUsRUFDVixnQkFBZ0IsRUFDaEIscUJBQXFCLEVBQ3JCLHVCQUF1QixFQUN2QixjQUFjLEVBQ2QsTUFBTSxFQUNOLFFBQVEsRUFDUixNQUFNLEVBQ04sUUFBUSxFQUNSLGVBQWUsRUFDZixVQUFVLEVBQ1YsV0FBVyxFQUNYLFVBQVUsRUFDVixZQUFZLEVBQ1osV0FBVyxFQUNYLE1BQU0sRUFDTixZQUFZLEVBQ1osVUFBVSxFQUNWLE9BQU8sRUFDUCxlQUFlLEVBQ2YsZUFBZSxFQUNmLE9BQU8sRUFDUCxnQkFBZ0IsRUFDaEIsZ0JBQWdCLEVBQ2hCLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsdUJBQXVCLEVBQ3ZCLGtCQUFrQixFQUNsQix1QkFBdUIsRUFDdkIsa0JBQWtCLEVBQ2xCLGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsaUJBQWlCLEVBQ2pCLDJCQUEyQixFQUMzQixtQkFBbUIsRUFDbkIsU0FBUyxFQUNULGFBQWEsRUFDYixjQUFjLEVBQ2QsT0FBTyxFQUNQLHVCQUF1QixFQUN2QixxQkFBcUIsRUFDckIsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsYUFBYSxFQUNiLGlCQUFpQixFQUNqQixjQUFjLEVBQ2QsY0FBYyxFQUNkLFdBQVcsRUFDWCxZQUFZLEVBQ1osd0JBQXdCLEVBQ3hCLHdCQUF3QixFQUN4QiwwQkFBMEIsRUFDMUIscUJBQXFCLEVBQ3JCLHlCQUF5QixFQUN6QixzQkFBc0IsRUFDdEIsc0JBQXNCLEVBQ3RCLG1CQUFtQixFQUNuQixZQUFZLEVBQ1osWUFBWSxFQUNaLGFBQWEsRUFDYixxQkFBcUIsRUFDckIscUJBQXFCLEVBQ3JCLDZCQUE2QixFQUM3QixRQUFRLEVBQ1IsWUFBWSxFQUNaLG9CQUFvQixFQUNwQixNQUFNLEVBQ04sTUFBTSxFQUNOLFNBQVMsRUFDVCxRQUFRLENBQ1QsQ0FBQztnQkFDSixDQUFDO1lBQ0gsQ0FBQztZQUVELElBQUksU0FBUyxFQUFFLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDMUIsTUFBTSxJQUFBLHdDQUF1QixFQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDMUMsdUJBQXVCO2dCQUN2QixNQUFNLGdCQUFnQixHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtvQkFDM0MsT0FBTyxJQUFBLG9DQUFtQixFQUN4QixNQUFNLEVBQ04sSUFBQSxTQUFJLEdBQUUsRUFDTixNQUFNLEVBQ04sRUFBRSxFQUNGLENBQUMsRUFBRSxNQUFNLEVBQ1QsQ0FBQyxFQUFFLElBQUksRUFDUCxDQUFDLEVBQUUsRUFBRSxFQUNMLENBQUMsRUFBRSxZQUFZLEVBQ2YsQ0FBQyxFQUFFLFdBQVcsRUFDZCxDQUFDLEVBQUUsZ0JBQWdCLEVBQ25CLENBQUMsRUFBRSxRQUFRLEVBQ1gsQ0FBQyxFQUFFLFFBQVEsQ0FDWixDQUFDO2dCQUNKLENBQUMsQ0FBQyxDQUFDO2dCQUVILE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3RDLENBQUM7UUFDSCxDQUFDO1FBRUQsSUFBSSxXQUFXLEVBQUUsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLDZDQUE2QyxDQUFDLENBQUM7WUFDeEUsa0NBQWtDO1lBQ2xDLE1BQU0sSUFBQSw0Q0FBMkIsRUFBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFOUMsb0NBQW9DO1lBQ3BDLE1BQU0sZ0JBQWdCLEdBQUcsV0FBVyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQzlDLElBQUEsOENBQTZCLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQ3JELENBQUM7WUFFRixNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUN0QyxDQUFDO2FBQU0sQ0FBQztZQUNOLGtDQUFrQztZQUNsQyxNQUFNLElBQUEsNENBQTJCLEVBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2hELENBQUM7SUFDSCxDQUFDO0lBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUNYLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLDRCQUE0QixDQUFDLENBQUM7SUFDL0MsQ0FBQztBQUNILENBQUMsQ0FBQztBQTFmVyxRQUFBLFdBQVcsZUEwZnRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IFJSdWxlIH0gZnJvbSAncnJ1bGUnO1xuaW1wb3J0IHsgZGF5anMgfSBmcm9tICdAbGliL2RhdGUtdXRpbHMnO1xuaW1wb3J0IHsgRGF5IH0gZnJvbSAnQGxpYi9TY2hlZHVsZS9jb25zdGFudHMnO1xuLy8gZGF5anMuZXh0ZW5kKHV0Yylcbi8vIGRheWpzLmV4dGVuZChkdXJhdGlvbilcbi8vIGRheWpzLmV4dGVuZCh0aW1lem9uZSlcblxuaW1wb3J0IHsgcGF0Y2hHb29nbGVFdmVudCB9IGZyb20gJ0BsaWIvY2FsZW5kYXJMaWIvZ29vZ2xlQ2FsZW5kYXJIZWxwZXInO1xuXG5pbXBvcnQgeyBDYWxlbmRhclR5cGUgfSBmcm9tICdAbGliL2RhdGFUeXBlcy9DYWxlbmRhclR5cGUnO1xuaW1wb3J0IHsgVGltZSwgQnVmZmVyVGltZVR5cGUsIEV2ZW50VHlwZSB9IGZyb20gJ0BsaWIvZGF0YVR5cGVzL0V2ZW50VHlwZSc7XG5pbXBvcnQgeyBMb2NhdGlvblR5cGUgfSBmcm9tICdAbGliL2RhdGFUeXBlcy9FdmVudFR5cGUnO1xuaW1wb3J0IHtcbiAgZ29vZ2xlTWVldE5hbWUsXG4gIGdvb2dsZVJlc291cmNlTmFtZSxcbiAgbG9jYWxDYWxlbmRhck5hbWUsXG4gIGxvY2FsQ2FsZW5kYXJSZXNvdXJjZSxcbn0gZnJvbSAnQGxpYi9jYWxlbmRhckxpYi9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgR29vZ2xlQXR0ZW5kZWVUeXBlLFxuICBDb25mZXJlbmNlRGF0YVR5cGUsXG4gIEdvb2dsZVJlbWluZGVyVHlwZSxcbiAgU2VuZFVwZGF0ZXNUeXBlLFxuICBUcmFuc3BhcmVuY3lUeXBlLFxuICBWaXNpYmlsaXR5VHlwZSxcbn0gZnJvbSAnQGxpYi9jYWxlbmRhckxpYi90eXBlcyc7XG5pbXBvcnQgeyB6b29tTmFtZSwgem9vbVJlc291cmNlTmFtZSB9IGZyb20gJ0BsaWIvem9vbS9jb25zdGFudHMnO1xuaW1wb3J0IHsgem9vbUF2YWlsYWJsZSwgdXBkYXRlWm9vbU1lZXRpbmcgfSBmcm9tICdAbGliL3pvb20vem9vbU1lZXRpbmdIZWxwZXInO1xuaW1wb3J0IHsgUGVyc29uLCBSZWN1cnJlbmNlRnJlcXVlbmN5VHlwZSB9IGZyb20gJ0BsaWIvQ2FsZW5kYXIvdHlwZXMnO1xuaW1wb3J0IHtcbiAgcmVtb3ZlQWxsQ2F0ZWdvcmllc0ZvckV2ZW50LFxuICB1cHNlcnRDYXRlZ29yeUV2ZW50Q29ubmVjdGlvbixcbn0gZnJvbSAnQGxpYi9DYXRlZ29yeS9DYXRlZ29yeUhlbHBlcic7XG5pbXBvcnQge1xuICByZW1vdmVSZW1pbmRlcnNGb3JFdmVudCxcbiAgdXBkYXRlUmVtaW5kZXJzRm9yRXZlbnQsXG59IGZyb20gJ0BsaWIvQ2FsZW5kYXIvUmVtaW5kZXIvUmVtaW5kZXJIZWxwZXInO1xuaW1wb3J0IHtcbiAgZGVsZXRlQXR0ZW5kZWVzRm9yRXZlbnQsXG4gIHVwc2VydEF0dGVuZGVlc0luRGIsXG59IGZyb20gJ0BsaWIvQ2FsZW5kYXIvQXR0ZW5kZWUvQXR0ZW5kZWVIZWxwZXInO1xuXG5pbXBvcnQge1xuICBjcmVhdGVDb25mZXJlbmNlLFxuICBnZXRDYWxlbmRhckluRGIsXG4gIGdldFJydWxlRnJlcSxcbiAgbWVldGluZ1R5cGVTdHJpbmdUeXBlLFxuICB1cHNlcnRDb25mZXJlbmNlSW5EYixcbiAgYXRvbWljVXBzZXJ0RXZlbnRJbkRiLFxuICB1cHNlcnRMb2NhbENhbGVuZGFyLFxuICBnZXRSUnVsZURheSxcbn0gZnJvbSAnQGxpYi9DYWxlbmRhci9Vc2VyQ3JlYXRlQ2FsZW5kYXJIZWxwZXInO1xuXG5pbXBvcnQgeyBwYWxldHRlIH0gZnJvbSAnQGxpYi90aGVtZS90aGVtZSc7XG5pbXBvcnQgeyBBcG9sbG9DbGllbnQsIE5vcm1hbGl6ZWRDYWNoZU9iamVjdCB9IGZyb20gJ0BhcG9sbG8vY2xpZW50JztcbmltcG9ydCBnZXRFdmVudEJ5SWQgZnJvbSAnQGxpYi9hcG9sbG8vZ3FsL2dldEV2ZW50QnlJZCc7XG5pbXBvcnQgZ2V0Q2FsZW5kYXJJbnRlZ3JhdGlvbkJ5UmVzb3VyY2VBbmROYW1lIGZyb20gJ0BsaWIvYXBvbGxvL2dxbC9nZXRDYWxlbmRhckludGVncmF0aW9uQnlSZXNvdXJjZUFuZE5hbWUnO1xuaW1wb3J0IHsgQ2FsZW5kYXJJbnRlZ3JhdGlvblR5cGUgfSBmcm9tICdAbGliL2RhdGFUeXBlcy9DYWxlbmRhcl9JbnRlZ3JhdGlvblR5cGUnO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRXZlbnRJbkdvb2dsZSA9IGFzeW5jIChcbiAgaWQ6IHN0cmluZyxcbiAgc3RhcnREYXRlOiBzdHJpbmcsXG4gIGVuZERhdGU6IHN0cmluZyxcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGNsaWVudDogQXBvbGxvQ2xpZW50PE5vcm1hbGl6ZWRDYWNoZU9iamVjdD4sXG4gIGNhbGVuZGFyOiBDYWxlbmRhclR5cGUsXG4gIGNvbmZlcmVuY2VEYXRhPzogQ29uZmVyZW5jZURhdGFUeXBlLFxuICBhdHRlbmRlZXM/OiBHb29nbGVBdHRlbmRlZVR5cGVbXSxcbiAgdGl0bGU/OiBzdHJpbmcsXG4gIGFsbERheT86IGJvb2xlYW4sXG4gIHJlY3VycmluZ0VuZERhdGU/OiBzdHJpbmcsXG4gIGZyZXF1ZW5jeT86IFJlY3VycmVuY2VGcmVxdWVuY3lUeXBlLFxuICBpbnRlcnZhbD86IG51bWJlcixcbiAgbm90ZXM/OiBzdHJpbmcsXG4gIGxvY2F0aW9uPzogTG9jYXRpb25UeXBlLFxuICBpc0ZvbGxvd1VwPzogYm9vbGVhbixcbiAgaXNQcmVFdmVudD86IGJvb2xlYW4sXG4gIGlzUG9zdEV2ZW50PzogYm9vbGVhbixcbiAgbW9kaWZpYWJsZT86IGJvb2xlYW4sXG4gIGFueW9uZUNhbkFkZFNlbGY/OiBib29sZWFuLFxuICBndWVzdHNDYW5JbnZpdGVPdGhlcnM/OiBib29sZWFuLFxuICBndWVzdHNDYW5TZWVPdGhlckd1ZXN0cz86IGJvb2xlYW4sXG4gIG9yaWdpbmFsQWxsRGF5PzogYm9vbGVhbixcbiAgYWxhcm1zPzogc3RyaW5nW10gfCBudW1iZXJbXSxcbiAgdGltZXpvbmU/OiBzdHJpbmcsXG4gIHRhc2tJZD86IHN0cmluZyxcbiAgdGFza1R5cGU/OiBzdHJpbmcsXG4gIGZvbGxvd1VwRXZlbnRJZD86IHN0cmluZyxcbiAgcHJlRXZlbnRJZD86IHN0cmluZyxcbiAgcG9zdEV2ZW50SWQ/OiBzdHJpbmcsXG4gIGZvckV2ZW50SWQ/OiBzdHJpbmcsXG4gIG1heEF0dGVuZGVlcz86IG51bWJlcixcbiAgc2VuZFVwZGF0ZXM/OiBTZW5kVXBkYXRlc1R5cGUsXG4gIHN0YXR1cz86IHN0cmluZyxcbiAgdHJhbnNwYXJlbmN5PzogVHJhbnNwYXJlbmN5VHlwZSxcbiAgdmlzaWJpbGl0eT86IFZpc2liaWxpdHlUeXBlLFxuICBpQ2FsVUlEPzogc3RyaW5nLFxuICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmcsXG4gIGZvcmVncm91bmRDb2xvcj86IHN0cmluZyxcbiAgY29sb3JJZD86IHN0cmluZyxcbiAgb3JpZ2luYWxUaW1lem9uZT86IHN0cmluZyxcbiAgdXNlRGVmYXVsdEFsYXJtcz86IGJvb2xlYW4sXG4gIHBvc2l0aXZlSW1wYWN0U2NvcmU/OiBudW1iZXIsXG4gIG5lZ2F0aXZlSW1wYWN0U2NvcmU/OiBudW1iZXIsXG4gIHBvc2l0aXZlSW1wYWN0RGF5T2ZXZWVrPzogbnVtYmVyLFxuICBwb3NpdGl2ZUltcGFjdFRpbWU/OiBUaW1lLFxuICBuZWdhdGl2ZUltcGFjdERheU9mV2Vlaz86IG51bWJlcixcbiAgbmVnYXRpdmVJbXBhY3RUaW1lPzogVGltZSxcbiAgcHJlZmVycmVkRGF5T2ZXZWVrPzogbnVtYmVyLFxuICBwcmVmZXJyZWRUaW1lPzogVGltZSxcbiAgaXNFeHRlcm5hbE1lZXRpbmc/OiBib29sZWFuLFxuICBpc0V4dGVybmFsTWVldGluZ01vZGlmaWFibGU/OiBib29sZWFuLFxuICBpc01lZXRpbmdNb2RpZmlhYmxlPzogYm9vbGVhbixcbiAgaXNNZWV0aW5nPzogYm9vbGVhbixcbiAgZGFpbHlUYXNrTGlzdD86IGJvb2xlYW4sXG4gIHdlZWtseVRhc2tMaXN0PzogYm9vbGVhbixcbiAgaXNCcmVhaz86IGJvb2xlYW4sXG4gIHByZWZlcnJlZFN0YXJ0VGltZVJhbmdlPzogVGltZSxcbiAgcHJlZmVycmVkRW5kVGltZVJhbmdlPzogVGltZSxcbiAgY29weUF2YWlsYWJpbGl0eT86IGJvb2xlYW4sXG4gIGNvcHlUaW1lQmxvY2tpbmc/OiBib29sZWFuLFxuICBjb3B5VGltZVByZWZlcmVuY2U/OiBib29sZWFuLFxuICBjb3B5UmVtaW5kZXJzPzogYm9vbGVhbixcbiAgY29weVByaW9yaXR5TGV2ZWw/OiBib29sZWFuLFxuICBjb3B5TW9kaWZpYWJsZT86IGJvb2xlYW4sXG4gIGNvcHlDYXRlZ29yaWVzPzogYm9vbGVhbixcbiAgY29weUlzQnJlYWs/OiBib29sZWFuLFxuICB0aW1lQmxvY2tpbmc/OiBCdWZmZXJUaW1lVHlwZSxcbiAgdXNlck1vZGlmaWVkQXZhaWxhYmlsaXR5PzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkVGltZUJsb2NraW5nPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkVGltZVByZWZlcmVuY2U/OiBib29sZWFuLFxuICB1c2VyTW9kaWZpZWRSZW1pbmRlcnM/OiBib29sZWFuLFxuICB1c2VyTW9kaWZpZWRQcmlvcml0eUxldmVsPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkQ2F0ZWdvcmllcz86IGJvb2xlYW4sXG4gIHVzZXJNb2RpZmllZE1vZGlmaWFibGU/OiBib29sZWFuLFxuICB1c2VyTW9kaWZpZWRJc0JyZWFrPzogYm9vbGVhbixcbiAgaGFyZERlYWRsaW5lPzogc3RyaW5nLFxuICBzb2Z0RGVhZGxpbmU/OiBzdHJpbmcsXG4gIGNvcHlJc01lZXRpbmc/OiBib29sZWFuLFxuICBjb3B5SXNFeHRlcm5hbE1lZXRpbmc/OiBib29sZWFuLFxuICB1c2VyTW9kaWZpZWRJc01lZXRpbmc/OiBib29sZWFuLFxuICB1c2VyTW9kaWZpZWRJc0V4dGVybmFsTWVldGluZz86IGJvb2xlYW4sXG4gIGR1cmF0aW9uPzogbnVtYmVyLFxuICBjb3B5RHVyYXRpb24/OiBib29sZWFuLFxuICB1c2VyTW9kaWZpZWREdXJhdGlvbj86IGJvb2xlYW4sXG4gIG1ldGhvZD86ICdjcmVhdGUnIHwgJ3VwZGF0ZScsXG4gIHVubGluaz86IGJvb2xlYW4sXG4gIGJ5V2Vla0RheT86IERheVtdLFxuICBwcmlvcml0eT86IG51bWJlclxuKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coYWxhcm1zLCAnIGFsYXJtcyBpbnNpZGUgdXBkYXRlRXZlbnRJbkdvb2dsZScpO1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgaGFyZERlYWRsaW5lLFxuICAgICAgc29mdERlYWRsaW5lLFxuICAgICAgJyBoYXJkRGVhZGxpbmUsIHNvZnREZWFkbGluZSBpbnNpZGUgdXBkYXRlRXZlbnRJbkdvb2dsZSdcbiAgICApO1xuICAgIC8vIHZhbGlkYXRlIGV2ZW50SWRcbiAgICBjb25zdCBvbGRFdmVudCA9IChcbiAgICAgIGF3YWl0IGNsaWVudC5xdWVyeTx7IEV2ZW50X2J5X3BrOiBFdmVudFR5cGUgfT4oe1xuICAgICAgICBxdWVyeTogZ2V0RXZlbnRCeUlkLFxuICAgICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICkuZGF0YT8uRXZlbnRfYnlfcGs7XG5cbiAgICBpZiAoIW9sZEV2ZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50IG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIGxldCBydWxlOiBhbnkgPSB7fTtcblxuICAgIGlmIChyZWN1cnJpbmdFbmREYXRlICYmIGZyZXF1ZW5jeSkge1xuICAgICAgcnVsZSA9IG5ldyBSUnVsZSh7XG4gICAgICAgIGZyZXE6IGdldFJydWxlRnJlcShmcmVxdWVuY3kpLFxuICAgICAgICBpbnRlcnZhbCxcbiAgICAgICAgdW50aWw6IGRheWpzKHJlY3VycmluZ0VuZERhdGUpLnRvRGF0ZSgpLFxuICAgICAgICBieXdlZWtkYXk6IGJ5V2Vla0RheT8ubWFwKChpKSA9PiBnZXRSUnVsZURheShpKSksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgbW9kaWZpZWRBbGFybXM6IEdvb2dsZVJlbWluZGVyVHlwZSB8IHt9ID0ge307XG5cbiAgICBpZiAodHlwZW9mIGFsYXJtcz8uWzBdID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kaWZpZWRBbGFybXMgPSB7XG4gICAgICAgIHVzZURlZmF1bHQ6IGZhbHNlLFxuICAgICAgICBvdmVycmlkZXM6IGFsYXJtcy5tYXAoKGkpID0+ICh7XG4gICAgICAgICAgbWV0aG9kOiAnZW1haWwnLFxuICAgICAgICAgIG1pbnV0ZXM6IGRheWpzLmR1cmF0aW9uKGRheWpzKHN0YXJ0RGF0ZSkuZGlmZihkYXlqcyhpKSkpLmFzTWludXRlcygpLFxuICAgICAgICB9KSksXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFsYXJtcz8uWzBdID09PSAnbnVtYmVyJykge1xuICAgICAgbW9kaWZpZWRBbGFybXMgPSB7XG4gICAgICAgIHVzZURlZmF1bHQ6IGZhbHNlLFxuICAgICAgICBvdmVycmlkZXM6IGFsYXJtcy5tYXAoKGkpID0+ICh7IG1ldGhvZDogJ2VtYWlsJywgbWludXRlczogaSB9KSksXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodXNlRGVmYXVsdEFsYXJtcykge1xuICAgICAgbW9kaWZpZWRBbGFybXMgPSB7IHVzZURlZmF1bHQ6IHVzZURlZmF1bHRBbGFybXMgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZGVmYXVsdFxuICAgICAgbW9kaWZpZWRBbGFybXMgPSB7IHVzZURlZmF1bHQ6IHVzZURlZmF1bHRBbGFybXMgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZWN1cnJlbmNlU3RyaW5nQXJyYXkgPSBmcmVxdWVuY3kgJiZcbiAgICAgIHJlY3VycmluZ0VuZERhdGUgJiZcbiAgICAgIGludGVydmFsICYmIFtydWxlLnRvU3RyaW5nKCldO1xuXG4gICAgY29uc29sZS5sb2cocmVjdXJyZW5jZVN0cmluZ0FycmF5LCAnIHJlY3VycmVuY2VTdHJpbmdBcnJheScpO1xuICAgIGNvbnNvbGUubG9nKFtydWxlLnRvU3RyaW5nKCldLCAnIFtydWxlLnRvU3RyaW5nKCldJyk7XG5cbiAgICBhd2FpdCBwYXRjaEdvb2dsZUV2ZW50KFxuICAgICAgY2xpZW50LFxuICAgICAgdXNlcklkLFxuICAgICAgY2FsZW5kYXI/LmlkLFxuICAgICAgaWQuc3BsaXQoJyMnKVswXSxcbiAgICAgIGVuZERhdGUsXG4gICAgICBzdGFydERhdGUsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBtYXhBdHRlbmRlZXMsXG4gICAgICBzZW5kVXBkYXRlcyxcbiAgICAgIGFueW9uZUNhbkFkZFNlbGYsXG4gICAgICBhdHRlbmRlZXMsXG4gICAgICBjb25mZXJlbmNlRGF0YSxcbiAgICAgIHRpdGxlLFxuICAgICAgbm90ZXMsXG4gICAgICB0aW1lem9uZSxcbiAgICAgIGFsbERheSAmJiBkYXlqcyhzdGFydERhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLFxuICAgICAgYWxsRGF5ICYmIChlbmREYXRlIHx8IHN0YXJ0RGF0ZSksXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBndWVzdHNDYW5JbnZpdGVPdGhlcnMsXG4gICAgICBmYWxzZSxcbiAgICAgIGd1ZXN0c0NhblNlZU90aGVyR3Vlc3RzLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgZnJlcXVlbmN5ICYmIHJlY3VycmluZ0VuZERhdGUgJiYgaW50ZXJ2YWwgPyBbcnVsZS50b1N0cmluZygpXSA6IHVuZGVmaW5lZCxcbiAgICAgIChtb2RpZmllZEFsYXJtcyBhcyBHb29nbGVSZW1pbmRlclR5cGUpPy5vdmVycmlkZXM/LlswXVxuICAgICAgICA/IChtb2RpZmllZEFsYXJtcyBhcyBHb29nbGVSZW1pbmRlclR5cGUpXG4gICAgICAgIDogbnVsbCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHN0YXR1cyxcbiAgICAgIHRyYW5zcGFyZW5jeSxcbiAgICAgIHZpc2liaWxpdHksXG4gICAgICBpQ2FsVUlELFxuICAgICAgZmFsc2UsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBsb2NhdGlvbj8udGl0bGVcbiAgICApO1xuXG4gICAgY29uc29sZS5sb2coXG4gICAgICByZWN1cnJpbmdFbmREYXRlICYmIGZyZXF1ZW5jeSAmJiBpZCxcbiAgICAgICcgKHJlY3VycmluZ0VuZERhdGUgJiYgZnJlcXVlbmN5ICYmIGV2ZW50SWQpJ1xuICAgICk7XG5cbiAgICBhd2FpdCBhdG9taWNVcHNlcnRFdmVudEluRGIoXG4gICAgICBjbGllbnQsXG4gICAgICBpZCxcbiAgICAgIGlkLnNwbGl0KCcjJylbMF0sXG4gICAgICB1c2VySWQsXG4gICAgICBkYXlqcyhzdGFydERhdGUpLmZvcm1hdCgpLFxuICAgICAgZGF5anMoZW5kRGF0ZSkuZm9ybWF0KCksXG4gICAgICBkYXlqcygpLnRvSVNPU3RyaW5nKCksXG4gICAgICBmYWxzZSxcbiAgICAgIHByaW9yaXR5IHx8IDEsXG4gICAgICBpc0ZvbGxvd1VwID8/IGZhbHNlLFxuICAgICAgaXNQcmVFdmVudCA/PyBmYWxzZSxcbiAgICAgIGlzUG9zdEV2ZW50ID8/IGZhbHNlLFxuICAgICAgbW9kaWZpYWJsZSA/PyB0cnVlLFxuICAgICAgYW55b25lQ2FuQWRkU2VsZiA/PyBmYWxzZSxcbiAgICAgIGd1ZXN0c0Nhbkludml0ZU90aGVycyA/PyBmYWxzZSxcbiAgICAgIGd1ZXN0c0NhblNlZU90aGVyR3Vlc3RzID8/IHRydWUsXG4gICAgICBkYXlqcyhzdGFydERhdGUpLmZvcm1hdCgpLFxuICAgICAgb3JpZ2luYWxBbGxEYXkgPz8gZmFsc2UsXG4gICAgICBkYXlqcygpLnRvSVNPU3RyaW5nKCksXG4gICAgICBjYWxlbmRhcj8uaWQsXG4gICAgICB0aXRsZSxcbiAgICAgIGFsbERheSA/PyBmYWxzZSxcbiAgICAgIChmcmVxdWVuY3kgJiZcbiAgICAgICAgcmVjdXJyaW5nRW5kRGF0ZSAmJlxuICAgICAgICBpbnRlcnZhbCAmJiB7IGZyZXF1ZW5jeSwgZW5kRGF0ZTogcmVjdXJyaW5nRW5kRGF0ZSwgaW50ZXJ2YWwgfSkgPz9cbiAgICAgICAgbnVsbCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbm90ZXMsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICAvLyBtb2RpZmllZEFsYXJtcyxcbiAgICAgIHRpbWV6b25lID8/IGRheWpzLnR6Lmd1ZXNzKCksXG4gICAgICB0YXNrSWQsXG4gICAgICB0YXNrVHlwZSxcbiAgICAgIGZvbGxvd1VwRXZlbnRJZCxcbiAgICAgIHByZUV2ZW50SWQsXG4gICAgICBwb3N0RXZlbnRJZCxcbiAgICAgIGZvckV2ZW50SWQsXG4gICAgICBjb25mZXJlbmNlRGF0YT8uY29uZmVyZW5jZUlkLFxuICAgICAgbWF4QXR0ZW5kZWVzLFxuICAgICAgc2VuZFVwZGF0ZXMsXG4gICAgICBzdGF0dXMsXG4gICAgICB0aXRsZSxcbiAgICAgIHRyYW5zcGFyZW5jeSxcbiAgICAgIHZpc2liaWxpdHksXG4gICAgICByZWN1cnJpbmdFbmREYXRlICYmIGZyZXF1ZW5jeSAmJiBpZCxcbiAgICAgIGlDYWxVSUQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBjb2xvcklkLFxuICAgICAgdW5kZWZpbmVkLCAvLyBjcmVhdG9yIC0gcmVhZCBvbmx5IEctZXZlbnRcbiAgICAgIHVuZGVmaW5lZCwgLy8gb3JnYW5pemVyIC0gRy1ldmVudCBpbXBvcnQgb25seVxuICAgICAgZmFsc2UsIC8vIGVuZFRpbWVVbnNwZWNpZmllZCAtIG9ubHkgZm9yIEctZXZlbnRzXG4gICAgICAoZnJlcXVlbmN5ICYmIHJlY3VycmluZ0VuZERhdGUgJiYgaW50ZXJ2YWwgJiYgW3J1bGUudG9TdHJpbmcoKV0pID8/IG51bGwsXG4gICAgICBvcmlnaW5hbFRpbWV6b25lLCAvL3RpbWV6b25lIG9mIHJlY3VycmVuY2UgaW5zdGFuY2VcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGJhY2tncm91bmRDb2xvcixcbiAgICAgIGZvcmVncm91bmRDb2xvcixcbiAgICAgIHVzZURlZmF1bHRBbGFybXMsXG4gICAgICBwb3NpdGl2ZUltcGFjdFNjb3JlLFxuICAgICAgbmVnYXRpdmVJbXBhY3RTY29yZSxcbiAgICAgIHBvc2l0aXZlSW1wYWN0RGF5T2ZXZWVrLFxuICAgICAgcG9zaXRpdmVJbXBhY3RUaW1lLFxuICAgICAgbmVnYXRpdmVJbXBhY3REYXlPZldlZWssXG4gICAgICBuZWdhdGl2ZUltcGFjdFRpbWUsXG4gICAgICBwcmVmZXJyZWREYXlPZldlZWssXG4gICAgICBwcmVmZXJyZWRUaW1lLFxuICAgICAgaXNFeHRlcm5hbE1lZXRpbmcsXG4gICAgICBpc0V4dGVybmFsTWVldGluZ01vZGlmaWFibGUsXG4gICAgICBpc01lZXRpbmdNb2RpZmlhYmxlLFxuICAgICAgaXNNZWV0aW5nLFxuICAgICAgZGFpbHlUYXNrTGlzdCxcbiAgICAgIHdlZWtseVRhc2tMaXN0LFxuICAgICAgaXNCcmVhayxcbiAgICAgIHByZWZlcnJlZFN0YXJ0VGltZVJhbmdlLFxuICAgICAgcHJlZmVycmVkRW5kVGltZVJhbmdlLFxuICAgICAgY29weUF2YWlsYWJpbGl0eSxcbiAgICAgIGNvcHlUaW1lQmxvY2tpbmcsXG4gICAgICBjb3B5VGltZVByZWZlcmVuY2UsXG4gICAgICBjb3B5UmVtaW5kZXJzLFxuICAgICAgY29weVByaW9yaXR5TGV2ZWwsXG4gICAgICBjb3B5TW9kaWZpYWJsZSxcbiAgICAgIGNvcHlDYXRlZ29yaWVzLFxuICAgICAgY29weUlzQnJlYWssXG4gICAgICB0aW1lQmxvY2tpbmcsXG4gICAgICB1c2VyTW9kaWZpZWRBdmFpbGFiaWxpdHksXG4gICAgICB1c2VyTW9kaWZpZWRUaW1lQmxvY2tpbmcsXG4gICAgICB1c2VyTW9kaWZpZWRUaW1lUHJlZmVyZW5jZSxcbiAgICAgIHVzZXJNb2RpZmllZFJlbWluZGVycyxcbiAgICAgIHVzZXJNb2RpZmllZFByaW9yaXR5TGV2ZWwsXG4gICAgICB1c2VyTW9kaWZpZWRDYXRlZ29yaWVzLFxuICAgICAgdXNlck1vZGlmaWVkTW9kaWZpYWJsZSxcbiAgICAgIHVzZXJNb2RpZmllZElzQnJlYWssXG4gICAgICBoYXJkRGVhZGxpbmUsXG4gICAgICBzb2Z0RGVhZGxpbmUsXG4gICAgICBjb3B5SXNNZWV0aW5nLFxuICAgICAgY29weUlzRXh0ZXJuYWxNZWV0aW5nLFxuICAgICAgdXNlck1vZGlmaWVkSXNNZWV0aW5nLFxuICAgICAgdXNlck1vZGlmaWVkSXNFeHRlcm5hbE1lZXRpbmcsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIGNvcHlEdXJhdGlvbixcbiAgICAgIHVzZXJNb2RpZmllZER1cmF0aW9uLFxuICAgICAgbWV0aG9kLFxuICAgICAgdW5saW5rLFxuICAgICAgYnlXZWVrRGF5XG4gICAgKTtcblxuICAgIGlmIChhbGFybXM/Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBhbGFybXMsXG4gICAgICAgICcgYWxhcm1zIGluc2lkZSBpZiBjbGF1c2UgaW5zaWRlIHVwZGF0ZUV2ZW50SW5Hb29nbGUnXG4gICAgICApO1xuICAgICAgYXdhaXQgdXBkYXRlUmVtaW5kZXJzRm9yRXZlbnQoXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAgaWQsXG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgYWxhcm1zLFxuICAgICAgICB0aW1lem9uZSxcbiAgICAgICAgdXNlRGVmYXVsdEFsYXJtc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXdhaXQgcmVtb3ZlUmVtaW5kZXJzRm9yRXZlbnQoY2xpZW50LCBpZCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSwgJyB0aGlzIGlzIGUgZm9yIHVwZGF0ZUV2ZW50SW5Hb29nbGUnKTtcbiAgfVxufTtcblxuZXhwb3J0IHR5cGUgY29uZmVyZW5jZU5hbWUgPSB0eXBlb2Ygem9vbU5hbWUgfCB0eXBlb2YgZ29vZ2xlTWVldE5hbWU7XG5leHBvcnQgdHlwZSBjb25mZXJlbmNlVHlwZSA9ICdoYW5nb3V0c01lZXQnIHwgJ2FkZE9uJztcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvbmZlcmVuY2UgPSBhc3luYyAoXG4gIGNvbmZlcmVuY2VJZDogc3RyaW5nLFxuICBzdGFydERhdGU6IHN0cmluZyxcbiAgZW5kRGF0ZTogc3RyaW5nLFxuICBjbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICBjYWxlbmRhcklkOiBzdHJpbmcsXG4gIHpvb21NZWV0OiBib29sZWFuID0gZmFsc2UsXG4gIGdvb2dsZU1lZXQ6IGJvb2xlYW4gPSBmYWxzZSxcbiAgdXNlcklkOiBzdHJpbmcsXG4gIG1lZXRpbmdUeXBlU3RyaW5nOiBtZWV0aW5nVHlwZVN0cmluZ1R5cGUsXG4gIGF0dGVuZGVlczogR29vZ2xlQXR0ZW5kZWVUeXBlW10sXG4gIHJlcXVlc3RJZD86IHN0cmluZyxcbiAgc3VtbWFyeT86IHN0cmluZyxcbiAgdGFza1R5cGU/OiBzdHJpbmcsXG4gIG5vdGVzPzogc3RyaW5nLFxuICB6b29tUGFzc3dvcmQ/OiBzdHJpbmcsXG4gIHpvb21Qcml2YXRlTWVldGluZz86IGJvb2xlYW5cbikgPT4ge1xuICB0cnkge1xuICAgIC8vIHZhbGlkYXRlXG4gICAgaWYgKCFzdGFydERhdGUgfHwgIWVuZERhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc3RhcnREYXRlIGFuZCBlbmREYXRlIGFyZSByZXF1aXJlZCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmZlcmVuY2VJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb25mZXJlbmNlSWQgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgaWYgKCFjYWxlbmRhcklkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbGVuZGFySWQgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VySWQgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICBsZXQgbmV3Sm9pblVybCA9ICcnO1xuICAgIGxldCBuZXdTdGFydFVybCA9ICcnO1xuICAgIGxldCBuZXdDb25mZXJlbmNlU3RhdHVzID0gJyc7XG4gICAgbGV0IG5ld0NvbmZlcmVuY2VJZDogc3RyaW5nIHwgbnVtYmVyID0gY29uZmVyZW5jZUlkO1xuICAgIGxldCBjb25mZXJlbmNlTmFtZTogY29uZmVyZW5jZU5hbWUgPSB6b29tTmFtZTtcbiAgICBsZXQgY29uZmVyZW5jZVR5cGU6IGNvbmZlcmVuY2VUeXBlID0gJ2FkZE9uJztcbiAgICBsZXQgY29uZmVyZW5jZURhdGE6IENvbmZlcmVuY2VEYXRhVHlwZSA9IHtcbiAgICAgIHR5cGU6ICdhZGRPbicsXG4gICAgICBuYW1lOiBjb25mZXJlbmNlTmFtZSxcbiAgICAgIHJlcXVlc3RJZDogdXVpZCgpLFxuICAgICAgY29uZmVyZW5jZUlkLFxuICAgICAgY3JlYXRlUmVxdWVzdDogZmFsc2UsXG4gICAgICBlbnRyeVBvaW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgbGFiZWw6IHpvb21OYW1lLFxuICAgICAgICAgIGVudHJ5UG9pbnRUeXBlOiAndmlkZW8nLFxuICAgICAgICAgIHVyaTogbmV3Sm9pblVybCxcbiAgICAgICAgICBwYXNzd29yZDogem9vbVBhc3N3b3JkLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuICAgIGxldCBuZXdSZXF1ZXN0SWQgPSByZXF1ZXN0SWQgfHwgdXVpZCgpO1xuICAgIGlmICh6b29tTWVldCkge1xuICAgICAgY29uc3QgaXNab29tQXZhaWxhYmxlID0gYXdhaXQgem9vbUF2YWlsYWJsZShjbGllbnQsIHVzZXJJZCk7XG5cbiAgICAgIGlmIChpc1pvb21BdmFpbGFibGUpIHtcbiAgICAgICAgY29uc3Qgem9vbUludGVnID0gKFxuICAgICAgICAgIGF3YWl0IGNsaWVudC5xdWVyeTx7XG4gICAgICAgICAgICBDYWxlbmRhcl9JbnRlZ3JhdGlvbjogQ2FsZW5kYXJJbnRlZ3JhdGlvblR5cGVbXTtcbiAgICAgICAgICB9Pih7XG4gICAgICAgICAgICBxdWVyeTogZ2V0Q2FsZW5kYXJJbnRlZ3JhdGlvbkJ5UmVzb3VyY2VBbmROYW1lLFxuICAgICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgbmFtZTogem9vbU5hbWUsXG4gICAgICAgICAgICAgIHJlc291cmNlOiB6b29tUmVzb3VyY2VOYW1lLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KVxuICAgICAgICApLmRhdGE/LkNhbGVuZGFyX0ludGVncmF0aW9uPy5bMF07XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBpZDogem9vbUNvbmZlcmVuY2VJZCxcbiAgICAgICAgICBqb2luX3VybDogem9vbUpvaW5VcmwsXG4gICAgICAgICAgc3RhcnRfdXJsOiB6b29tU3RhcnRVcmwsXG4gICAgICAgICAgc3RhdHVzOiB6b29tU3RhdHVzLFxuICAgICAgICB9ID0gYXdhaXQgdXBkYXRlWm9vbU1lZXRpbmcoXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIHBhcnNlSW50KG5ld0NvbmZlcmVuY2VJZCwgMTApLFxuICAgICAgICAgIGRheWpzKHN0YXJ0RGF0ZSkuZm9ybWF0KCksXG4gICAgICAgICAgZGF5anMudHouZ3Vlc3MoKSxcbiAgICAgICAgICBzdW1tYXJ5ID8/IHRhc2tUeXBlID8/IG5vdGVzLFxuICAgICAgICAgIGRheWpzXG4gICAgICAgICAgICAuZHVyYXRpb24oe1xuICAgICAgICAgICAgICBob3VyczogZGF5anMoZW5kRGF0ZSkuaG91cigpLFxuICAgICAgICAgICAgICBtaW51dGVzOiBkYXlqcyhlbmREYXRlKS5taW51dGUoKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYXNNaW51dGVzKCksXG4gICAgICAgICAgem9vbUludGVnPy5jb250YWN0TmFtZSxcbiAgICAgICAgICB6b29tSW50ZWc/LmNvbnRhY3RFbWFpbCxcbiAgICAgICAgICBhdHRlbmRlZXM/Lm1hcCgoaSkgPT4gaT8uZW1haWwpLFxuICAgICAgICAgIHpvb21Qcml2YXRlTWVldGluZ1xuICAgICAgICApO1xuICAgICAgICBuZXdDb25mZXJlbmNlSWQgPSB6b29tQ29uZmVyZW5jZUlkO1xuICAgICAgICBuZXdKb2luVXJsID0gem9vbUpvaW5Vcmw7XG4gICAgICAgIG5ld1N0YXJ0VXJsID0gem9vbVN0YXJ0VXJsO1xuICAgICAgICBuZXdDb25mZXJlbmNlU3RhdHVzID0gem9vbVN0YXR1cztcbiAgICAgICAgY29uZmVyZW5jZU5hbWUgPSB6b29tTmFtZTtcbiAgICAgICAgY29uZmVyZW5jZVR5cGUgPSAnYWRkT24nO1xuICAgICAgICBjb25mZXJlbmNlRGF0YSA9IHtcbiAgICAgICAgICB0eXBlOiBjb25mZXJlbmNlVHlwZSxcbiAgICAgICAgICBuYW1lOiBjb25mZXJlbmNlTmFtZSxcbiAgICAgICAgICByZXF1ZXN0SWQ6IG5ld1JlcXVlc3RJZCxcbiAgICAgICAgICBjb25mZXJlbmNlSWQ6IGAke25ld0NvbmZlcmVuY2VJZH1gLFxuICAgICAgICAgIGNyZWF0ZVJlcXVlc3Q6IGZhbHNlLFxuICAgICAgICAgIGVudHJ5UG9pbnRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxhYmVsOiB6b29tTmFtZSxcbiAgICAgICAgICAgICAgZW50cnlQb2ludFR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICAgIHVyaTogbmV3Sm9pblVybCxcbiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHpvb21QYXNzd29yZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGdvb2dsZU1lZXQpIHtcbiAgICAgIGNvbmZlcmVuY2VOYW1lID0gZ29vZ2xlTWVldE5hbWU7XG4gICAgICBjb25mZXJlbmNlVHlwZSA9ICdoYW5nb3V0c01lZXQnO1xuICAgICAgY29uZmVyZW5jZURhdGEgPSB7XG4gICAgICAgIHR5cGU6IGNvbmZlcmVuY2VUeXBlLFxuICAgICAgICBuYW1lOiBjb25mZXJlbmNlTmFtZSxcbiAgICAgICAgcmVxdWVzdElkOiBuZXdSZXF1ZXN0SWQsXG4gICAgICAgIGNyZWF0ZVJlcXVlc3Q6IHRydWUsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGF3YWl0IHVwc2VydENvbmZlcmVuY2VJbkRiKFxuICAgICAgY2xpZW50LFxuICAgICAgdHlwZW9mIG5ld0NvbmZlcmVuY2VJZCA9PT0gJ251bWJlcidcbiAgICAgICAgPyBgJHtuZXdDb25mZXJlbmNlSWR9YFxuICAgICAgICA6IG5ld0NvbmZlcmVuY2VJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGNhbGVuZGFySWQsXG4gICAgICB6b29tTWVldCA/IHpvb21SZXNvdXJjZU5hbWUgOiBnb29nbGVSZXNvdXJjZU5hbWUsXG4gICAgICBuZXdSZXF1ZXN0SWQsXG4gICAgICBtZWV0aW5nVHlwZVN0cmluZyxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHpvb21NZWV0ID8gem9vbU5hbWUgOiBnb29nbGVNZWV0TmFtZSxcbiAgICAgIG5vdGVzLFxuICAgICAgY29uZmVyZW5jZURhdGE/LmVudHJ5UG9pbnRzLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgbmV3Sm9pblVybCxcbiAgICAgIG5ld1N0YXJ0VXJsLFxuICAgICAgem9vbVByaXZhdGVNZWV0aW5nXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBuZXdDb25mZXJlbmNlSWQsXG4gICAgICBuZXdKb2luVXJsLFxuICAgICAgbmV3U3RhcnRVcmwsXG4gICAgICBuZXdDb25mZXJlbmNlU3RhdHVzLFxuICAgICAgY29uZmVyZW5jZU5hbWUsXG4gICAgICBjb25mZXJlbmNlVHlwZSxcbiAgICAgIGNvbmZlcmVuY2VEYXRhLFxuICAgIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlLCAnIHRoaXMgaXMgZSBmb3IgdXBkYXRlQ29uZmVyZW5jZScpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlRXZlbnQgPSBhc3luYyAoXG4gIGlkOiBzdHJpbmcsXG4gIHN0YXJ0RGF0ZTogc3RyaW5nLFxuICBlbmREYXRlOiBzdHJpbmcsXG4gIHVzZXJJZDogc3RyaW5nLFxuICBjbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3Q+LFxuICBzZWxlY3RlZENhbGVuZGFySWQ6IHN0cmluZyxcbiAgY2F0ZWdvcnlJZHM/OiBzdHJpbmdbXSxcbiAgdGl0bGU/OiBzdHJpbmcsXG4gIGFsbERheT86IGJvb2xlYW4sXG4gIHJlY3VycmluZ0VuZERhdGU/OiBzdHJpbmcsXG4gIGZyZXF1ZW5jeT86IFJlY3VycmVuY2VGcmVxdWVuY3lUeXBlLFxuICBpbnRlcnZhbD86IG51bWJlcixcbiAgYWxhcm1zPzogc3RyaW5nW10gfCBudW1iZXJbXSxcbiAgbm90ZXM/OiBzdHJpbmcsXG4gIGxvY2F0aW9uPzogTG9jYXRpb25UeXBlLFxuICBpc0ZvbGxvd1VwPzogYm9vbGVhbixcbiAgaXNQcmVFdmVudD86IGJvb2xlYW4sXG4gIGlzUG9zdEV2ZW50PzogYm9vbGVhbixcbiAgbW9kaWZpYWJsZT86IGJvb2xlYW4sXG4gIGFueW9uZUNhbkFkZFNlbGY/OiBib29sZWFuLFxuICBndWVzdHNDYW5JbnZpdGVPdGhlcnM/OiBib29sZWFuLFxuICBndWVzdHNDYW5TZWVPdGhlckd1ZXN0cz86IGJvb2xlYW4sXG4gIG9yaWdpbmFsQWxsRGF5PzogYm9vbGVhbixcbiAgdGltZXpvbmU/OiBzdHJpbmcsXG4gIHRhc2tJZD86IHN0cmluZyxcbiAgdGFza1R5cGU/OiBzdHJpbmcsXG4gIGZvbGxvd1VwRXZlbnRJZD86IHN0cmluZyxcbiAgcHJlRXZlbnRJZD86IHN0cmluZyxcbiAgcG9zdEV2ZW50SWQ/OiBzdHJpbmcsXG4gIGZvckV2ZW50SWQ/OiBzdHJpbmcsXG4gIHpvb21NZWV0PzogYm9vbGVhbixcbiAgZ29vZ2xlTWVldD86IGJvb2xlYW4sXG4gIG1lZXRpbmdUeXBlU3RyaW5nPzogbWVldGluZ1R5cGVTdHJpbmdUeXBlLFxuICB6b29tUGFzc3dvcmQ/OiBzdHJpbmcsXG4gIHpvb21Qcml2YXRlTWVldGluZz86IGJvb2xlYW4sXG4gIGF0dGVuZGVlcz86IFBlcnNvbltdLFxuICBjb25mZXJlbmNlSWQ/OiBzdHJpbmcsXG4gIG1heEF0dGVuZGVlcz86IG51bWJlcixcbiAgc2VuZFVwZGF0ZXM/OiBTZW5kVXBkYXRlc1R5cGUsXG4gIHN0YXR1cz86IHN0cmluZyxcbiAgc3VtbWFyeT86IHN0cmluZyxcbiAgdHJhbnNwYXJlbmN5PzogVHJhbnNwYXJlbmN5VHlwZSxcbiAgdmlzaWJpbGl0eT86IFZpc2liaWxpdHlUeXBlLFxuICByZWN1cnJpbmdFdmVudElkPzogc3RyaW5nLFxuICBpQ2FsVUlEPzogc3RyaW5nLFxuICBodG1sTGluaz86IHN0cmluZyxcbiAgY29sb3JJZD86IHN0cmluZyxcbiAgb3JpZ2luYWxUaW1lem9uZT86IHN0cmluZyxcbiAgYmFja2dyb3VuZENvbG9yPzogc3RyaW5nLFxuICBmb3JlZ3JvdW5kQ29sb3I/OiBzdHJpbmcsXG4gIHVzZURlZmF1bHRBbGFybXM/OiBib29sZWFuLFxuICBwb3NpdGl2ZUltcGFjdFNjb3JlPzogbnVtYmVyLFxuICBuZWdhdGl2ZUltcGFjdFNjb3JlPzogbnVtYmVyLFxuICBwb3NpdGl2ZUltcGFjdERheU9mV2Vlaz86IG51bWJlcixcbiAgcG9zaXRpdmVJbXBhY3RUaW1lPzogVGltZSxcbiAgbmVnYXRpdmVJbXBhY3REYXlPZldlZWs/OiBudW1iZXIsXG4gIG5lZ2F0aXZlSW1wYWN0VGltZT86IFRpbWUsXG4gIHByZWZlcnJlZERheU9mV2Vlaz86IG51bWJlcixcbiAgcHJlZmVycmVkVGltZT86IFRpbWUsXG4gIGlzRXh0ZXJuYWxNZWV0aW5nPzogYm9vbGVhbixcbiAgaXNFeHRlcm5hbE1lZXRpbmdNb2RpZmlhYmxlPzogYm9vbGVhbixcbiAgaXNNZWV0aW5nTW9kaWZpYWJsZT86IGJvb2xlYW4sXG4gIGlzTWVldGluZz86IGJvb2xlYW4sXG4gIGRhaWx5VGFza0xpc3Q/OiBib29sZWFuLFxuICB3ZWVrbHlUYXNrTGlzdD86IGJvb2xlYW4sXG4gIGlzQnJlYWs/OiBib29sZWFuLFxuICBwcmVmZXJyZWRTdGFydFRpbWVSYW5nZT86IFRpbWUsXG4gIHByZWZlcnJlZEVuZFRpbWVSYW5nZT86IFRpbWUsXG4gIGNvcHlBdmFpbGFiaWxpdHk/OiBib29sZWFuLFxuICBjb3B5VGltZUJsb2NraW5nPzogYm9vbGVhbixcbiAgY29weVRpbWVQcmVmZXJlbmNlPzogYm9vbGVhbixcbiAgY29weVJlbWluZGVycz86IGJvb2xlYW4sXG4gIGNvcHlQcmlvcml0eUxldmVsPzogYm9vbGVhbixcbiAgY29weU1vZGlmaWFibGU/OiBib29sZWFuLFxuICBjb3B5Q2F0ZWdvcmllcz86IGJvb2xlYW4sXG4gIGNvcHlJc0JyZWFrPzogYm9vbGVhbixcbiAgdGltZUJsb2NraW5nPzogQnVmZmVyVGltZVR5cGUsXG4gIHVzZXJNb2RpZmllZEF2YWlsYWJpbGl0eT86IGJvb2xlYW4sXG4gIHVzZXJNb2RpZmllZFRpbWVCbG9ja2luZz86IGJvb2xlYW4sXG4gIHVzZXJNb2RpZmllZFRpbWVQcmVmZXJlbmNlPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkUmVtaW5kZXJzPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkUHJpb3JpdHlMZXZlbD86IGJvb2xlYW4sXG4gIHVzZXJNb2RpZmllZENhdGVnb3JpZXM/OiBib29sZWFuLFxuICB1c2VyTW9kaWZpZWRNb2RpZmlhYmxlPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkSXNCcmVhaz86IGJvb2xlYW4sXG4gIGhhcmREZWFkbGluZT86IHN0cmluZyxcbiAgc29mdERlYWRsaW5lPzogc3RyaW5nLFxuICBjb3B5SXNNZWV0aW5nPzogYm9vbGVhbixcbiAgY29weUlzRXh0ZXJuYWxNZWV0aW5nPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkSXNNZWV0aW5nPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkSXNFeHRlcm5hbE1lZXRpbmc/OiBib29sZWFuLFxuICBkdXJhdGlvbj86IG51bWJlcixcbiAgY29weUR1cmF0aW9uPzogYm9vbGVhbixcbiAgdXNlck1vZGlmaWVkRHVyYXRpb24/OiBib29sZWFuLFxuICBtZXRob2Q/OiAnY3JlYXRlJyB8ICd1cGRhdGUnLFxuICB1bmxpbms/OiBib29sZWFuLFxuICBieVdlZWtEYXk/OiBEYXlbXSxcbiAgcHJpb3JpdHk/OiBudW1iZXJcbikgPT4ge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKGFsYXJtcywgJyBhbGFybXMgaW5zaWRlIHVwZGF0ZUV2ZW50Jyk7XG4gICAgY29uc29sZS5sb2coY2F0ZWdvcnlJZHMsICcgY2F0ZWdvcnlJZHMgaW5zaWRlIHVwZGF0ZUV2ZW50Jyk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBoYXJkRGVhZGxpbmUsXG4gICAgICBzb2Z0RGVhZGxpbmUsXG4gICAgICAnIGhhcmREZWFkbGluZSwgc29mdERlYWRsaW5lIGluc2lkZSB1cGRhdGVFdmVudCdcbiAgICApO1xuICAgIGxldCBjYWxlbmRhcjogQ2FsZW5kYXJUeXBlIHwge30gPSB7fTtcblxuICAgIGlmIChzZWxlY3RlZENhbGVuZGFySWQ/Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNhbGVuZGFyID0gYXdhaXQgZ2V0Q2FsZW5kYXJJbkRiKGNsaWVudCwgdXNlcklkLCBzZWxlY3RlZENhbGVuZGFySWQpO1xuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIGV2ZW50SWQgYW5kIHNlbGVjdGVkQ2FsZW5kYXJJZFxuICAgIGlmIChpZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWQgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0ZWRDYWxlbmRhcklkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWxlY3RlZENhbGVuZGFySWQgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICBpZiAoKGNhbGVuZGFyIGFzIENhbGVuZGFyVHlwZSk/LnJlc291cmNlID09PSBnb29nbGVSZXNvdXJjZU5hbWUpIHtcbiAgICAgIGNvbnN0IG1vZGlmaWVkQXR0ZW5kZWVzOiBHb29nbGVBdHRlbmRlZVR5cGVbXSA9IGF0dGVuZGVlcz8ubWFwKChhKSA9PiAoe1xuICAgICAgICBhZGRpdGlvbmFsR3Vlc3RzOiBhPy5hZGRpdGlvbmFsR3Vlc3RzLFxuICAgICAgICBkaXNwbGF5TmFtZTogYT8ubmFtZSxcbiAgICAgICAgZW1haWw6IGE/LmVtYWlscz8uWzBdPy52YWx1ZSxcbiAgICAgICAgaWQ6IGE/LmlkLFxuICAgICAgfSkpO1xuICAgICAgaWYgKGNvbmZlcmVuY2VJZCkge1xuICAgICAgICAvLyBjcmVhdGUgY29uZmVyZWNlXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAvLyBuZXdDb25mZXJlbmNlSWQsXG4gICAgICAgICAgLy8gbmV3Sm9pblVybCxcbiAgICAgICAgICAvLyBuZXdTdGFydFVybCxcbiAgICAgICAgICAvLyBuZXdDb25mZXJlbmNlU3RhdHVzLFxuICAgICAgICAgIC8vIGNvbmZlcmVuY2VOYW1lLFxuICAgICAgICAgIC8vIGNvbmZlcmVuY2VUeXBlLFxuICAgICAgICAgIGNvbmZlcmVuY2VEYXRhLFxuICAgICAgICB9ID0gYXdhaXQgdXBkYXRlQ29uZmVyZW5jZShcbiAgICAgICAgICBjb25mZXJlbmNlSWQsXG4gICAgICAgICAgc3RhcnREYXRlLFxuICAgICAgICAgIGVuZERhdGUsXG4gICAgICAgICAgY2xpZW50LFxuICAgICAgICAgIChjYWxlbmRhciBhcyBDYWxlbmRhclR5cGUpPy5pZCxcbiAgICAgICAgICB6b29tTWVldCxcbiAgICAgICAgICBnb29nbGVNZWV0LFxuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICBtZWV0aW5nVHlwZVN0cmluZyxcbiAgICAgICAgICBtb2RpZmllZEF0dGVuZGVlcyxcbiAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgc3VtbWFyeSxcbiAgICAgICAgICB0YXNrVHlwZSxcbiAgICAgICAgICBub3RlcyxcbiAgICAgICAgICB6b29tUGFzc3dvcmQsXG4gICAgICAgICAgem9vbVByaXZhdGVNZWV0aW5nXG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdXBkYXRlRXZlbnRJbkdvb2dsZShcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBzdGFydERhdGUsXG4gICAgICAgICAgZW5kRGF0ZSxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgY2xpZW50LFxuICAgICAgICAgIGNhbGVuZGFyIGFzIENhbGVuZGFyVHlwZSxcbiAgICAgICAgICBjb25mZXJlbmNlRGF0YSwgLy8gaXNDb25mZXJlbmNlXG4gICAgICAgICAgbW9kaWZpZWRBdHRlbmRlZXMsXG4gICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgYWxsRGF5LFxuICAgICAgICAgIHJlY3VycmluZ0VuZERhdGUsXG4gICAgICAgICAgZnJlcXVlbmN5LFxuICAgICAgICAgIGludGVydmFsLFxuICAgICAgICAgIG5vdGVzLFxuICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgIGlzRm9sbG93VXAsXG4gICAgICAgICAgaXNQcmVFdmVudCxcbiAgICAgICAgICBpc1Bvc3RFdmVudCxcbiAgICAgICAgICBtb2RpZmlhYmxlLFxuICAgICAgICAgIGFueW9uZUNhbkFkZFNlbGYsXG4gICAgICAgICAgZ3Vlc3RzQ2FuSW52aXRlT3RoZXJzLFxuICAgICAgICAgIGd1ZXN0c0NhblNlZU90aGVyR3Vlc3RzLFxuICAgICAgICAgIG9yaWdpbmFsQWxsRGF5LFxuICAgICAgICAgIGFsYXJtcyxcbiAgICAgICAgICB0aW1lem9uZSxcbiAgICAgICAgICB0YXNrSWQsXG4gICAgICAgICAgdGFza1R5cGUsXG4gICAgICAgICAgZm9sbG93VXBFdmVudElkLFxuICAgICAgICAgIHByZUV2ZW50SWQsXG4gICAgICAgICAgcG9zdEV2ZW50SWQsXG4gICAgICAgICAgZm9yRXZlbnRJZCxcbiAgICAgICAgICBtYXhBdHRlbmRlZXMsXG4gICAgICAgICAgc2VuZFVwZGF0ZXMsXG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIHRyYW5zcGFyZW5jeSxcbiAgICAgICAgICB2aXNpYmlsaXR5LFxuICAgICAgICAgIGlDYWxVSUQsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgIGZvcmVncm91bmRDb2xvcixcbiAgICAgICAgICBjb2xvcklkLFxuICAgICAgICAgIG9yaWdpbmFsVGltZXpvbmUsXG4gICAgICAgICAgdXNlRGVmYXVsdEFsYXJtcyxcbiAgICAgICAgICBwb3NpdGl2ZUltcGFjdFNjb3JlLFxuICAgICAgICAgIG5lZ2F0aXZlSW1wYWN0U2NvcmUsXG4gICAgICAgICAgcG9zaXRpdmVJbXBhY3REYXlPZldlZWssXG4gICAgICAgICAgcG9zaXRpdmVJbXBhY3RUaW1lLFxuICAgICAgICAgIG5lZ2F0aXZlSW1wYWN0RGF5T2ZXZWVrLFxuICAgICAgICAgIG5lZ2F0aXZlSW1wYWN0VGltZSxcbiAgICAgICAgICBwcmVmZXJyZWREYXlPZldlZWssXG4gICAgICAgICAgcHJlZmVycmVkVGltZSxcbiAgICAgICAgICBpc0V4dGVybmFsTWVldGluZyxcbiAgICAgICAgICBpc0V4dGVybmFsTWVldGluZ01vZGlmaWFibGUsXG4gICAgICAgICAgaXNNZWV0aW5nTW9kaWZpYWJsZSxcbiAgICAgICAgICBpc01lZXRpbmcsXG4gICAgICAgICAgZGFpbHlUYXNrTGlzdCxcbiAgICAgICAgICB3ZWVrbHlUYXNrTGlzdCxcbiAgICAgICAgICBpc0JyZWFrLFxuICAgICAgICAgIHByZWZlcnJlZFN0YXJ0VGltZVJhbmdlLFxuICAgICAgICAgIHByZWZlcnJlZEVuZFRpbWVSYW5nZSxcbiAgICAgICAgICBjb3B5QXZhaWxhYmlsaXR5LFxuICAgICAgICAgIGNvcHlUaW1lQmxvY2tpbmcsXG4gICAgICAgICAgY29weVRpbWVQcmVmZXJlbmNlLFxuICAgICAgICAgIGNvcHlSZW1pbmRlcnMsXG4gICAgICAgICAgY29weVByaW9yaXR5TGV2ZWwsXG4gICAgICAgICAgY29weU1vZGlmaWFibGUsXG4gICAgICAgICAgY29weUNhdGVnb3JpZXMsXG4gICAgICAgICAgY29weUlzQnJlYWssXG4gICAgICAgICAgdGltZUJsb2NraW5nLFxuICAgICAgICAgIHVzZXJNb2RpZmllZEF2YWlsYWJpbGl0eSxcbiAgICAgICAgICB1c2VyTW9kaWZpZWRUaW1lQmxvY2tpbmcsXG4gICAgICAgICAgdXNlck1vZGlmaWVkVGltZVByZWZlcmVuY2UsXG4gICAgICAgICAgdXNlck1vZGlmaWVkUmVtaW5kZXJzLFxuICAgICAgICAgIHVzZXJNb2RpZmllZFByaW9yaXR5TGV2ZWwsXG4gICAgICAgICAgdXNlck1vZGlmaWVkQ2F0ZWdvcmllcyxcbiAgICAgICAgICB1c2VyTW9kaWZpZWRNb2RpZmlhYmxlLFxuICAgICAgICAgIHVzZXJNb2RpZmllZElzQnJlYWssXG4gICAgICAgICAgaGFyZERlYWRsaW5lLFxuICAgICAgICAgIHNvZnREZWFkbGluZSxcbiAgICAgICAgICBjb3B5SXNNZWV0aW5nLFxuICAgICAgICAgIGNvcHlJc0V4dGVybmFsTWVldGluZyxcbiAgICAgICAgICB1c2VyTW9kaWZpZWRJc01lZXRpbmcsXG4gICAgICAgICAgdXNlck1vZGlmaWVkSXNFeHRlcm5hbE1lZXRpbmcsXG4gICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgY29weUR1cmF0aW9uLFxuICAgICAgICAgIHVzZXJNb2RpZmllZER1cmF0aW9uLFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICB1bmxpbmssXG4gICAgICAgICAgYnlXZWVrRGF5LFxuICAgICAgICAgIHByaW9yaXR5XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZ29vZ2xlTWVldCB8fCB6b29tTWVldCkge1xuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIC8vIG5ld0NvbmZlcmVuY2VJZCxcbiAgICAgICAgICAgIC8vIG5ld0pvaW5VcmwsXG4gICAgICAgICAgICAvLyBuZXdTdGFydFVybCxcbiAgICAgICAgICAgIC8vIG5ld0NvbmZlcmVuY2VTdGF0dXMsXG4gICAgICAgICAgICAvLyBjb25mZXJlbmNlTmFtZSxcbiAgICAgICAgICAgIC8vIGNvbmZlcmVuY2VUeXBlLFxuICAgICAgICAgICAgY29uZmVyZW5jZURhdGEsXG4gICAgICAgICAgfSA9IGF3YWl0IGNyZWF0ZUNvbmZlcmVuY2UoXG4gICAgICAgICAgICBzdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlLFxuICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgKGNhbGVuZGFyIGFzIENhbGVuZGFyVHlwZSk/LmlkLFxuICAgICAgICAgICAgem9vbU1lZXQsXG4gICAgICAgICAgICBnb29nbGVNZWV0LFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgbWVldGluZ1R5cGVTdHJpbmcsXG4gICAgICAgICAgICBtb2RpZmllZEF0dGVuZGVlcyxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1bW1hcnksXG4gICAgICAgICAgICB0YXNrVHlwZSxcbiAgICAgICAgICAgIG5vdGVzLFxuICAgICAgICAgICAgem9vbVBhc3N3b3JkLFxuICAgICAgICAgICAgem9vbVByaXZhdGVNZWV0aW5nXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGF3YWl0IHVwZGF0ZUV2ZW50SW5Hb29nbGUoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGVuZERhdGUsXG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICBjYWxlbmRhciBhcyBDYWxlbmRhclR5cGUsXG4gICAgICAgICAgICBjb25mZXJlbmNlRGF0YSwgLy8gaXNDb25mZXJlbmNlXG4gICAgICAgICAgICBtb2RpZmllZEF0dGVuZGVlcyxcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgYWxsRGF5LFxuICAgICAgICAgICAgcmVjdXJyaW5nRW5kRGF0ZSxcbiAgICAgICAgICAgIGZyZXF1ZW5jeSxcbiAgICAgICAgICAgIGludGVydmFsLFxuICAgICAgICAgICAgbm90ZXMsXG4gICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgIGlzRm9sbG93VXAsXG4gICAgICAgICAgICBpc1ByZUV2ZW50LFxuICAgICAgICAgICAgaXNQb3N0RXZlbnQsXG4gICAgICAgICAgICBtb2RpZmlhYmxlLFxuICAgICAgICAgICAgYW55b25lQ2FuQWRkU2VsZixcbiAgICAgICAgICAgIGd1ZXN0c0Nhbkludml0ZU90aGVycyxcbiAgICAgICAgICAgIGd1ZXN0c0NhblNlZU90aGVyR3Vlc3RzLFxuICAgICAgICAgICAgb3JpZ2luYWxBbGxEYXksXG4gICAgICAgICAgICBhbGFybXMsXG4gICAgICAgICAgICB0aW1lem9uZSxcbiAgICAgICAgICAgIHRhc2tJZCxcbiAgICAgICAgICAgIHRhc2tUeXBlLFxuICAgICAgICAgICAgZm9sbG93VXBFdmVudElkLFxuICAgICAgICAgICAgcHJlRXZlbnRJZCxcbiAgICAgICAgICAgIHBvc3RFdmVudElkLFxuICAgICAgICAgICAgZm9yRXZlbnRJZCxcbiAgICAgICAgICAgIG1heEF0dGVuZGVlcyxcbiAgICAgICAgICAgIHNlbmRVcGRhdGVzLFxuICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgdHJhbnNwYXJlbmN5LFxuICAgICAgICAgICAgdmlzaWJpbGl0eSxcbiAgICAgICAgICAgIGlDYWxVSUQsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBmb3JlZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBjb2xvcklkLFxuICAgICAgICAgICAgb3JpZ2luYWxUaW1lem9uZSxcbiAgICAgICAgICAgIHVzZURlZmF1bHRBbGFybXMsXG4gICAgICAgICAgICBwb3NpdGl2ZUltcGFjdFNjb3JlLFxuICAgICAgICAgICAgbmVnYXRpdmVJbXBhY3RTY29yZSxcbiAgICAgICAgICAgIHBvc2l0aXZlSW1wYWN0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgcG9zaXRpdmVJbXBhY3RUaW1lLFxuICAgICAgICAgICAgbmVnYXRpdmVJbXBhY3REYXlPZldlZWssXG4gICAgICAgICAgICBuZWdhdGl2ZUltcGFjdFRpbWUsXG4gICAgICAgICAgICBwcmVmZXJyZWREYXlPZldlZWssXG4gICAgICAgICAgICBwcmVmZXJyZWRUaW1lLFxuICAgICAgICAgICAgaXNFeHRlcm5hbE1lZXRpbmcsXG4gICAgICAgICAgICBpc0V4dGVybmFsTWVldGluZ01vZGlmaWFibGUsXG4gICAgICAgICAgICBpc01lZXRpbmdNb2RpZmlhYmxlLFxuICAgICAgICAgICAgaXNNZWV0aW5nLFxuICAgICAgICAgICAgZGFpbHlUYXNrTGlzdCxcbiAgICAgICAgICAgIHdlZWtseVRhc2tMaXN0LFxuICAgICAgICAgICAgaXNCcmVhayxcbiAgICAgICAgICAgIHByZWZlcnJlZFN0YXJ0VGltZVJhbmdlLFxuICAgICAgICAgICAgcHJlZmVycmVkRW5kVGltZVJhbmdlLFxuICAgICAgICAgICAgY29weUF2YWlsYWJpbGl0eSxcbiAgICAgICAgICAgIGNvcHlUaW1lQmxvY2tpbmcsXG4gICAgICAgICAgICBjb3B5VGltZVByZWZlcmVuY2UsXG4gICAgICAgICAgICBjb3B5UmVtaW5kZXJzLFxuICAgICAgICAgICAgY29weVByaW9yaXR5TGV2ZWwsXG4gICAgICAgICAgICBjb3B5TW9kaWZpYWJsZSxcbiAgICAgICAgICAgIGNvcHlDYXRlZ29yaWVzLFxuICAgICAgICAgICAgY29weUlzQnJlYWssXG4gICAgICAgICAgICB0aW1lQmxvY2tpbmcsXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWRBdmFpbGFiaWxpdHksXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWRUaW1lQmxvY2tpbmcsXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWRUaW1lUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIHVzZXJNb2RpZmllZFJlbWluZGVycyxcbiAgICAgICAgICAgIHVzZXJNb2RpZmllZFByaW9yaXR5TGV2ZWwsXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWRDYXRlZ29yaWVzLFxuICAgICAgICAgICAgdXNlck1vZGlmaWVkTW9kaWZpYWJsZSxcbiAgICAgICAgICAgIHVzZXJNb2RpZmllZElzQnJlYWssXG4gICAgICAgICAgICBoYXJkRGVhZGxpbmUsXG4gICAgICAgICAgICBzb2Z0RGVhZGxpbmUsXG4gICAgICAgICAgICBjb3B5SXNNZWV0aW5nLFxuICAgICAgICAgICAgY29weUlzRXh0ZXJuYWxNZWV0aW5nLFxuICAgICAgICAgICAgdXNlck1vZGlmaWVkSXNNZWV0aW5nLFxuICAgICAgICAgICAgdXNlck1vZGlmaWVkSXNFeHRlcm5hbE1lZXRpbmcsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIGNvcHlEdXJhdGlvbixcbiAgICAgICAgICAgIHVzZXJNb2RpZmllZER1cmF0aW9uLFxuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgdW5saW5rLFxuICAgICAgICAgICAgYnlXZWVrRGF5LFxuICAgICAgICAgICAgcHJpb3JpdHlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF3YWl0IHVwZGF0ZUV2ZW50SW5Hb29nbGUoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGVuZERhdGUsXG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICBjbGllbnQsXG4gICAgICAgICAgICBjYWxlbmRhciBhcyBDYWxlbmRhclR5cGUsXG4gICAgICAgICAgICB1bmRlZmluZWQsIC8vIGlzQ29uZmVyZW5jZVxuICAgICAgICAgICAgbW9kaWZpZWRBdHRlbmRlZXMsXG4gICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgIGFsbERheSxcbiAgICAgICAgICAgIHJlY3VycmluZ0VuZERhdGUsXG4gICAgICAgICAgICBmcmVxdWVuY3ksXG4gICAgICAgICAgICBpbnRlcnZhbCxcbiAgICAgICAgICAgIG5vdGVzLFxuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBpc0ZvbGxvd1VwLFxuICAgICAgICAgICAgaXNQcmVFdmVudCxcbiAgICAgICAgICAgIGlzUG9zdEV2ZW50LFxuICAgICAgICAgICAgbW9kaWZpYWJsZSxcbiAgICAgICAgICAgIGFueW9uZUNhbkFkZFNlbGYsXG4gICAgICAgICAgICBndWVzdHNDYW5JbnZpdGVPdGhlcnMsXG4gICAgICAgICAgICBndWVzdHNDYW5TZWVPdGhlckd1ZXN0cyxcbiAgICAgICAgICAgIG9yaWdpbmFsQWxsRGF5LFxuICAgICAgICAgICAgYWxhcm1zLFxuICAgICAgICAgICAgdGltZXpvbmUsXG4gICAgICAgICAgICB0YXNrSWQsXG4gICAgICAgICAgICB0YXNrVHlwZSxcbiAgICAgICAgICAgIGZvbGxvd1VwRXZlbnRJZCxcbiAgICAgICAgICAgIHByZUV2ZW50SWQsXG4gICAgICAgICAgICBwb3N0RXZlbnRJZCxcbiAgICAgICAgICAgIGZvckV2ZW50SWQsXG4gICAgICAgICAgICBtYXhBdHRlbmRlZXMsXG4gICAgICAgICAgICBzZW5kVXBkYXRlcyxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIHRyYW5zcGFyZW5jeSxcbiAgICAgICAgICAgIHZpc2liaWxpdHksXG4gICAgICAgICAgICBpQ2FsVUlELFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgZm9yZWdyb3VuZENvbG9yLFxuICAgICAgICAgICAgY29sb3JJZCxcbiAgICAgICAgICAgIG9yaWdpbmFsVGltZXpvbmUsXG4gICAgICAgICAgICB1c2VEZWZhdWx0QWxhcm1zLFxuICAgICAgICAgICAgcG9zaXRpdmVJbXBhY3RTY29yZSxcbiAgICAgICAgICAgIG5lZ2F0aXZlSW1wYWN0U2NvcmUsXG4gICAgICAgICAgICBwb3NpdGl2ZUltcGFjdERheU9mV2VlayxcbiAgICAgICAgICAgIHBvc2l0aXZlSW1wYWN0VGltZSxcbiAgICAgICAgICAgIG5lZ2F0aXZlSW1wYWN0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgbmVnYXRpdmVJbXBhY3RUaW1lLFxuICAgICAgICAgICAgcHJlZmVycmVkRGF5T2ZXZWVrLFxuICAgICAgICAgICAgcHJlZmVycmVkVGltZSxcbiAgICAgICAgICAgIGlzRXh0ZXJuYWxNZWV0aW5nLFxuICAgICAgICAgICAgaXNFeHRlcm5hbE1lZXRpbmdNb2RpZmlhYmxlLFxuICAgICAgICAgICAgaXNNZWV0aW5nTW9kaWZpYWJsZSxcbiAgICAgICAgICAgIGlzTWVldGluZyxcbiAgICAgICAgICAgIGRhaWx5VGFza0xpc3QsXG4gICAgICAgICAgICB3ZWVrbHlUYXNrTGlzdCxcbiAgICAgICAgICAgIGlzQnJlYWssXG4gICAgICAgICAgICBwcmVmZXJyZWRTdGFydFRpbWVSYW5nZSxcbiAgICAgICAgICAgIHByZWZlcnJlZEVuZFRpbWVSYW5nZSxcbiAgICAgICAgICAgIGNvcHlBdmFpbGFiaWxpdHksXG4gICAgICAgICAgICBjb3B5VGltZUJsb2NraW5nLFxuICAgICAgICAgICAgY29weVRpbWVQcmVmZXJlbmNlLFxuICAgICAgICAgICAgY29weVJlbWluZGVycyxcbiAgICAgICAgICAgIGNvcHlQcmlvcml0eUxldmVsLFxuICAgICAgICAgICAgY29weU1vZGlmaWFibGUsXG4gICAgICAgICAgICBjb3B5Q2F0ZWdvcmllcyxcbiAgICAgICAgICAgIGNvcHlJc0JyZWFrLFxuICAgICAgICAgICAgdGltZUJsb2NraW5nLFxuICAgICAgICAgICAgdXNlck1vZGlmaWVkQXZhaWxhYmlsaXR5LFxuICAgICAgICAgICAgdXNlck1vZGlmaWVkVGltZUJsb2NraW5nLFxuICAgICAgICAgICAgdXNlck1vZGlmaWVkVGltZVByZWZlcmVuY2UsXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWRSZW1pbmRlcnMsXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWRQcmlvcml0eUxldmVsLFxuICAgICAgICAgICAgdXNlck1vZGlmaWVkQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgIHVzZXJNb2RpZmllZE1vZGlmaWFibGUsXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWRJc0JyZWFrLFxuICAgICAgICAgICAgaGFyZERlYWRsaW5lLFxuICAgICAgICAgICAgc29mdERlYWRsaW5lLFxuICAgICAgICAgICAgY29weUlzTWVldGluZyxcbiAgICAgICAgICAgIGNvcHlJc0V4dGVybmFsTWVldGluZyxcbiAgICAgICAgICAgIHVzZXJNb2RpZmllZElzTWVldGluZyxcbiAgICAgICAgICAgIHVzZXJNb2RpZmllZElzRXh0ZXJuYWxNZWV0aW5nLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBjb3B5RHVyYXRpb24sXG4gICAgICAgICAgICB1c2VyTW9kaWZpZWREdXJhdGlvbixcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHVubGluayxcbiAgICAgICAgICAgIGJ5V2Vla0RheSxcbiAgICAgICAgICAgIHByaW9yaXR5XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0ZW5kZWVzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUF0dGVuZGVlc0ZvckV2ZW50KGNsaWVudCwgaWQpO1xuICAgICAgICAvLyBjcmVhdGUgbmV3IGF0dGVuZGVlc1xuICAgICAgICBjb25zdCBhdHRlbmRlZVByb21pc2VzID0gYXR0ZW5kZWVzLm1hcCgoYSkgPT4ge1xuICAgICAgICAgIHJldHVybiB1cHNlcnRBdHRlbmRlZXNJbkRiKFxuICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgdXVpZCgpLFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBhPy5lbWFpbHMsXG4gICAgICAgICAgICBhPy5uYW1lLFxuICAgICAgICAgICAgYT8uaWQsXG4gICAgICAgICAgICBhPy5waG9uZU51bWJlcnMsXG4gICAgICAgICAgICBhPy5pbUFkZHJlc3NlcyxcbiAgICAgICAgICAgIGE/LmFkZGl0aW9uYWxHdWVzdHMsXG4gICAgICAgICAgICBhPy5vcHRpb25hbCxcbiAgICAgICAgICAgIGE/LnJlc291cmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoYXR0ZW5kZWVQcm9taXNlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNhdGVnb3J5SWRzPy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhjYXRlZ29yeUlkcywgJyBjYXRlZ29yeUlkcyBhZnRlciBpZiBpZiBpbnNpZGUgdXBkYXRlRXZlbnQnKTtcbiAgICAgIC8vIHJlbW92ZSBvbGQgY2F0ZWdvcnkgY29ubmVjdGlvbnNcbiAgICAgIGF3YWl0IHJlbW92ZUFsbENhdGVnb3JpZXNGb3JFdmVudChjbGllbnQsIGlkKTtcblxuICAgICAgLy8gY3JlYXRlIGNhdGVnb3J5X2V2ZW50IGNvbm5lY3Rpb25zXG4gICAgICBjb25zdCBjYXRlZ29yeVByb21pc2VzID0gY2F0ZWdvcnlJZHM/Lm1hcCgoaSkgPT5cbiAgICAgICAgdXBzZXJ0Q2F0ZWdvcnlFdmVudENvbm5lY3Rpb24oY2xpZW50LCB1c2VySWQsIGksIGlkKVxuICAgICAgKTtcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoY2F0ZWdvcnlQcm9taXNlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJlbW92ZSBvbGQgY2F0ZWdvcnkgY29ubmVjdGlvbnNcbiAgICAgIGF3YWl0IHJlbW92ZUFsbENhdGVnb3JpZXNGb3JFdmVudChjbGllbnQsIGlkKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlLCAnIHRoaXMgaXMgZSBmb3IgdXBkYXRlRXZlbnQnKTtcbiAgfVxufTtcbiJdfQ==