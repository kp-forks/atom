"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
const classnames_1 = __importDefault(require("classnames"));
const react_textarea_autosize_1 = __importDefault(require("react-textarea-autosize"));
const Presenter_1 = require("./textfield/Presenter");
const lodash_1 = __importDefault(require("lodash"));
function TextField({ hint, label, labelStyle, labelColor, leadingAccessory, trailingAccessory, validate, validationMessage, value, onChange, fieldStyle, containerStyle, style, multiline, numberOfLines, labelClassNames, className, containerClassNames, hintClassNames, innerRef, ...rest }) {
    const _value = typeof value === 'number' ? `${value}` : lodash_1.default.isArray(value) ? value?.reduce((prev, curr) => `${prev}, ${curr}`, '') : value;
    const [_isValid, _failingValidatorIndex] = (0, Presenter_1.validate)(_value, validate);
    const _validationMessage1 = (0, Presenter_1.getRelevantValidationMessage)(validationMessage, _failingValidatorIndex);
    const _validationMessage = lodash_1.default.isArray(_validationMessage1) ? _validationMessage1?.reduce((prev, curr) => `${prev}, ${curr}`, '') : _validationMessage1;
    if (multiline) {
        return ((0, jsx_runtime_1.jsxs)("div", { style: { ...((!!containerStyle && containerStyle) ?? {}) }, className: "", children: [leadingAccessory && ((0, jsx_runtime_1.jsx)("div", { children: typeof leadingAccessory === 'string' ? ((0, jsx_runtime_1.jsx)("span", { className: "label-text", children: leadingAccessory }))
                        : (leadingAccessory) })), (0, jsx_runtime_1.jsxs)("div", { className: (0, classnames_1.default)("form-control w-full max-w-xs", { [`${containerClassNames ?? 'atomic-placeholder'}`]: !!containerClassNames }), children: [(0, jsx_runtime_1.jsx)("label", { className: "label", children: label && ((0, jsx_runtime_1.jsx)("span", { style: { ...((!!labelStyle && labelStyle) ?? {}) }, className: (0, classnames_1.default)("label-text", { [`${labelClassNames ?? 'atomic-placeholder'}`]: !!labelClassNames }), children: label })) }), (0, jsx_runtime_1.jsx)(react_textarea_autosize_1.default, { ref: innerRef, minRows: ((!!numberOfLines && numberOfLines) ?? 3), maxRows: 6, style: { ...(style ?? {}), ...((!!fieldStyle && fieldStyle) ?? {}) }, ...rest, placeholder: "Type here", className: (0, classnames_1.default)("textarea textarea-primary z-0", { [`${className ?? 'atomic-placeholder'}`]: !!className }), onChange: onChange, value: value }), (0, jsx_runtime_1.jsxs)("label", { className: "label", children: [hint && ((0, jsx_runtime_1.jsx)("span", { className: (0, classnames_1.default)("label-text-alt dark:text-slate-400 text-slate-600", { [`${hintClassNames ?? 'atomic-placehoder'}`]: !!hintClassNames }), children: hint })), _validationMessage && ((0, jsx_runtime_1.jsx)("span", { className: "label-text-alt input-error  text-red-600", children: _validationMessage }))] })] }), trailingAccessory && ((0, jsx_runtime_1.jsx)("div", { children: typeof trailingAccessory === 'string' ? ((0, jsx_runtime_1.jsx)("span", { className: "label-text", children: trailingAccessory }))
                        : (trailingAccessory) }))] }));
    }
    return ((0, jsx_runtime_1.jsxs)("div", { style: { ...((!!containerStyle && containerStyle) ?? {}) }, className: "flex items-center justify-center", children: [leadingAccessory && ((0, jsx_runtime_1.jsx)("div", { children: typeof leadingAccessory === 'string' ? ((0, jsx_runtime_1.jsx)("span", { className: "label-text", children: leadingAccessory }))
                    : (leadingAccessory) })), (0, jsx_runtime_1.jsxs)("div", { className: (0, classnames_1.default)("form-control w-full max-w-xs", { [`${containerClassNames ?? 'atomic-placeholder'}`]: !!containerClassNames }), children: [(0, jsx_runtime_1.jsx)("label", { className: "label", children: label && ((0, jsx_runtime_1.jsx)("span", { style: { ...((!!labelStyle && labelStyle) ?? {}) }, className: (0, classnames_1.default)("label-text", { [`${labelClassNames ?? 'atomic-placeholder'}`]: !!labelClassNames }), children: label })) }), (0, jsx_runtime_1.jsx)("input", { ref: innerRef, style: { ...style, ...((!!fieldStyle && fieldStyle) ?? {}) }, ...rest, placeholder: "Type here", className: (0, classnames_1.default)("input input-bordered input-primary w-full max-w-xs z-0", { [`${className ?? 'atomic-placeholder'}`]: !!className }), onChange: onChange, value: value }), (0, jsx_runtime_1.jsxs)("label", { className: "label", children: [hint && ((0, jsx_runtime_1.jsx)("span", { className: (0, classnames_1.default)("label-text-alt dark:text-slate-400 text-slate-600", { [`${hintClassNames ?? 'atomic-placehoder'}`]: !!hintClassNames }), children: hint })), _validationMessage && ((0, jsx_runtime_1.jsx)("span", { className: "label-text-alt input-error text-red-600", children: _validationMessage }))] })] }), trailingAccessory && ((0, jsx_runtime_1.jsx)("div", { children: typeof trailingAccessory === 'string' ? ((0, jsx_runtime_1.jsx)("span", { className: "label-text", children: trailingAccessory }))
                    : (trailingAccessory) }))] }));
}
exports.default = TextField;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGV4dEZpZWxkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVGV4dEZpZWxkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFFQSw0REFBNEI7QUFDNUIsc0ZBQWlGO0FBT2pGLHFEQUc4QjtBQUM5QixvREFBdUI7QUFFdkIsU0FBUyxTQUFTLENBQUMsRUFDakIsSUFBSSxFQUNKLEtBQUssRUFDTCxVQUFVLEVBQ1YsVUFBVSxFQUNWLGdCQUFnQixFQUNoQixpQkFBaUIsRUFDakIsUUFBUSxFQUNSLGlCQUFpQixFQUNqQixLQUFLLEVBQ0wsUUFBUSxFQUNSLFVBQVUsRUFDVixjQUFjLEVBQ2QsS0FBSyxFQUNMLFNBQVMsRUFDVCxhQUFhLEVBQ2IsZUFBZSxFQUNmLFNBQVMsRUFDVCxtQkFBbUIsRUFDbkIsY0FBYyxFQUNkLFFBQVEsRUFDUixHQUFHLElBQUksRUFBdU87SUFDOU8sTUFBTSxNQUFNLEdBQVcsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxnQkFBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxLQUFLLENBQUE7SUFFakosTUFBTSxDQUFDLFFBQVEsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHLElBQUEsb0JBQVMsRUFBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUE7SUFFdEUsTUFBTSxtQkFBbUIsR0FBRyxJQUFBLHdDQUE0QixFQUFDLGlCQUFpQixFQUFFLHNCQUFzQixDQUFDLENBQUE7SUFDbkcsTUFBTSxrQkFBa0IsR0FBVyxnQkFBQyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsRUFB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QUUsS0FBSyxHQUFJLEVBRzNZLG1DQUFPLFNBQVMsRUFBQyxPQUFPLGFBQ3JCLElBQUksSUFBSSxDQUFDLGlDQUFNLFNBQVMsRUFBRSxJQUFBLG9CQUFHLEVBQUMsbURBQW1ELEVBQUUsRUFBQyxDQUFDLEdBQUcsY0FBYyxJQUFJLG1CQUFtQixFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsY0FBYyxFQUFDLENBQUMsWUFBRyxJQUFJLEdBQVEsQ0FBQyxFQUNwSyxrQkFBa0IsSUFBSSxDQUFDLGlDQUFNLFNBQVMsRUFBQyx5Q0FBeUMsWUFBRSxrQkFBa0IsR0FBUSxDQUFDLElBQ3hHLElBQ0osRUFDTCxpQkFBaUIsSUFBSSxDQUNsQiwwQ0FDRyxPQUFPLGlCQUFpQixLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FDdkMsaUNBQU0sU0FBUyxFQUFDLFlBQVksWUFBRSxpQkFBaUIsR0FBUSxDQUFDO29CQUN4RCxDQUFDLENBQUMsQ0FDQSxpQkFBaUIsQ0FDcEIsR0FDRyxDQUVMLElBQ0QsQ0FDTCxDQUFBO0FBQ0wsQ0FBQztBQUVELGtCQUFlLFNBQVMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhbGV0dGUgfSBmcm9tICdAbGliL3RoZW1lL3RoZW1lJztcbmltcG9ydCBSZWFjdCwgeyBDaGFuZ2VFdmVudEhhbmRsZXIsIERldGFpbGVkSFRNTFByb3BzLCBSZWZBdHRyaWJ1dGVzLCBUZXh0YXJlYUhUTUxBdHRyaWJ1dGVzLCBMZWdhY3lSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgVGV4dGFyZWFBdXRvc2l6ZSwgeyBUZXh0YXJlYUF1dG9zaXplUHJvcHMgfSBmcm9tICdyZWFjdC10ZXh0YXJlYS1hdXRvc2l6ZSdcbmltcG9ydCB7XG4gICAgQXBwZWFyYW5jZSxcbiAgU3R5bGVTaGVldCxcbn0gZnJvbSAncmVhY3QtbmF0aXZlJ1xuIFxuaW1wb3J0IHsgVGV4dElucHV0UHJvcHMgfSBmcm9tICcuL3RleHRmaWVsZC90eXBlcyc7XG5pbXBvcnQge1xuICB2YWxpZGF0ZSBhcyBfdmFsaWRhdGUsXG4gIGdldFJlbGV2YW50VmFsaWRhdGlvbk1lc3NhZ2UsXG59IGZyb20gJy4vdGV4dGZpZWxkL1ByZXNlbnRlcidcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmZ1bmN0aW9uIFRleHRGaWVsZCh7XG4gIGhpbnQsXG4gIGxhYmVsLFxuICBsYWJlbFN0eWxlLFxuICBsYWJlbENvbG9yLFxuICBsZWFkaW5nQWNjZXNzb3J5LFxuICB0cmFpbGluZ0FjY2Vzc29yeSxcbiAgdmFsaWRhdGUsXG4gIHZhbGlkYXRpb25NZXNzYWdlLFxuICB2YWx1ZSxcbiAgb25DaGFuZ2UsXG4gIGZpZWxkU3R5bGUsXG4gIGNvbnRhaW5lclN0eWxlLFxuICBzdHlsZSxcbiAgbXVsdGlsaW5lLFxuICBudW1iZXJPZkxpbmVzLFxuICBsYWJlbENsYXNzTmFtZXMsXG4gIGNsYXNzTmFtZSxcbiAgY29udGFpbmVyQ2xhc3NOYW1lcyxcbiAgaGludENsYXNzTmFtZXMsXG4gIGlubmVyUmVmLFxuICAuLi5yZXN0IH06IFRleHRJbnB1dFByb3BzICYgKFJlYWN0LkRldGFpbGVkSFRNTFByb3BzPFJlYWN0LklucHV0SFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4sIEhUTUxJbnB1dEVsZW1lbnQ+IHwgUmVhY3QuRGV0YWlsZWRIVE1MUHJvcHM8UmVhY3QuVGV4dGFyZWFIVE1MQXR0cmlidXRlczxIVE1MVGV4dEFyZWFFbGVtZW50PiwgSFRNTFRleHRBcmVhRWxlbWVudD4gfCBUZXh0YXJlYUF1dG9zaXplUHJvcHMpKSB7XG4gIGNvbnN0IF92YWx1ZTogc3RyaW5nID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IGAke3ZhbHVlfWAgOiBfLmlzQXJyYXkodmFsdWUpID8gdmFsdWU/LnJlZHVjZSgocHJldiwgY3VycikgPT4gYCR7cHJldn0sICR7Y3Vycn1gLCAnJykgIDogdmFsdWVcblxuICBjb25zdCBbX2lzVmFsaWQsIF9mYWlsaW5nVmFsaWRhdG9ySW5kZXhdID0gX3ZhbGlkYXRlKF92YWx1ZSwgdmFsaWRhdGUpXG5cbiAgY29uc3QgX3ZhbGlkYXRpb25NZXNzYWdlMSA9IGdldFJlbGV2YW50VmFsaWRhdGlvbk1lc3NhZ2UodmFsaWRhdGlvbk1lc3NhZ2UsIF9mYWlsaW5nVmFsaWRhdG9ySW5kZXgpXG4gIGNvbnN0IF92YWxpZGF0aW9uTWVzc2FnZTogc3RyaW5nID0gXy5pc0FycmF5KF92YWxpZGF0aW9uTWVzc2FnZTEpID8gX3ZhbGlkYXRpb25NZXNzYWdlMT8ucmVkdWNlKChwcmV2LCBjdXJyKSA9PiBgJHtwcmV2fSwgJHtjdXJyfWAsICcnKSA6IF92YWxpZGF0aW9uTWVzc2FnZTFcblxuICBpZiAobXVsdGlsaW5lKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBzdHlsZT17eyAuLi4oKCEhY29udGFpbmVyU3R5bGUgJiYgY29udGFpbmVyU3R5bGUpID8/IHt9KX19IGNsYXNzTmFtZT1cIlwiPlxuICAgICAgICB7bGVhZGluZ0FjY2Vzc29yeSAmJiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHt0eXBlb2YgbGVhZGluZ0FjY2Vzc29yeSA9PT0gJ3N0cmluZycgPyAoXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsLXRleHRcIj57bGVhZGluZ0FjY2Vzc29yeX08L3NwYW4+KVxuICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICBsZWFkaW5nQWNjZXNzb3J5XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xzKFwiZm9ybS1jb250cm9sIHctZnVsbCBtYXgtdy14c1wiLCB7IFtgJHtjb250YWluZXJDbGFzc05hbWVzID8/ICdhdG9taWMtcGxhY2Vob2xkZXInfWBdOiAhIWNvbnRhaW5lckNsYXNzTmFtZXMgfSl9PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImxhYmVsXCI+XG4gICAgICAgICAgICAgIHtsYWJlbCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IC4uLigoISFsYWJlbFN0eWxlICYmIGxhYmVsU3R5bGUpID8/IHt9KSB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHMoXCJsYWJlbC10ZXh0XCIsIHtbYCR7bGFiZWxDbGFzc05hbWVzID8/ICdhdG9taWMtcGxhY2Vob2xkZXInfWBdOiAhIWxhYmVsQ2xhc3NOYW1lcyB9KX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9sYWJlbD5cblxuICAgICAgICAgICAgPFRleHRhcmVhQXV0b3NpemUgcmVmPXtpbm5lclJlZiBhcyBSZWFjdC5SZWY8SFRNTFRleHRBcmVhRWxlbWVudD59IG1pblJvd3M9eygoISFudW1iZXJPZkxpbmVzICYmIG51bWJlck9mTGluZXMpID8/IDMpfSBtYXhSb3dzPXs2fSBzdHlsZT17eyAuLi4oc3R5bGUgYXMgVGV4dGFyZWFBdXRvc2l6ZVByb3BzID8/IHt9KSwgLi4uKCghIWZpZWxkU3R5bGUgJiYgZmllbGRTdHlsZSkgPz8ge30pfX0gey4uLnJlc3QgYXMgVGV4dGFyZWFBdXRvc2l6ZVByb3BzfSBwbGFjZWhvbGRlcj1cIlR5cGUgaGVyZVwiIGNsYXNzTmFtZT17Y2xzKFwidGV4dGFyZWEgdGV4dGFyZWEtcHJpbWFyeSB6LTBcIiwge1tgJHtjbGFzc05hbWUgPz8gJ2F0b21pYy1wbGFjZWhvbGRlcid9YF06ICEhY2xhc3NOYW1lfSl9IG9uQ2hhbmdlPXtvbkNoYW5nZSBhcyBDaGFuZ2VFdmVudEhhbmRsZXI8SFRNTFRleHRBcmVhRWxlbWVudD59IHZhbHVlPXt2YWx1ZX0gLz5cblxuXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwibGFiZWxcIj5cbiAgICAgICAgICAgICAge2hpbnQgJiYgKDxzcGFuIGNsYXNzTmFtZT17Y2xzKFwibGFiZWwtdGV4dC1hbHQgZGFyazp0ZXh0LXNsYXRlLTQwMCB0ZXh0LXNsYXRlLTYwMFwiLCB7W2Ake2hpbnRDbGFzc05hbWVzID8/ICdhdG9taWMtcGxhY2Vob2Rlcid9YF06ICEhaGludENsYXNzTmFtZXN9KX0+e2hpbnR9PC9zcGFuPil9XG4gICAgICAgICAgICAgIHtfdmFsaWRhdGlvbk1lc3NhZ2UgJiYgKDxzcGFuIGNsYXNzTmFtZT1cImxhYmVsLXRleHQtYWx0IGlucHV0LWVycm9yICB0ZXh0LXJlZC02MDBcIj57X3ZhbGlkYXRpb25NZXNzYWdlfTwvc3Bhbj4pfVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0cmFpbGluZ0FjY2Vzc29yeSAmJiAoXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHt0eXBlb2YgdHJhaWxpbmdBY2Nlc3NvcnkgPT09ICdzdHJpbmcnID8gKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsYWJlbC10ZXh0XCI+e3RyYWlsaW5nQWNjZXNzb3J5fTwvc3Bhbj4pXG4gICAgICAgICAgICAgIDogKFxuICAgICAgICAgICAgICAgIHRyYWlsaW5nQWNjZXNzb3J5XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4gIFxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgLi4uKCghIWNvbnRhaW5lclN0eWxlICYmIGNvbnRhaW5lclN0eWxlKSA/PyB7fSl9fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgIHtsZWFkaW5nQWNjZXNzb3J5ICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAge3R5cGVvZiBsZWFkaW5nQWNjZXNzb3J5ID09PSAnc3RyaW5nJyA/IChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwtdGV4dFwiPntsZWFkaW5nQWNjZXNzb3J5fTwvc3Bhbj4pXG4gICAgICAgICAgICAgIDogKFxuICAgICAgICAgICAgICAgIGxlYWRpbmdBY2Nlc3NvcnlcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICApfVxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NscyhcImZvcm0tY29udHJvbCB3LWZ1bGwgbWF4LXcteHNcIiwgeyBbYCR7Y29udGFpbmVyQ2xhc3NOYW1lcyA/PyAnYXRvbWljLXBsYWNlaG9sZGVyJ31gXTogISFjb250YWluZXJDbGFzc05hbWVzIH0pfT5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImxhYmVsXCI+XG4gICAgICAgICAge2xhYmVsICYmIChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIHN0eWxlPXt7IC4uLigoISFsYWJlbFN0eWxlICYmIGxhYmVsU3R5bGUpID8/IHt9KX19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzKFwibGFiZWwtdGV4dFwiLCB7W2Ake2xhYmVsQ2xhc3NOYW1lcyA/PyAnYXRvbWljLXBsYWNlaG9sZGVyJ31gXTogISFsYWJlbENsYXNzTmFtZXMgfSl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2xhYmVsPlxuXG5cbiAgICAgICAgPGlucHV0IHJlZj17aW5uZXJSZWYgYXMgTGVnYWN5UmVmPEhUTUxJbnB1dEVsZW1lbnQ+fSBzdHlsZT17eyAuLi5zdHlsZSwgLi4uKCghIWZpZWxkU3R5bGUgJiYgZmllbGRTdHlsZSkgPz8ge30pfX0gey4uLnJlc3QgYXMgQ2hhbmdlRXZlbnRIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+fSBwbGFjZWhvbGRlcj1cIlR5cGUgaGVyZVwiIGNsYXNzTmFtZT17Y2xzKFwiaW5wdXQgaW5wdXQtYm9yZGVyZWQgaW5wdXQtcHJpbWFyeSB3LWZ1bGwgbWF4LXcteHMgei0wXCIsIHtbYCR7Y2xhc3NOYW1lID8/ICdhdG9taWMtcGxhY2Vob2xkZXInfWBdOiAhIWNsYXNzTmFtZX0pfSBvbkNoYW5nZT17b25DaGFuZ2UgYXMgQ2hhbmdlRXZlbnRIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+fSB2YWx1ZT17dmFsdWV9IC8+XG5cblxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwibGFiZWxcIj5cbiAgICAgICAgICB7aGludCAmJiAoPHNwYW4gY2xhc3NOYW1lPXtjbHMoXCJsYWJlbC10ZXh0LWFsdCBkYXJrOnRleHQtc2xhdGUtNDAwIHRleHQtc2xhdGUtNjAwXCIsIHtbYCR7aGludENsYXNzTmFtZXMgPz8gJ2F0b21pYy1wbGFjZWhvZGVyJ31gXTogISFoaW50Q2xhc3NOYW1lc30pfT57aGludH08L3NwYW4+KX1cbiAgICAgICAgICB7X3ZhbGlkYXRpb25NZXNzYWdlICYmICg8c3BhbiBjbGFzc05hbWU9XCJsYWJlbC10ZXh0LWFsdCBpbnB1dC1lcnJvciB0ZXh0LXJlZC02MDBcIj57X3ZhbGlkYXRpb25NZXNzYWdlfTwvc3Bhbj4pfVxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgICB7dHJhaWxpbmdBY2Nlc3NvcnkgJiYgKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICB7dHlwZW9mIHRyYWlsaW5nQWNjZXNzb3J5ID09PSAnc3RyaW5nJyA/IChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWwtdGV4dFwiPnt0cmFpbGluZ0FjY2Vzc29yeX08L3NwYW4+KVxuICAgICAgICAgICAgICA6IChcbiAgICAgICAgICAgICAgICB0cmFpbGluZ0FjY2Vzc29yeVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICl9XG4gICAgPC9kaXY+XG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0RmllbGRcblxuIl19