"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = handler;
// Next.js API route support: https://nextjs.org/docs/api-routes/introduction
const api_helper_1 = require("@lib/api-helper");
async function handler(req, res) {
    try {
        const body = req.body;
        if (body?.method === 'getCustomAvailableTimes') {
            const { slotDuration, hostStartDate, hostPreferences, hostTimezone, userTimezone, isFirstDay, isLastDay, } = body?.variables;
            const customAvailableTimeForDay = await (0, api_helper_1.getCustomAvailableTimes)(slotDuration, hostStartDate, hostPreferences, hostTimezone, userTimezone, isFirstDay, isLastDay);
            if (customAvailableTimeForDay) {
                return res.status(200).json(customAvailableTimeForDay);
            }
        }
        return res.status(404).end();
    }
    catch (e) {
        console.log(e, ' unable to get meeting assist');
        return res.status(404).end();
    }
    // res.status(200).json({ name: 'John Doe' })
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kYWwtdGltZS1wcmVmZXJlbmNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1vZGFsLXRpbWUtcHJlZmVyZW5jZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFrQkEsMEJBcUNDO0FBdkRELDZFQUE2RTtBQUM3RSxnREFBMEQ7QUFpQjNDLEtBQUssVUFBVSxPQUFPLENBQ25DLEdBQW1CLEVBQ25CLEdBQTZDO0lBRTdDLElBQUksQ0FBQztRQUNILE1BQU0sSUFBSSxHQUFnQixHQUFHLENBQUMsSUFBSSxDQUFDO1FBRW5DLElBQUksSUFBSSxFQUFFLE1BQU0sS0FBSyx5QkFBeUIsRUFBRSxDQUFDO1lBQy9DLE1BQU0sRUFDSixZQUFZLEVBQ1osYUFBYSxFQUNiLGVBQWUsRUFDZixZQUFZLEVBQ1osWUFBWSxFQUNaLFVBQVUsRUFDVixTQUFTLEdBQ1YsR0FBSSxJQUFvQixFQUFFLFNBQVMsQ0FBQztZQUNyQyxNQUFNLHlCQUF5QixHQUFHLE1BQU0sSUFBQSxvQ0FBdUIsRUFDN0QsWUFBWSxFQUNaLGFBQWEsRUFDYixlQUFlLEVBQ2YsWUFBWSxFQUNaLFlBQVksRUFDWixVQUFVLEVBQ1YsU0FBUyxDQUNWLENBQUM7WUFDRixJQUFJLHlCQUF5QixFQUFFLENBQUM7Z0JBQzlCLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztZQUN6RCxDQUFDO1FBQ0gsQ0FBQztRQUVELE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUNYLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLCtCQUErQixDQUFDLENBQUM7UUFDaEQsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFDRCw2Q0FBNkM7QUFDL0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE5leHQuanMgQVBJIHJvdXRlIHN1cHBvcnQ6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwaS1yb3V0ZXMvaW50cm9kdWN0aW9uXG5pbXBvcnQgeyBnZXRDdXN0b21BdmFpbGFibGVUaW1lcyB9IGZyb20gJ0BsaWIvYXBpLWhlbHBlcic7XG5pbXBvcnQgeyBDdXN0b21BdmFpbGFibGVUaW1lVHlwZSwgVXNlclByZWZlcmVuY2VUeXBlIH0gZnJvbSAnQGxpYi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcblxudHlwZSBSZXF1ZXN0RGF0YSA9IHtcbiAgbWV0aG9kOiAnZ2V0Q3VzdG9tQXZhaWxhYmxlVGltZXMnO1xuICB2YXJpYWJsZXM6IHtcbiAgICBzbG90RHVyYXRpb246IG51bWJlcjtcbiAgICBob3N0U3RhcnREYXRlOiBzdHJpbmc7XG4gICAgaG9zdFByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZVR5cGU7XG4gICAgaG9zdFRpbWV6b25lOiBzdHJpbmc7XG4gICAgdXNlclRpbWV6b25lOiBzdHJpbmc7XG4gICAgaXNGaXJzdERheT86IGJvb2xlYW47XG4gICAgaXNMYXN0RGF5PzogYm9vbGVhbjtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlPEN1c3RvbUF2YWlsYWJsZVRpbWVUeXBlPlxuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keTogUmVxdWVzdERhdGEgPSByZXEuYm9keTtcblxuICAgIGlmIChib2R5Py5tZXRob2QgPT09ICdnZXRDdXN0b21BdmFpbGFibGVUaW1lcycpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2xvdER1cmF0aW9uLFxuICAgICAgICBob3N0U3RhcnREYXRlLFxuICAgICAgICBob3N0UHJlZmVyZW5jZXMsXG4gICAgICAgIGhvc3RUaW1lem9uZSxcbiAgICAgICAgdXNlclRpbWV6b25lLFxuICAgICAgICBpc0ZpcnN0RGF5LFxuICAgICAgICBpc0xhc3REYXksXG4gICAgICB9ID0gKGJvZHkgYXMgUmVxdWVzdERhdGEpPy52YXJpYWJsZXM7XG4gICAgICBjb25zdCBjdXN0b21BdmFpbGFibGVUaW1lRm9yRGF5ID0gYXdhaXQgZ2V0Q3VzdG9tQXZhaWxhYmxlVGltZXMoXG4gICAgICAgIHNsb3REdXJhdGlvbixcbiAgICAgICAgaG9zdFN0YXJ0RGF0ZSxcbiAgICAgICAgaG9zdFByZWZlcmVuY2VzLFxuICAgICAgICBob3N0VGltZXpvbmUsXG4gICAgICAgIHVzZXJUaW1lem9uZSxcbiAgICAgICAgaXNGaXJzdERheSxcbiAgICAgICAgaXNMYXN0RGF5XG4gICAgICApO1xuICAgICAgaWYgKGN1c3RvbUF2YWlsYWJsZVRpbWVGb3JEYXkpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGN1c3RvbUF2YWlsYWJsZVRpbWVGb3JEYXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuZW5kKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byBnZXQgbWVldGluZyBhc3Npc3QnKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmVuZCgpO1xuICB9XG4gIC8vIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbmFtZTogJ0pvaG4gRG9lJyB9KVxufVxuIl19