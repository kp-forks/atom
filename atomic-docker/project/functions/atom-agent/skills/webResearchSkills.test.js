import * as webResearchSkills from './webResearchSkills';
describe('Web Research Skills', () => {
    describe('searchWeb', () => {
        it('should return an array of search result objects', async () => {
            const results = await webResearchSkills.searchWeb('generic query');
            expect(Array.isArray(results)).toBe(true);
            if (results.length > 0) {
                const firstResult = results[0];
                expect(firstResult).toHaveProperty('title');
                expect(firstResult).toHaveProperty('link');
                expect(firstResult).toHaveProperty('snippet');
            }
        });
        it('should filter results based on the query (case-insensitive in title)', async () => {
            // This test relies on the specific mock data in webResearchSkills.ts
            // Mock data includes: 'Example Domain', 'Internet Assigned Numbers Authority (IANA)', 'World Wide Web Consortium (W3C)'
            const resultsForExample = await webResearchSkills.searchWeb('example');
            expect(resultsForExample.length).toBe(1);
            expect(resultsForExample[0].title).toBe('Example Domain');
            const resultsForIANA = await webResearchSkills.searchWeb('iana');
            expect(resultsForIANA.length).toBe(1);
            expect(resultsForIANA[0].title).toBe('Internet Assigned Numbers Authority (IANA)');
        });
        it('should filter results based on the query (case-insensitive in snippet)', async () => {
            const resultsForDocuments = await webResearchSkills.searchWeb('documents'); // "illustrative examples in documents"
            expect(resultsForDocuments.length).toBe(1);
            expect(resultsForDocuments[0].title).toBe('Example Domain');
            const resultsForCoordinating = await webResearchSkills.searchWeb('coordinating'); // "coordinating some of the key elements"
            expect(resultsForCoordinating.length).toBe(1);
            expect(resultsForCoordinating[0].title).toBe('Internet Assigned Numbers Authority (IANA)');
        });
        it('should return a generic result if query does not match any mock data', async () => {
            const query = 'nonExistentQuery123';
            const results = await webResearchSkills.searchWeb(query);
            expect(results.length).toBe(1);
            expect(results[0].title).toBe(`No specific results for "${query}"`);
            expect(results[0].link).toContain(encodeURIComponent(query));
            expect(results[0].snippet).toContain('mock response');
        });
        it('should handle an empty query string (current mock returns generic)', async () => {
            const results = await webResearchSkills.searchWeb('');
            // The current mock implementation for an empty query will likely find all items
            // because ''.toLowerCase().includes('') is true for any string.
            // Or, if query is trimmed and checked for emptiness, it might return the generic "no specific results".
            // Let's assume it filters and includes everything if query is effectively empty and not caught.
            // The mock data has 3 items.
            // If the skill treats empty string as "match all", then length would be 3.
            // If it treats it as "no query", it gives the generic response.
            // Current mock: `result.title.toLowerCase().includes(lowerCaseQuery)` will be true for empty `lowerCaseQuery`
            expect(results.length).toBe(3); // Because empty string is included in all titles/snippets
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViUmVzZWFyY2hTa2lsbHMudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIndlYlJlc2VhcmNoU2tpbGxzLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLGlCQUFpQixNQUFNLHFCQUFxQixDQUFDO0FBR3pELFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxHQUFHLEVBQUU7SUFDbkMsUUFBUSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7UUFDekIsRUFBRSxDQUFDLGlEQUFpRCxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQy9ELE1BQU0sT0FBTyxHQUFHLE1BQU0saUJBQWlCLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ25FLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzFDLElBQUksT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDdkIsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM1QyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMzQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ2hELENBQUM7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxzRUFBc0UsRUFBRSxLQUFLLElBQUksRUFBRTtZQUNwRixxRUFBcUU7WUFDckUsd0hBQXdIO1lBRXhILE1BQU0saUJBQWlCLEdBQUcsTUFBTSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkUsTUFBTSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFMUQsTUFBTSxjQUFjLEdBQUcsTUFBTSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDakUsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQ2xDLDRDQUE0QyxDQUM3QyxDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsd0VBQXdFLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDdEYsTUFBTSxtQkFBbUIsR0FDdkIsTUFBTSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyx1Q0FBdUM7WUFDekYsTUFBTSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFFNUQsTUFBTSxzQkFBc0IsR0FDMUIsTUFBTSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQywwQ0FBMEM7WUFDL0YsTUFBTSxDQUFDLHNCQUFzQixDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QyxNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUMxQyw0Q0FBNEMsQ0FDN0MsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHNFQUFzRSxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQ3BGLE1BQU0sS0FBSyxHQUFHLHFCQUFxQixDQUFDO1lBQ3BDLE1BQU0sT0FBTyxHQUFHLE1BQU0saUJBQWlCLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pELE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9CLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLDRCQUE0QixLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ3BFLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDN0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDeEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsb0VBQW9FLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDbEYsTUFBTSxPQUFPLEdBQUcsTUFBTSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEQsZ0ZBQWdGO1lBQ2hGLGdFQUFnRTtZQUNoRSx3R0FBd0c7WUFDeEcsZ0dBQWdHO1lBQ2hHLDZCQUE2QjtZQUM3QiwyRUFBMkU7WUFDM0UsZ0VBQWdFO1lBQ2hFLDhHQUE4RztZQUM5RyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLDBEQUEwRDtRQUM1RixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyB3ZWJSZXNlYXJjaFNraWxscyBmcm9tICcuL3dlYlJlc2VhcmNoU2tpbGxzJztcbmltcG9ydCB7IFNlYXJjaFJlc3VsdCB9IGZyb20gJy4uL3R5cGVzJztcblxuZGVzY3JpYmUoJ1dlYiBSZXNlYXJjaCBTa2lsbHMnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdzZWFyY2hXZWInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYW4gYXJyYXkgb2Ygc2VhcmNoIHJlc3VsdCBvYmplY3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHdlYlJlc2VhcmNoU2tpbGxzLnNlYXJjaFdlYignZ2VuZXJpYyBxdWVyeScpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0cykpLnRvQmUodHJ1ZSk7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0UmVzdWx0ID0gcmVzdWx0c1swXTtcbiAgICAgICAgZXhwZWN0KGZpcnN0UmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndGl0bGUnKTtcbiAgICAgICAgZXhwZWN0KGZpcnN0UmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnbGluaycpO1xuICAgICAgICBleHBlY3QoZmlyc3RSZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzbmlwcGV0Jyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciByZXN1bHRzIGJhc2VkIG9uIHRoZSBxdWVyeSAoY2FzZS1pbnNlbnNpdGl2ZSBpbiB0aXRsZSknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBUaGlzIHRlc3QgcmVsaWVzIG9uIHRoZSBzcGVjaWZpYyBtb2NrIGRhdGEgaW4gd2ViUmVzZWFyY2hTa2lsbHMudHNcbiAgICAgIC8vIE1vY2sgZGF0YSBpbmNsdWRlczogJ0V4YW1wbGUgRG9tYWluJywgJ0ludGVybmV0IEFzc2lnbmVkIE51bWJlcnMgQXV0aG9yaXR5IChJQU5BKScsICdXb3JsZCBXaWRlIFdlYiBDb25zb3J0aXVtIChXM0MpJ1xuXG4gICAgICBjb25zdCByZXN1bHRzRm9yRXhhbXBsZSA9IGF3YWl0IHdlYlJlc2VhcmNoU2tpbGxzLnNlYXJjaFdlYignZXhhbXBsZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdHNGb3JFeGFtcGxlLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzRm9yRXhhbXBsZVswXS50aXRsZSkudG9CZSgnRXhhbXBsZSBEb21haW4nKTtcblxuICAgICAgY29uc3QgcmVzdWx0c0ZvcklBTkEgPSBhd2FpdCB3ZWJSZXNlYXJjaFNraWxscy5zZWFyY2hXZWIoJ2lhbmEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzRm9ySUFOQS5sZW5ndGgpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0c0ZvcklBTkFbMF0udGl0bGUpLnRvQmUoXG4gICAgICAgICdJbnRlcm5ldCBBc3NpZ25lZCBOdW1iZXJzIEF1dGhvcml0eSAoSUFOQSknXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgcmVzdWx0cyBiYXNlZCBvbiB0aGUgcXVlcnkgKGNhc2UtaW5zZW5zaXRpdmUgaW4gc25pcHBldCknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHRzRm9yRG9jdW1lbnRzID1cbiAgICAgICAgYXdhaXQgd2ViUmVzZWFyY2hTa2lsbHMuc2VhcmNoV2ViKCdkb2N1bWVudHMnKTsgLy8gXCJpbGx1c3RyYXRpdmUgZXhhbXBsZXMgaW4gZG9jdW1lbnRzXCJcbiAgICAgIGV4cGVjdChyZXN1bHRzRm9yRG9jdW1lbnRzLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzRm9yRG9jdW1lbnRzWzBdLnRpdGxlKS50b0JlKCdFeGFtcGxlIERvbWFpbicpO1xuXG4gICAgICBjb25zdCByZXN1bHRzRm9yQ29vcmRpbmF0aW5nID1cbiAgICAgICAgYXdhaXQgd2ViUmVzZWFyY2hTa2lsbHMuc2VhcmNoV2ViKCdjb29yZGluYXRpbmcnKTsgLy8gXCJjb29yZGluYXRpbmcgc29tZSBvZiB0aGUga2V5IGVsZW1lbnRzXCJcbiAgICAgIGV4cGVjdChyZXN1bHRzRm9yQ29vcmRpbmF0aW5nLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRzRm9yQ29vcmRpbmF0aW5nWzBdLnRpdGxlKS50b0JlKFxuICAgICAgICAnSW50ZXJuZXQgQXNzaWduZWQgTnVtYmVycyBBdXRob3JpdHkgKElBTkEpJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgZ2VuZXJpYyByZXN1bHQgaWYgcXVlcnkgZG9lcyBub3QgbWF0Y2ggYW55IG1vY2sgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ25vbkV4aXN0ZW50UXVlcnkxMjMnO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHdlYlJlc2VhcmNoU2tpbGxzLnNlYXJjaFdlYihxdWVyeSk7XG4gICAgICBleHBlY3QocmVzdWx0cy5sZW5ndGgpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXS50aXRsZSkudG9CZShgTm8gc3BlY2lmaWMgcmVzdWx0cyBmb3IgXCIke3F1ZXJ5fVwiYCk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXS5saW5rKS50b0NvbnRhaW4oZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KSk7XG4gICAgICBleHBlY3QocmVzdWx0c1swXS5zbmlwcGV0KS50b0NvbnRhaW4oJ21vY2sgcmVzcG9uc2UnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFuIGVtcHR5IHF1ZXJ5IHN0cmluZyAoY3VycmVudCBtb2NrIHJldHVybnMgZ2VuZXJpYyknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgd2ViUmVzZWFyY2hTa2lsbHMuc2VhcmNoV2ViKCcnKTtcbiAgICAgIC8vIFRoZSBjdXJyZW50IG1vY2sgaW1wbGVtZW50YXRpb24gZm9yIGFuIGVtcHR5IHF1ZXJ5IHdpbGwgbGlrZWx5IGZpbmQgYWxsIGl0ZW1zXG4gICAgICAvLyBiZWNhdXNlICcnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJycpIGlzIHRydWUgZm9yIGFueSBzdHJpbmcuXG4gICAgICAvLyBPciwgaWYgcXVlcnkgaXMgdHJpbW1lZCBhbmQgY2hlY2tlZCBmb3IgZW1wdGluZXNzLCBpdCBtaWdodCByZXR1cm4gdGhlIGdlbmVyaWMgXCJubyBzcGVjaWZpYyByZXN1bHRzXCIuXG4gICAgICAvLyBMZXQncyBhc3N1bWUgaXQgZmlsdGVycyBhbmQgaW5jbHVkZXMgZXZlcnl0aGluZyBpZiBxdWVyeSBpcyBlZmZlY3RpdmVseSBlbXB0eSBhbmQgbm90IGNhdWdodC5cbiAgICAgIC8vIFRoZSBtb2NrIGRhdGEgaGFzIDMgaXRlbXMuXG4gICAgICAvLyBJZiB0aGUgc2tpbGwgdHJlYXRzIGVtcHR5IHN0cmluZyBhcyBcIm1hdGNoIGFsbFwiLCB0aGVuIGxlbmd0aCB3b3VsZCBiZSAzLlxuICAgICAgLy8gSWYgaXQgdHJlYXRzIGl0IGFzIFwibm8gcXVlcnlcIiwgaXQgZ2l2ZXMgdGhlIGdlbmVyaWMgcmVzcG9uc2UuXG4gICAgICAvLyBDdXJyZW50IG1vY2s6IGByZXN1bHQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlckNhc2VRdWVyeSlgIHdpbGwgYmUgdHJ1ZSBmb3IgZW1wdHkgYGxvd2VyQ2FzZVF1ZXJ5YFxuICAgICAgZXhwZWN0KHJlc3VsdHMubGVuZ3RoKS50b0JlKDMpOyAvLyBCZWNhdXNlIGVtcHR5IHN0cmluZyBpcyBpbmNsdWRlZCBpbiBhbGwgdGl0bGVzL3NuaXBwZXRzXG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=