import { google_web_search } from 'google_web_search';
export async function searchWeb(query) {
    console.log(`Initiating web search for query: "${query}"`);
    if (!query || query.trim() === '') {
        return {
            ok: false,
            error: {
                code: 'VALIDATION_ERROR',
                message: 'Search query cannot be empty.',
            },
        };
    }
    try {
        const searchResults = await google_web_search({ query });
        if (!searchResults || searchResults.length === 0) {
            return { ok: true, data: [] };
        }
        const mappedResults = searchResults.map((result) => ({
            title: result.title,
            link: result.link,
            snippet: result.snippet,
        }));
        return { ok: true, data: mappedResults };
    }
    catch (error) {
        console.error('Error during google_web_search:', error);
        const skillError = {
            code: 'SEARCH_API_ERROR',
            message: `An error occurred during web search: ${error.message}`,
            details: error,
        };
        return { ok: false, error: skillError };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViUmVzZWFyY2hTa2lsbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ3ZWJSZXNlYXJjaFNraWxscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUV0RCxNQUFNLENBQUMsS0FBSyxVQUFVLFNBQVMsQ0FDN0IsS0FBYTtJQUViLE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFFM0QsSUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUM7UUFDbEMsT0FBTztZQUNMLEVBQUUsRUFBRSxLQUFLO1lBQ1QsS0FBSyxFQUFFO2dCQUNMLElBQUksRUFBRSxrQkFBa0I7Z0JBQ3hCLE9BQU8sRUFBRSwrQkFBK0I7YUFDekM7U0FDRixDQUFDO0lBQ0osQ0FBQztJQUVELElBQUksQ0FBQztRQUNILE1BQU0sYUFBYSxHQUFHLE1BQU0saUJBQWlCLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBRXpELElBQUksQ0FBQyxhQUFhLElBQUksYUFBYSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNqRCxPQUFPLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDaEMsQ0FBQztRQUVELE1BQU0sYUFBYSxHQUFtQixhQUFhLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBVyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3hFLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSztZQUNuQixJQUFJLEVBQUUsTUFBTSxDQUFDLElBQUk7WUFDakIsT0FBTyxFQUFFLE1BQU0sQ0FBQyxPQUFPO1NBQ3hCLENBQUMsQ0FBQyxDQUFDO1FBRUosT0FBTyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFBQyxPQUFPLEtBQVUsRUFBRSxDQUFDO1FBQ3BCLE9BQU8sQ0FBQyxLQUFLLENBQUMsaUNBQWlDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDeEQsTUFBTSxVQUFVLEdBQWU7WUFDN0IsSUFBSSxFQUFFLGtCQUFrQjtZQUN4QixPQUFPLEVBQUUsd0NBQXdDLEtBQUssQ0FBQyxPQUFPLEVBQUU7WUFDaEUsT0FBTyxFQUFFLEtBQUs7U0FDZixDQUFDO1FBQ0YsT0FBTyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxDQUFDO0lBQzFDLENBQUM7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2VhcmNoUmVzdWx0LCBXZWJSZXNlYXJjaFNraWxsUmVzcG9uc2UsIFNraWxsRXJyb3IgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnb29nbGVfd2ViX3NlYXJjaCB9IGZyb20gJ2dvb2dsZV93ZWJfc2VhcmNoJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaFdlYihcbiAgcXVlcnk6IHN0cmluZ1xuKTogUHJvbWlzZTxXZWJSZXNlYXJjaFNraWxsUmVzcG9uc2U8U2VhcmNoUmVzdWx0W10+PiB7XG4gIGNvbnNvbGUubG9nKGBJbml0aWF0aW5nIHdlYiBzZWFyY2ggZm9yIHF1ZXJ5OiBcIiR7cXVlcnl9XCJgKTtcblxuICBpZiAoIXF1ZXJ5IHx8IHF1ZXJ5LnRyaW0oKSA9PT0gJycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb2s6IGZhbHNlLFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgY29kZTogJ1ZBTElEQVRJT05fRVJST1InLFxuICAgICAgICBtZXNzYWdlOiAnU2VhcmNoIHF1ZXJ5IGNhbm5vdCBiZSBlbXB0eS4nLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0gYXdhaXQgZ29vZ2xlX3dlYl9zZWFyY2goeyBxdWVyeSB9KTtcblxuICAgIGlmICghc2VhcmNoUmVzdWx0cyB8fCBzZWFyY2hSZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgb2s6IHRydWUsIGRhdGE6IFtdIH07XG4gICAgfVxuXG4gICAgY29uc3QgbWFwcGVkUmVzdWx0czogU2VhcmNoUmVzdWx0W10gPSBzZWFyY2hSZXN1bHRzLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICB0aXRsZTogcmVzdWx0LnRpdGxlLFxuICAgICAgbGluazogcmVzdWx0LmxpbmssXG4gICAgICBzbmlwcGV0OiByZXN1bHQuc25pcHBldCxcbiAgICB9KSk7XG5cbiAgICByZXR1cm4geyBvazogdHJ1ZSwgZGF0YTogbWFwcGVkUmVzdWx0cyB9O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGdvb2dsZV93ZWJfc2VhcmNoOicsIGVycm9yKTtcbiAgICBjb25zdCBza2lsbEVycm9yOiBTa2lsbEVycm9yID0ge1xuICAgICAgY29kZTogJ1NFQVJDSF9BUElfRVJST1InLFxuICAgICAgbWVzc2FnZTogYEFuIGVycm9yIG9jY3VycmVkIGR1cmluZyB3ZWIgc2VhcmNoOiAke2Vycm9yLm1lc3NhZ2V9YCxcbiAgICAgIGRldGFpbHM6IGVycm9yLFxuICAgIH07XG4gICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBlcnJvcjogc2tpbGxFcnJvciB9O1xuICB9XG59XG4iXX0=