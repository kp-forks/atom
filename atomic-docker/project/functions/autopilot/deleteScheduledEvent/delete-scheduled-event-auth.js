import { deleteScheduledEventForAutopilot } from '@autopilot/_libs/api-helper';
const handler = async (req, res) => {
    try {
        const eventItem = req.body;
        // validate
        if (!eventItem) {
            return res.status(400).json({
                message: 'eventId missing',
                event: eventItem,
            });
        }
        await deleteScheduledEventForAutopilot(eventItem);
        res
            .status(200)
            .json('successfully deleted scheduled event for autopilot to event');
    }
    catch (e) {
        console.log(e, ' error');
        res.status(400).json(e);
    }
};
export default handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsZXRlLXNjaGVkdWxlZC1ldmVudC1hdXRoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGVsZXRlLXNjaGVkdWxlZC1ldmVudC1hdXRoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxnQ0FBZ0MsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRS9FLE1BQU0sT0FBTyxHQUFHLEtBQUssRUFBRSxHQUFZLEVBQUUsR0FBYSxFQUFFLEVBQUU7SUFDcEQsSUFBSSxDQUFDO1FBQ0gsTUFBTSxTQUFTLEdBQTZCLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFFckQsV0FBVztRQUNYLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNmLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQzFCLE9BQU8sRUFBRSxpQkFBaUI7Z0JBQzFCLEtBQUssRUFBRSxTQUFTO2FBQ2pCLENBQUMsQ0FBQztRQUNMLENBQUM7UUFFRCxNQUFNLGdDQUFnQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRWxELEdBQUc7YUFDQSxNQUFNLENBQUMsR0FBRyxDQUFDO2FBQ1gsSUFBSSxDQUFDLDZEQUE2RCxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDWCxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN6QixHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQixDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsZUFBZSxPQUFPLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgRGVsZXRlU2NoZWR1bGVkRXZlbnRCb2R5IH0gZnJvbSAnQGF1dG9waWxvdC9fbGlicy90eXBlcyc7XG5pbXBvcnQgeyBkZWxldGVTY2hlZHVsZWRFdmVudEZvckF1dG9waWxvdCB9IGZyb20gJ0BhdXRvcGlsb3QvX2xpYnMvYXBpLWhlbHBlcic7XG5cbmNvbnN0IGhhbmRsZXIgPSBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZXZlbnRJdGVtOiBEZWxldGVTY2hlZHVsZWRFdmVudEJvZHkgPSByZXEuYm9keTtcblxuICAgIC8vIHZhbGlkYXRlXG4gICAgaWYgKCFldmVudEl0ZW0pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdldmVudElkIG1pc3NpbmcnLFxuICAgICAgICBldmVudDogZXZlbnRJdGVtLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXdhaXQgZGVsZXRlU2NoZWR1bGVkRXZlbnRGb3JBdXRvcGlsb3QoZXZlbnRJdGVtKTtcblxuICAgIHJlc1xuICAgICAgLnN0YXR1cygyMDApXG4gICAgICAuanNvbignc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgc2NoZWR1bGVkIGV2ZW50IGZvciBhdXRvcGlsb3QgdG8gZXZlbnQnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUsICcgZXJyb3InKTtcbiAgICByZXMuc3RhdHVzKDQwMCkuanNvbihlKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlcjtcbiJdfQ==