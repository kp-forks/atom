import { logger } from '@utils/logger';
import { castBooleanEnv, castIntEnv, castObjectEnv, castStringArrayEnv, castStringEnv, } from '@utils/config/utils';
function onlyUnique(value, index, array) {
    return array.indexOf(value) === index;
}
export const ENV = {
    get PWD() {
        return castStringEnv('PWD', '/');
    },
    // HASURA
    get HASURA_GRAPHQL_JWT_SECRET() {
        return castObjectEnv('HASURA_GRAPHQL_JWT_SECRET');
    },
    get HASURA_GRAPHQL_DATABASE_URL() {
        return castStringEnv('HASURA_GRAPHQL_DATABASE_URL');
    },
    get HASURA_GRAPHQL_ADMIN_SECRET() {
        return castStringEnv('HASURA_GRAPHQL_ADMIN_SECRET');
    },
    get HASURA_GRAPHQL_GRAPHQL_URL() {
        return castStringEnv('HASURA_GRAPHQL_GRAPHQL_URL');
    },
    // SERVER
    get AUTH_PORT() {
        return castIntEnv('AUTH_PORT', 4000);
    },
    get AUTH_SERVER_URL() {
        return castStringEnv('AUTH_SERVER_URL');
    },
    // FUNCTION
    get FUNCTION_SERVER_URL() {
        return castStringEnv('FUNCTION_SERVER_URL');
    },
    // APP
    get APP_CLIENT_URL() {
        return castStringEnv('APP_CLIENT_URL');
    },
    // SMTP
    get AUTH_SMTP_PASS() {
        return castStringEnv('AUTH_SMTP_PASS');
    },
    get AUTH_SMTP_HOST() {
        return castStringEnv('AUTH_SMTP_HOST');
    },
    get AUTH_SMTP_USER() {
        return castStringEnv('AUTH_SMTP_USER');
    },
    get AUTH_SMTP_SENDER() {
        return castStringEnv('AUTH_SMTP_SENDER');
    },
    get AUTH_SMTP_AUTH_METHOD() {
        return castStringEnv('AUTH_SMTP_AUTH_METHOD', 'PLAIN');
    },
    get AUTH_SMTP_PORT() {
        return castIntEnv('AUTH_SMTP_PORT', 587);
    },
    get AUTH_SMTP_SECURE() {
        // note: false disables SSL (deprecated)
        return castBooleanEnv('AUTH_SMTP_SECURE', false);
    },
    get AUTH_SMTP_X_SMTPAPI_HEADER() {
        return castStringEnv('AUTH_SMTP_X_SMTPAPI_HEADER');
    },
    // SMS
    get AUTH_SMS_PROVIDER() {
        return castStringEnv('AUTH_SMS_PROVIDER');
    },
    get AUTH_SMS_TEST_PHONE_NUMBERS() {
        return castStringArrayEnv('AUTH_SMS_TEST_PHONE_NUMBERS', []);
    },
    // TWILIO
    get AUTH_SMS_TWILIO_ACCOUNT_SID() {
        return castStringEnv('AUTH_SMS_TWILIO_ACCOUNT_SID');
    },
    get AUTH_SMS_TWILIO_AUTH_TOKEN() {
        return castStringEnv('AUTH_SMS_TWILIO_AUTH_TOKEN');
    },
    get AUTH_SMS_TWILIO_MESSAGING_SERVICE_ID() {
        return castStringEnv('AUTH_SMS_TWILIO_MESSAGING_SERVICE_ID');
    },
    // GRAVATAR
    get AUTH_GRAVATAR_ENABLED() {
        return castBooleanEnv('AUTH_GRAVATAR_ENABLED', true);
    },
    get AUTH_GRAVATAR_DEFAULT() {
        return castStringEnv('AUTH_GRAVATAR_DEFAULT', 'blank');
    },
    get AUTH_GRAVATAR_RATING() {
        return castStringEnv('AUTH_GRAVATAR_RATING', 'g');
    },
    // CLIENT
    get AUTH_CLIENT_URL() {
        return castStringEnv('AUTH_CLIENT_URL').toLocaleLowerCase();
    },
    // WEBAUTHN
    get AUTH_WEBAUTHN_ENABLED() {
        return castBooleanEnv('AUTH_WEBAUTHN_ENABLED', false);
    },
    get AUTH_WEBAUTHN_RP_NAME() {
        return castStringEnv('AUTH_WEBAUTHN_RP_NAME', '');
    },
    get AUTH_WEBAUTHN_RP_ORIGINS() {
        const origins = castStringArrayEnv('AUTH_WEBAUTHN_RP_ORIGINS', []);
        const clientUrl = ENV.AUTH_CLIENT_URL;
        if (clientUrl) {
            origins.push(clientUrl);
        }
        return origins.filter(Boolean);
    },
    get AUTH_WEBAUTHN_ATTESTATION_TIMEOUT() {
        return castIntEnv('AUTH_WEBAUTHN_ATTESTATION_TIMEOUT', 60000);
    },
    // SIGN UP
    get AUTH_ANONYMOUS_USERS_ENABLED() {
        return castBooleanEnv('AUTH_ANONYMOUS_USERS_ENABLED', false);
    },
    get AUTH_DISABLE_NEW_USERS() {
        return castBooleanEnv('AUTH_DISABLE_NEW_USERS', false);
    },
    get AUTH_ACCESS_CONTROL_ALLOWED_EMAILS() {
        return castStringArrayEnv('AUTH_ACCESS_CONTROL_ALLOWED_EMAILS', []);
    },
    get AUTH_ACCESS_CONTROL_ALLOWED_EMAIL_DOMAINS() {
        return castStringArrayEnv('AUTH_ACCESS_CONTROL_ALLOWED_EMAIL_DOMAINS', []);
    },
    get AUTH_ACCESS_CONTROL_BLOCKED_EMAILS() {
        return castStringArrayEnv('AUTH_ACCESS_CONTROL_BLOCKED_EMAILS', []);
    },
    get AUTH_ACCESS_CONTROL_BLOCKED_EMAIL_DOMAINS() {
        return castStringArrayEnv('AUTH_ACCESS_CONTROL_BLOCKED_EMAIL_DOMAINS', []);
    },
    get AUTH_PASSWORD_MIN_LENGTH() {
        return castIntEnv('AUTH_PASSWORD_MIN_LENGTH', 3);
    },
    get AUTH_PASSWORD_HIBP_ENABLED() {
        return castBooleanEnv('AUTH_PASSWORD_HIBP_ENABLED', false);
    },
    get AUTH_USER_DEFAULT_ROLE() {
        return castStringEnv('AUTH_USER_DEFAULT_ROLE', 'user');
    },
    get AUTH_USER_DEFAULT_ALLOWED_ROLES() {
        const allowedRoles = [
            'me',
            this.AUTH_USER_DEFAULT_ROLE,
            ...castStringArrayEnv('AUTH_USER_DEFAULT_ALLOWED_ROLES'),
        ];
        // remove duplicates
        return [...allowedRoles?.filter(onlyUnique)];
    },
    get AUTH_LOCALE_DEFAULT() {
        return castStringEnv('AUTH_LOCALE_DEFAULT', 'en');
    },
    get AUTH_LOCALE_ALLOWED_LOCALES() {
        const locales = [
            ENV.AUTH_LOCALE_DEFAULT,
            ...castStringArrayEnv('AUTH_LOCALE_ALLOWED_LOCALES'),
        ];
        // remove duplicates
        return [...locales?.filter(onlyUnique)];
    },
    // SIGN IN
    get AUTH_EMAIL_PASSWORDLESS_ENABLED() {
        return castBooleanEnv('AUTH_EMAIL_PASSWORDLESS_ENABLED', false);
    },
    get AUTH_SMS_PASSWORDLESS_ENABLED() {
        return castBooleanEnv('AUTH_SMS_PASSWORDLESS_ENABLED', false);
    },
    get AUTH_EMAIL_SIGNIN_EMAIL_VERIFIED_REQUIRED() {
        return castBooleanEnv('AUTH_EMAIL_SIGNIN_EMAIL_VERIFIED_REQUIRED', true);
    },
    // get AUTH_SIGNIN_PHONE_NUMBER_VERIFIED_REQUIRED() {
    //   return castBooleanEnv('AUTH_SIGNIN_PHONE_NUMBER_VERIFIED_REQUIRED', true);
    // },
    get AUTH_ACCESS_CONTROL_ALLOWED_REDIRECT_URLS() {
        return castStringArrayEnv('AUTH_ACCESS_CONTROL_ALLOWED_REDIRECT_URLS').map((v) => v.toLowerCase());
    },
    get AUTH_MFA_ENABLED() {
        return castBooleanEnv('AUTH_MFA_ENABLED', false);
    },
    get AUTH_MFA_TOTP_ISSUER() {
        return castStringEnv('AUTH_MFA_TOTP_ISSUER', 'hasura-auth');
    },
    // TOKENS
    get AUTH_ACCESS_TOKEN_EXPIRES_IN() {
        return castIntEnv('AUTH_ACCESS_TOKEN_EXPIRES_IN', 900);
    },
    get AUTH_REFRESH_TOKEN_EXPIRES_IN() {
        return castIntEnv('AUTH_REFRESH_TOKEN_EXPIRES_IN', 2_592_000);
    },
    // EMAIL TEMPLATES
    get AUTH_EMAIL_TEMPLATE_FETCH_URL() {
        return castStringEnv('AUTH_EMAIL_TEMPLATE_FETCH_URL');
    },
    get AUTH_JWT_CUSTOM_CLAIMS() {
        try {
            return castObjectEnv('AUTH_JWT_CUSTOM_CLAIMS');
        }
        catch {
            logger.warn('AUTH_JWT_CUSTOM_CLAIMS cannot be parsed. Will ignore custom claims.');
            return {};
        }
    },
    get AUTH_USER_SESSION_VARIABLE_FIELDS() {
        return this.AUTH_USER_SESSION_VARIABLE_FIELDS;
    },
    get AUTH_CONCEAL_ERRORS() {
        return castBooleanEnv('AUTH_CONCEAL_ERRORS', false);
    },
    get AUTH_SHOW_LOG_QUERY_PARAMS() {
        return castBooleanEnv('AUTH_SHOW_LOG_QUERY_PARAMS', false);
    },
    // * See ../server.ts
    // get AUTH_SKIP_INIT() {
    //   return castBooleanEnv('AUTH_SKIP_INIT', false);
    // },
    // get AUTH_SKIP_SERVE() {
    //   return castBooleanEnv('AUTH_SKIP_SERVE', false);
    // },
    // AWS SES
    get AWS_ACCESS_KEY_ID() {
        return castStringEnv('AWS_ACCESS_KEY_ID');
    },
    get AWS_SECRET_ACCESS_KEY() {
        return castStringEnv('AWS_SECRET_ACCESS_KEY');
    },
    get AWS_REGION() {
        return castStringEnv('AWS_REGION');
    },
    get SES_SOURCE_EMAIL() {
        return castStringEnv('SES_SOURCE_EMAIL');
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW52LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZW52LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFdkMsT0FBTyxFQUNMLGNBQWMsRUFDZCxVQUFVLEVBQ1YsYUFBYSxFQUNiLGtCQUFrQixFQUNsQixhQUFhLEdBQ2QsTUFBTSxxQkFBcUIsQ0FBQztBQUU3QixTQUFTLFVBQVUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUs7SUFDckMsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEtBQUssQ0FBQztBQUN4QyxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHO0lBQ2pCLElBQUksR0FBRztRQUNMLE9BQU8sYUFBYSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsU0FBUztJQUNULElBQUkseUJBQXlCO1FBQzNCLE9BQU8sYUFBYSxDQUFZLDJCQUEyQixDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUNELElBQUksMkJBQTJCO1FBQzdCLE9BQU8sYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUNELElBQUksMkJBQTJCO1FBQzdCLE9BQU8sYUFBYSxDQUFDLDZCQUE2QixDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUNELElBQUksMEJBQTBCO1FBQzVCLE9BQU8sYUFBYSxDQUFDLDRCQUE0QixDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELFNBQVM7SUFDVCxJQUFJLFNBQVM7UUFDWCxPQUFPLFVBQVUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUNELElBQUksZUFBZTtRQUNqQixPQUFPLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxXQUFXO0lBQ1gsSUFBSSxtQkFBbUI7UUFDckIsT0FBTyxhQUFhLENBQUMscUJB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QUM7SUFDRCxJQUFJLGdCQUFnQjtRQUNsQixPQUFPLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzNDLENBQUM7Q0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQHV0aWxzL2xvZ2dlcic7XG5pbXBvcnQgeyBKd3RTZWNyZXQgfSBmcm9tICdAdXRpbHMvdHlwZXMvdHlwZXMnO1xuaW1wb3J0IHtcbiAgY2FzdEJvb2xlYW5FbnYsXG4gIGNhc3RJbnRFbnYsXG4gIGNhc3RPYmplY3RFbnYsXG4gIGNhc3RTdHJpbmdBcnJheUVudixcbiAgY2FzdFN0cmluZ0Vudixcbn0gZnJvbSAnQHV0aWxzL2NvbmZpZy91dGlscyc7XG5cbmZ1bmN0aW9uIG9ubHlVbmlxdWUodmFsdWUsIGluZGV4LCBhcnJheSkge1xuICByZXR1cm4gYXJyYXkuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4O1xufVxuXG5leHBvcnQgY29uc3QgRU5WID0ge1xuICBnZXQgUFdEKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdQV0QnLCAnLycpO1xuICB9LFxuXG4gIC8vIEhBU1VSQVxuICBnZXQgSEFTVVJBX0dSQVBIUUxfSldUX1NFQ1JFVCgpIHtcbiAgICByZXR1cm4gY2FzdE9iamVjdEVudjxKd3RTZWNyZXQ+KCdIQVNVUkFfR1JBUEhRTF9KV1RfU0VDUkVUJyk7XG4gIH0sXG4gIGdldCBIQVNVUkFfR1JBUEhRTF9EQVRBQkFTRV9VUkwoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0hBU1VSQV9HUkFQSFFMX0RBVEFCQVNFX1VSTCcpO1xuICB9LFxuICBnZXQgSEFTVVJBX0dSQVBIUUxfQURNSU5fU0VDUkVUKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdIQVNVUkFfR1JBUEhRTF9BRE1JTl9TRUNSRVQnKTtcbiAgfSxcbiAgZ2V0IEhBU1VSQV9HUkFQSFFMX0dSQVBIUUxfVVJMKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdIQVNVUkFfR1JBUEhRTF9HUkFQSFFMX1VSTCcpO1xuICB9LFxuXG4gIC8vIFNFUlZFUlxuICBnZXQgQVVUSF9QT1JUKCkge1xuICAgIHJldHVybiBjYXN0SW50RW52KCdBVVRIX1BPUlQnLCA0MDAwKTtcbiAgfSxcbiAgZ2V0IEFVVEhfU0VSVkVSX1VSTCgpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0VudignQVVUSF9TRVJWRVJfVVJMJyk7XG4gIH0sXG5cbiAgLy8gRlVOQ1RJT05cbiAgZ2V0IEZVTkNUSU9OX1NFUlZFUl9VUkwoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0ZVTkNUSU9OX1NFUlZFUl9VUkwnKTtcbiAgfSxcblxuICAvLyBBUFBcbiAgZ2V0IEFQUF9DTElFTlRfVVJMKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdBUFBfQ0xJRU5UX1VSTCcpO1xuICB9LFxuXG4gIC8vIFNNVFBcbiAgZ2V0IEFVVEhfU01UUF9QQVNTKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdBVVRIX1NNVFBfUEFTUycpO1xuICB9LFxuICBnZXQgQVVUSF9TTVRQX0hPU1QoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfU01UUF9IT1NUJyk7XG4gIH0sXG4gIGdldCBBVVRIX1NNVFBfVVNFUigpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0VudignQVVUSF9TTVRQX1VTRVInKTtcbiAgfSxcbiAgZ2V0IEFVVEhfU01UUF9TRU5ERVIoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfU01UUF9TRU5ERVInKTtcbiAgfSxcbiAgZ2V0IEFVVEhfU01UUF9BVVRIX01FVEhPRCgpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0VudignQVVUSF9TTVRQX0FVVEhfTUVUSE9EJywgJ1BMQUlOJyk7XG4gIH0sXG4gIGdldCBBVVRIX1NNVFBfUE9SVCgpIHtcbiAgICByZXR1cm4gY2FzdEludEVudignQVVUSF9TTVRQX1BPUlQnLCA1ODcpO1xuICB9LFxuICBnZXQgQVVUSF9TTVRQX1NFQ1VSRSgpIHtcbiAgICAvLyBub3RlOiBmYWxzZSBkaXNhYmxlcyBTU0wgKGRlcHJlY2F0ZWQpXG4gICAgcmV0dXJuIGNhc3RCb29sZWFuRW52KCdBVVRIX1NNVFBfU0VDVVJFJywgZmFsc2UpO1xuICB9LFxuICBnZXQgQVVUSF9TTVRQX1hfU01UUEFQSV9IRUFERVIoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfU01UUF9YX1NNVFBBUElfSEVBREVSJyk7XG4gIH0sXG5cbiAgLy8gU01TXG4gIGdldCBBVVRIX1NNU19QUk9WSURFUigpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0VudignQVVUSF9TTVNfUFJPVklERVInKTtcbiAgfSxcbiAgZ2V0IEFVVEhfU01TX1RFU1RfUEhPTkVfTlVNQkVSUygpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0FycmF5RW52KCdBVVRIX1NNU19URVNUX1BIT05FX05VTUJFUlMnLCBbXSk7XG4gIH0sXG5cbiAgLy8gVFdJTElPXG4gIGdldCBBVVRIX1NNU19UV0lMSU9fQUNDT1VOVF9TSUQoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfU01TX1RXSUxJT19BQ0NPVU5UX1NJRCcpO1xuICB9LFxuICBnZXQgQVVUSF9TTVNfVFdJTElPX0FVVEhfVE9LRU4oKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfU01TX1RXSUxJT19BVVRIX1RPS0VOJyk7XG4gIH0sXG4gIGdldCBBVVRIX1NNU19UV0lMSU9fTUVTU0FHSU5HX1NFUlZJQ0VfSUQoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfU01TX1RXSUxJT19NRVNTQUdJTkdfU0VSVklDRV9JRCcpO1xuICB9LFxuXG4gIC8vIEdSQVZBVEFSXG4gIGdldCBBVVRIX0dSQVZBVEFSX0VOQUJMRUQoKSB7XG4gICAgcmV0dXJuIGNhc3RCb29sZWFuRW52KCdBVVRIX0dSQVZBVEFSX0VOQUJMRUQnLCB0cnVlKTtcbiAgfSxcbiAgZ2V0IEFVVEhfR1JBVkFUQVJfREVGQVVMVCgpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0VudignQVVUSF9HUkFWQVRBUl9ERUZBVUxUJywgJ2JsYW5rJyk7XG4gIH0sXG4gIGdldCBBVVRIX0dSQVZBVEFSX1JBVElORygpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0VudignQVVUSF9HUkFWQVRBUl9SQVRJTkcnLCAnZycpO1xuICB9LFxuXG4gIC8vIENMSUVOVFxuICBnZXQgQVVUSF9DTElFTlRfVVJMKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdBVVRIX0NMSUVOVF9VUkwnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICB9LFxuXG4gIC8vIFdFQkFVVEhOXG4gIGdldCBBVVRIX1dFQkFVVEhOX0VOQUJMRUQoKSB7XG4gICAgcmV0dXJuIGNhc3RCb29sZWFuRW52KCdBVVRIX1dFQkFVVEhOX0VOQUJMRUQnLCBmYWxzZSk7XG4gIH0sXG4gIGdldCBBVVRIX1dFQkFVVEhOX1JQX05BTUUoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfV0VCQVVUSE5fUlBfTkFNRScsICcnKTtcbiAgfSxcbiAgZ2V0IEFVVEhfV0VCQVVUSE5fUlBfT1JJR0lOUygpIHtcbiAgICBjb25zdCBvcmlnaW5zID0gY2FzdFN0cmluZ0FycmF5RW52KCdBVVRIX1dFQkFVVEhOX1JQX09SSUdJTlMnLCBbXSk7XG4gICAgY29uc3QgY2xpZW50VXJsID0gRU5WLkFVVEhfQ0xJRU5UX1VSTDtcbiAgICBpZiAoY2xpZW50VXJsKSB7XG4gICAgICBvcmlnaW5zLnB1c2goY2xpZW50VXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIG9yaWdpbnMuZmlsdGVyKEJvb2xlYW4pO1xuICB9LFxuICBnZXQgQVVUSF9XRUJBVVRITl9BVFRFU1RBVElPTl9USU1FT1VUKCkge1xuICAgIHJldHVybiBjYXN0SW50RW52KCdBVVRIX1dFQkFVVEhOX0FUVEVTVEFUSU9OX1RJTUVPVVQnLCA2MDAwMCk7XG4gIH0sXG5cbiAgLy8gU0lHTiBVUFxuICBnZXQgQVVUSF9BTk9OWU1PVVNfVVNFUlNfRU5BQkxFRCgpIHtcbiAgICByZXR1cm4gY2FzdEJvb2xlYW5FbnYoJ0FVVEhfQU5PTllNT1VTX1VTRVJTX0VOQUJMRUQnLCBmYWxzZSk7XG4gIH0sXG4gIGdldCBBVVRIX0RJU0FCTEVfTkVXX1VTRVJTKCkge1xuICAgIHJldHVybiBjYXN0Qm9vbGVhbkVudignQVVUSF9ESVNBQkxFX05FV19VU0VSUycsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0IEFVVEhfQUNDRVNTX0NPTlRST0xfQUxMT1dFRF9FTUFJTFMoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdBcnJheUVudignQVVUSF9BQ0NFU1NfQ09OVFJPTF9BTExPV0VEX0VNQUlMUycsIFtdKTtcbiAgfSxcbiAgZ2V0IEFVVEhfQUNDRVNTX0NPTlRST0xfQUxMT1dFRF9FTUFJTF9ET01BSU5TKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nQXJyYXlFbnYoJ0FVVEhfQUNDRVNTX0NPTlRST0xfQUxMT1dFRF9FTUFJTF9ET01BSU5TJywgW10pO1xuICB9LFxuICBnZXQgQVVUSF9BQ0NFU1NfQ09OVFJPTF9CTE9DS0VEX0VNQUlMUygpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0FycmF5RW52KCdBVVRIX0FDQ0VTU19DT05UUk9MX0JMT0NLRURfRU1BSUxTJywgW10pO1xuICB9LFxuICBnZXQgQVVUSF9BQ0NFU1NfQ09OVFJPTF9CTE9DS0VEX0VNQUlMX0RPTUFJTlMoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdBcnJheUVudignQVVUSF9BQ0NFU1NfQ09OVFJPTF9CTE9DS0VEX0VNQUlMX0RPTUFJTlMnLCBbXSk7XG4gIH0sXG4gIGdldCBBVVRIX1BBU1NXT1JEX01JTl9MRU5HVEgoKSB7XG4gICAgcmV0dXJuIGNhc3RJbnRFbnYoJ0FVVEhfUEFTU1dPUkRfTUlOX0xFTkdUSCcsIDMpO1xuICB9LFxuICBnZXQgQVVUSF9QQVNTV09SRF9ISUJQX0VOQUJMRUQoKSB7XG4gICAgcmV0dXJuIGNhc3RCb29sZWFuRW52KCdBVVRIX1BBU1NXT1JEX0hJQlBfRU5BQkxFRCcsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0IEFVVEhfVVNFUl9ERUZBVUxUX1JPTEUoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfVVNFUl9ERUZBVUxUX1JPTEUnLCAndXNlcicpO1xuICB9LFxuICBnZXQgQVVUSF9VU0VSX0RFRkFVTFRfQUxMT1dFRF9ST0xFUygpIHtcbiAgICBjb25zdCBhbGxvd2VkUm9sZXMgPSBbXG4gICAgICAnbWUnLFxuICAgICAgdGhpcy5BVVRIX1VTRVJfREVGQVVMVF9ST0xFLFxuICAgICAgLi4uY2FzdFN0cmluZ0FycmF5RW52KCdBVVRIX1VTRVJfREVGQVVMVF9BTExPV0VEX1JPTEVTJyksXG4gICAgXTtcbiAgICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICAgIHJldHVybiBbLi4uYWxsb3dlZFJvbGVzPy5maWx0ZXIob25seVVuaXF1ZSldO1xuICB9LFxuICBnZXQgQVVUSF9MT0NBTEVfREVGQVVMVCgpIHtcbiAgICByZXR1cm4gY2FzdFN0cmluZ0VudignQVVUSF9MT0NBTEVfREVGQVVMVCcsICdlbicpO1xuICB9LFxuICBnZXQgQVVUSF9MT0NBTEVfQUxMT1dFRF9MT0NBTEVTKCkge1xuICAgIGNvbnN0IGxvY2FsZXMgPSBbXG4gICAgICBFTlYuQVVUSF9MT0NBTEVfREVGQVVMVCxcbiAgICAgIC4uLmNhc3RTdHJpbmdBcnJheUVudignQVVUSF9MT0NBTEVfQUxMT1dFRF9MT0NBTEVTJyksXG4gICAgXTtcbiAgICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICAgIHJldHVybiBbLi4ubG9jYWxlcz8uZmlsdGVyKG9ubHlVbmlxdWUpXTtcbiAgfSxcblxuICAvLyBTSUdOIElOXG4gIGdldCBBVVRIX0VNQUlMX1BBU1NXT1JETEVTU19FTkFCTEVEKCkge1xuICAgIHJldHVybiBjYXN0Qm9vbGVhbkVudignQVVUSF9FTUFJTF9QQVNTV09SRExFU1NfRU5BQkxFRCcsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0IEFVVEhfU01TX1BBU1NXT1JETEVTU19FTkFCTEVEKCkge1xuICAgIHJldHVybiBjYXN0Qm9vbGVhbkVudignQVVUSF9TTVNfUEFTU1dPUkRMRVNTX0VOQUJMRUQnLCBmYWxzZSk7XG4gIH0sXG4gIGdldCBBVVRIX0VNQUlMX1NJR05JTl9FTUFJTF9WRVJJRklFRF9SRVFVSVJFRCgpIHtcbiAgICByZXR1cm4gY2FzdEJvb2xlYW5FbnYoJ0FVVEhfRU1BSUxfU0lHTklOX0VNQUlMX1ZFUklGSUVEX1JFUVVJUkVEJywgdHJ1ZSk7XG4gIH0sXG4gIC8vIGdldCBBVVRIX1NJR05JTl9QSE9ORV9OVU1CRVJfVkVSSUZJRURfUkVRVUlSRUQoKSB7XG4gIC8vICAgcmV0dXJuIGNhc3RCb29sZWFuRW52KCdBVVRIX1NJR05JTl9QSE9ORV9OVU1CRVJfVkVSSUZJRURfUkVRVUlSRUQnLCB0cnVlKTtcbiAgLy8gfSxcbiAgZ2V0IEFVVEhfQUNDRVNTX0NPTlRST0xfQUxMT1dFRF9SRURJUkVDVF9VUkxTKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nQXJyYXlFbnYoJ0FVVEhfQUNDRVNTX0NPTlRST0xfQUxMT1dFRF9SRURJUkVDVF9VUkxTJykubWFwKFxuICAgICAgKHYpID0+IHYudG9Mb3dlckNhc2UoKVxuICAgICk7XG4gIH0sXG4gIGdldCBBVVRIX01GQV9FTkFCTEVEKCkge1xuICAgIHJldHVybiBjYXN0Qm9vbGVhbkVudignQVVUSF9NRkFfRU5BQkxFRCcsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0IEFVVEhfTUZBX1RPVFBfSVNTVUVSKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdBVVRIX01GQV9UT1RQX0lTU1VFUicsICdoYXN1cmEtYXV0aCcpO1xuICB9LFxuXG4gIC8vIFRPS0VOU1xuICBnZXQgQVVUSF9BQ0NFU1NfVE9LRU5fRVhQSVJFU19JTigpIHtcbiAgICByZXR1cm4gY2FzdEludEVudignQVVUSF9BQ0NFU1NfVE9LRU5fRVhQSVJFU19JTicsIDkwMCk7XG4gIH0sXG4gIGdldCBBVVRIX1JFRlJFU0hfVE9LRU5fRVhQSVJFU19JTigpIHtcbiAgICByZXR1cm4gY2FzdEludEVudignQVVUSF9SRUZSRVNIX1RPS0VOX0VYUElSRVNfSU4nLCAyXzU5Ml8wMDApO1xuICB9LFxuXG4gIC8vIEVNQUlMIFRFTVBMQVRFU1xuICBnZXQgQVVUSF9FTUFJTF9URU1QTEFURV9GRVRDSF9VUkwoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FVVEhfRU1BSUxfVEVNUExBVEVfRkVUQ0hfVVJMJyk7XG4gIH0sXG5cbiAgZ2V0IEFVVEhfSldUX0NVU1RPTV9DTEFJTVMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjYXN0T2JqZWN0RW52PFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KCdBVVRIX0pXVF9DVVNUT01fQ0xBSU1TJyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBsb2dnZXIud2FybihcbiAgICAgICAgJ0FVVEhfSldUX0NVU1RPTV9DTEFJTVMgY2Fubm90IGJlIHBhcnNlZC4gV2lsbCBpZ25vcmUgY3VzdG9tIGNsYWltcy4nXG4gICAgICApO1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSxcblxuICBnZXQgQVVUSF9VU0VSX1NFU1NJT05fVkFSSUFCTEVfRklFTERTKCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLkFVVEhfVVNFUl9TRVNTSU9OX1ZBUklBQkxFX0ZJRUxEUztcbiAgfSxcblxuICBnZXQgQVVUSF9DT05DRUFMX0VSUk9SUygpIHtcbiAgICByZXR1cm4gY2FzdEJvb2xlYW5FbnYoJ0FVVEhfQ09OQ0VBTF9FUlJPUlMnLCBmYWxzZSk7XG4gIH0sXG5cbiAgZ2V0IEFVVEhfU0hPV19MT0dfUVVFUllfUEFSQU1TKCkge1xuICAgIHJldHVybiBjYXN0Qm9vbGVhbkVudignQVVUSF9TSE9XX0xPR19RVUVSWV9QQVJBTVMnLCBmYWxzZSk7XG4gIH0sXG5cbiAgLy8gKiBTZWUgLi4vc2VydmVyLnRzXG4gIC8vIGdldCBBVVRIX1NLSVBfSU5JVCgpIHtcbiAgLy8gICByZXR1cm4gY2FzdEJvb2xlYW5FbnYoJ0FVVEhfU0tJUF9JTklUJywgZmFsc2UpO1xuICAvLyB9LFxuICAvLyBnZXQgQVVUSF9TS0lQX1NFUlZFKCkge1xuICAvLyAgIHJldHVybiBjYXN0Qm9vbGVhbkVudignQVVUSF9TS0lQX1NFUlZFJywgZmFsc2UpO1xuICAvLyB9LFxuXG4gIC8vIEFXUyBTRVNcbiAgZ2V0IEFXU19BQ0NFU1NfS0VZX0lEKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdBV1NfQUNDRVNTX0tFWV9JRCcpO1xuICB9LFxuICBnZXQgQVdTX1NFQ1JFVF9BQ0NFU1NfS0VZKCkge1xuICAgIHJldHVybiBjYXN0U3RyaW5nRW52KCdBV1NfU0VDUkVUX0FDQ0VTU19LRVknKTtcbiAgfSxcbiAgZ2V0IEFXU19SRUdJT04oKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ0FXU19SRUdJT04nKTtcbiAgfSxcbiAgZ2V0IFNFU19TT1VSQ0VfRU1BSUwoKSB7XG4gICAgcmV0dXJuIGNhc3RTdHJpbmdFbnYoJ1NFU19TT1VSQ0VfRU1BSUwnKTtcbiAgfSxcbn07XG4iXX0=