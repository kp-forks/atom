export const basicAuth = (fn) => async (req, res) => {
    try {
        const authorizationToken = req.headers['authorization'];
        const encodedCreds = authorizationToken.split(' ')[1];
        const verifyToken = Buffer.from(encodedCreds, 'base64')
            .toString()
            .split(':')[1];
        if (verifyToken !== process.env.BASIC_AUTH) {
            return res.status(401).send('Unauthorized');
        }
    }
    catch (e) {
        console.log(e, ' unable to verify basic auth data ');
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzaWMtYXV0aC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImJhc2ljLWF1dGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ2xELElBQUksQ0FBQztRQUNILE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUV4RCxNQUFNLFlBQVksR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEQsTUFBTSxXQUFXLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsUUFBUSxDQUFDO2FBQ3BELFFBQVEsRUFBRTthQUNWLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVqQixJQUFJLFdBQVcsS0FBSyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzNDLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDOUMsQ0FBQztJQUNILENBQUM7SUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsb0NBQW9DLENBQUMsQ0FBQztJQUN2RCxDQUFDO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGJhc2ljQXV0aCA9IChmbikgPT4gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYXV0aG9yaXphdGlvblRva2VuID0gcmVxLmhlYWRlcnNbJ2F1dGhvcml6YXRpb24nXTtcblxuICAgIGNvbnN0IGVuY29kZWRDcmVkcyA9IGF1dGhvcml6YXRpb25Ub2tlbi5zcGxpdCgnICcpWzFdO1xuICAgIGNvbnN0IHZlcmlmeVRva2VuID0gQnVmZmVyLmZyb20oZW5jb2RlZENyZWRzLCAnYmFzZTY0JylcbiAgICAgIC50b1N0cmluZygpXG4gICAgICAuc3BsaXQoJzonKVsxXTtcblxuICAgIGlmICh2ZXJpZnlUb2tlbiAhPT0gcHJvY2Vzcy5lbnYuQkFTSUNfQVVUSCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdVbmF1dGhvcml6ZWQnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byB2ZXJpZnkgYmFzaWMgYXV0aCBkYXRhICcpO1xuICB9XG59O1xuIl19