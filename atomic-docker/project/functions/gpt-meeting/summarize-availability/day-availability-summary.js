import { process_summarize_availability } from '../_libs/api-helper';
const handler = async (req, res) => {
    try {
        const body = req.body;
        // validate values
        if (!body?.userId) {
            return res.status(400).json({
                message: 'no userId present',
                event: body,
            });
        }
        if (!body?.dayAvailabilityList) {
            return res.status(400).json({
                message: 'no dayAvailabilityList present',
                event: body,
            });
        }
        const response = await process_summarize_availability(body);
        console.log(response, ' response');
        res.status(200).json(response);
    }
    catch (e) {
        console.log(e, ' unable to summarized overall availability');
        res.status(400).json(e);
    }
};
export default handler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF5LWF2YWlsYWJpbGl0eS1zdW1tYXJ5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGF5LWF2YWlsYWJpbGl0eS1zdW1tYXJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXJFLE1BQU0sT0FBTyxHQUFHLEtBQUssRUFBRSxHQUFZLEVBQUUsR0FBYSxFQUFFLEVBQUU7SUFDcEQsSUFBSSxDQUFDO1FBQ0gsTUFBTSxJQUFJLEdBQWlDLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFFcEQsa0JBQWtCO1FBQ2xCLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUM7WUFDbEIsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDMUIsT0FBTyxFQUFFLG1CQUFtQjtnQkFDNUIsS0FBSyxFQUFFLElBQUk7YUFDWixDQUFDLENBQUM7UUFDTCxDQUFDO1FBRUQsSUFBSSxDQUFDLElBQUksRUFBRSxtQkFBbUIsRUFBRSxDQUFDO1lBQy9CLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQzFCLE9BQU8sRUFBRSxnQ0FBZ0M7Z0JBQ3pDLEtBQUssRUFBRSxJQUFJO2FBQ1osQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUVELE1BQU0sUUFBUSxHQUFHLE1BQU0sOEJBQThCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFNUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFFbkMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDWCxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSw0Q0FBNEMsQ0FBQyxDQUFDO1FBQzdELEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFCLENBQUM7QUFDSCxDQUFDLENBQUM7QUFFRixlQUFlLE9BQU8sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBTdW1tYXJpemVEYXlBdmFpbGFiaWxpdHlUeXBlIH0gZnJvbSAnLi4vX2xpYnMvdHlwZXMvYXZhaWxhYmlsaXR5VHlwZXMnO1xuaW1wb3J0IHsgcHJvY2Vzc19zdW1tYXJpemVfYXZhaWxhYmlsaXR5IH0gZnJvbSAnLi4vX2xpYnMvYXBpLWhlbHBlcic7XG5cbmNvbnN0IGhhbmRsZXIgPSBhc3luYyAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keTogU3VtbWFyaXplRGF5QXZhaWxhYmlsaXR5VHlwZSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gdmFsaWRhdGUgdmFsdWVzXG4gICAgaWYgKCFib2R5Py51c2VySWQpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdubyB1c2VySWQgcHJlc2VudCcsXG4gICAgICAgIGV2ZW50OiBib2R5LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFib2R5Py5kYXlBdmFpbGFiaWxpdHlMaXN0KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnbm8gZGF5QXZhaWxhYmlsaXR5TGlzdCBwcmVzZW50JyxcbiAgICAgICAgZXZlbnQ6IGJvZHksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb2Nlc3Nfc3VtbWFyaXplX2F2YWlsYWJpbGl0eShib2R5KTtcblxuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLCAnIHJlc3BvbnNlJyk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXNwb25zZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlLCAnIHVuYWJsZSB0byBzdW1tYXJpemVkIG92ZXJhbGwgYXZhaWxhYmlsaXR5Jyk7XG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZXI7XG4iXX0=