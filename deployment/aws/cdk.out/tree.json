{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.206.0"},"children":{"AwsStack":{"id":"AwsStack","path":"AwsStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.206.0"},"children":{"CertificateArn":{"id":"CertificateArn","path":"AwsStack/CertificateArn","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.206.0"}},"OperatorEmail":{"id":"OperatorEmail","path":"AwsStack/OperatorEmail","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.206.0"}},"DeploymentStage":{"id":"DeploymentStage","path":"AwsStack/DeploymentStage","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.206.0"}},"IsProdStageCondition":{"id":"IsProdStageCondition","path":"AwsStack/IsProdStageCondition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.206.0"}},"AlarmTopic":{"id":"AlarmTopic","path":"AwsStack/AlarmTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.206.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AlarmTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{}}},"TokenSubscription:1":{"id":"TokenSubscription:1","path":"AwsStack/AlarmTopic/TokenSubscription:1","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.206.0","metadata":[{"topic":"*","endpoint":"*","protocol":"email","filterPolicy":"*","filterPolicyWithMessageBody":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AlarmTopic/TokenSubscription:1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Ref":"OperatorEmail"},"protocol":"email","topicArn":{"Ref":"AlarmTopicD01E77F9"}}}}}}}},"AtomicVpc":{"id":"AtomicVpc","path":"AwsStack/AtomicVpc","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.206.0","metadata":[{"maxAzs":"*","natGateways":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicVpc/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"AwsStack/AtomicVpc"}]}}},"PublicSubnet1":{"id":"PublicSubnet1","path":"AwsStack/AtomicVpc/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.206.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]},"children":{"Subnet":{"id":"Subnet","path":"AwsStack/AtomicVpc/PublicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.0.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"AwsStack/AtomicVpc/PublicSubnet1"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"Acl":{"id":"Acl","path":"AwsStack/AtomicVpc/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AwsStack/AtomicVpc/PublicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsStack/AtomicVpc/PublicSubnet1"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AwsStack/AtomicVpc/PublicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AtomicVpcPublicSubnet1RouteTableC8413083"},"subnetId":{"Ref":"AtomicVpcPublicSubnet1SubnetA737E17C"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AwsStack/AtomicVpc/PublicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AtomicVpcIGW53D98970"},"routeTableId":{"Ref":"AtomicVpcPublicSubnet1RouteTableC8413083"}}}},"EIP":{"id":"EIP","path":"AwsStack/AtomicVpc/PublicSubnet1/EIP","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"AwsStack/AtomicVpc/PublicSubnet1"}]}}},"NATGateway":{"id":"NATGateway","path":"AwsStack/AtomicVpc/PublicSubnet1/NATGateway","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["AtomicVpcPublicSubnet1EIP9FD64675","AllocationId"]},"subnetId":{"Ref":"AtomicVpcPublicSubnet1SubnetA737E17C"},"tags":[{"key":"Name","value":"AwsStack/AtomicVpc/PublicSubnet1"}]}}}}},"PublicSubnet2":{"id":"PublicSubnet2","path":"AwsStack/AtomicVpc/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.206.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"AwsStack/AtomicVpc/PublicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.64.0/18","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"AwsStack/AtomicVpc/PublicSubnet2"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"Acl":{"id":"Acl","path":"AwsStack/AtomicVpc/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AwsStack/AtomicVpc/PublicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsStack/AtomicVpc/PublicSubnet2"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AwsStack/AtomicVpc/PublicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AtomicVpcPublicSubnet2RouteTableD3009F6C"},"subnetId":{"Ref":"AtomicVpcPublicSubnet2Subnet2EAC937E"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AwsStack/AtomicVpc/PublicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"AtomicVpcIGW53D98970"},"routeTableId":{"Ref":"AtomicVpcPublicSubnet2RouteTableD3009F6C"}}}}}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"AwsStack/AtomicVpc/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.206.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"AwsStack/AtomicVpc/PrivateSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1a","cidrBlock":"10.0.128.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"AwsStack/AtomicVpc/PrivateSubnet1"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"Acl":{"id":"Acl","path":"AwsStack/AtomicVpc/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AwsStack/AtomicVpc/PrivateSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsStack/AtomicVpc/PrivateSubnet1"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AwsStack/AtomicVpc/PrivateSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AtomicVpcPrivateSubnet1RouteTable26C3C2B8"},"subnetId":{"Ref":"AtomicVpcPrivateSubnet1Subnet9483CF54"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AwsStack/AtomicVpc/PrivateSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AtomicVpcPublicSubnet1NATGatewayCE22C011"},"routeTableId":{"Ref":"AtomicVpcPrivateSubnet1RouteTable26C3C2B8"}}}}}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"AwsStack/AtomicVpc/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.206.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"AwsStack/AtomicVpc/PrivateSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-east-1b","cidrBlock":"10.0.192.0/18","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"AwsStack/AtomicVpc/PrivateSubnet2"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"Acl":{"id":"Acl","path":"AwsStack/AtomicVpc/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"AwsStack/AtomicVpc/PrivateSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsStack/AtomicVpc/PrivateSubnet2"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"AwsStack/AtomicVpc/PrivateSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"AtomicVpcPrivateSubnet2RouteTable254CA10F"},"subnetId":{"Ref":"AtomicVpcPrivateSubnet2SubnetD22D1428"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"AwsStack/AtomicVpc/PrivateSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"AtomicVpcPublicSubnet1NATGatewayCE22C011"},"routeTableId":{"Ref":"AtomicVpcPrivateSubnet2RouteTable254CA10F"}}}}}},"IGW":{"id":"IGW","path":"AwsStack/AtomicVpc/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"AwsStack/AtomicVpc"}]}}},"VPCGW":{"id":"VPCGW","path":"AwsStack/AtomicVpc/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"AtomicVpcIGW53D98970"},"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"AwsStack/AtomicVpc/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/AtomicVpc/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"AwsStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.206.0"},"children":{"Staging":{"id":"Staging","path":"AwsStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.206.0"}},"Role":{"id":"Role","path":"AwsStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}},"Handler":{"id":"Handler","path":"AwsStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}},"AtomicCluster":{"id":"AtomicCluster","path":"AwsStack/AtomicCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.Cluster","version":"2.206.0","metadata":[{"vpc":"*","enableFargateCapacityProviders":true},{"enableFargateCapacityProviders":[]}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicCluster/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnCluster","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Cluster","aws:cdk:cloudformation:props":{}}},"AtomicCluster":{"id":"AtomicCluster","path":"AwsStack/AtomicCluster/AtomicCluster","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnClusterCapacityProviderAssociations","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::ClusterCapacityProviderAssociations","aws:cdk:cloudformation:props":{"capacityProviders":["FARGATE","FARGATE_SPOT"],"cluster":{"Ref":"AtomicCluster0DDF655C"},"defaultCapacityProviderStrategy":[]}}}}},"ECSTaskRole":{"id":"ECSTaskRole","path":"AwsStack/ECSTaskRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.206.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportECSTaskRole":{"id":"ImportECSTaskRole","path":"AwsStack/ECSTaskRole/ImportECSTaskRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwsStack/ECSTaskRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwsStack/ECSTaskRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.206.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/ECSTaskRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AtomicDataBucketE642B1DA","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AtomicDataBucketE642B1DA","Arn"]},"/*"]]}]},{"Action":"ecr:GetAuthorizationToken","Effect":"Allow","Resource":"*"},{"Action":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetDownloadUrlForLayer"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["atomicappRepoBED6513B","Arn"]},{"Fn::GetAtt":["atomicfunctionsRepoA602F8DD","Arn"]},{"Fn::GetAtt":["atomichandshakeRepo8D7DD10F","Arn"]},{"Fn::GetAtt":["atomicoauthRepoD4F710CC","Arn"]},{"Fn::GetAtt":["atomicoptaplannerRepoC039AD7C","Arn"]},{"Fn::GetAtt":["atomicpythonagentRepoD31A96D9","Arn"]}]},{"Action":"secretsmanager:GetSecretValue","Effect":"Allow","Resource":[{"Ref":"ApiTokenSecret3A926DEB"},{"Ref":"AtomicPostgresDBSecretAttachmentDB0B9A31"},{"Ref":"DeepgramApiKeyBBD97097"},{"Ref":"MskBootstrapBrokers1579C88C"},{"Ref":"NotionApiTokenC39ED238"},{"Ref":"NotionNotesDbId35185EF9"},{"Ref":"NotionResearchProjectsDbId3DE8B9E6"},{"Ref":"NotionResearchTasksDbIdAEA8F7F3"},{"Ref":"OpenAiApiKeyAB1C389B"},{"Ref":"OptaplannerDbConnString28A909E6"},{"Ref":"PostGraphileDbConnString646E2AA0"},{"Ref":"PostGraphileJwtSecret61960B62"},{"Ref":"SupertokensDbConnStringE1799986"}]},{"Action":["logs:CreateLogStream","logs:PutLogEvents"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AppLogGroup7D8CD952","Arn"]},{"Fn::GetAtt":["SupertokensLogGroup841B0C09","Arn"]}]},{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Ref":"SupertokensDbConnStringE1799986"}}],"Version":"2012-10-17"},"policyName":"ECSTaskRoleDefaultPolicy82FC9293","roles":[{"Ref":"ECSTaskRoleF2ADB362"}]}}}}}}},"AtomicDataBucket":{"id":"AtomicDataBucket","path":"AwsStack/AtomicDataBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.206.0","metadata":[{"removalPolicy":"destroy","autoDeleteObjects":true,"blockPublicAccess":"*","encryption":"S3_MANAGED","enforceSSL":true}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicDataBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"AwsStack/AtomicDataBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.206.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicDataBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"AtomicDataBucketE642B1DA"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["AtomicDataBucketE642B1DA","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AtomicDataBucketE642B1DA","Arn"]},"/*"]]}]},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["AtomicDataBucketE642B1DA","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["AtomicDataBucketE642B1DA","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"AwsStack/AtomicDataBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/AtomicDataBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"AwsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.206.0"},"children":{"Staging":{"id":"Staging","path":"AwsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.206.0"}},"Role":{"id":"Role","path":"AwsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}},"Handler":{"id":"Handler","path":"AwsStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}},"atomic-functionsRepo":{"id":"atomic-functionsRepo","path":"AwsStack/atomic-functionsRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.206.0","metadata":[{"repositoryName":"*","removalPolicy":"destroy","autoDeleteImages":true}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/atomic-functionsRepo/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"repositoryName":"atomic-functions","tags":[{"key":"aws-cdk:auto-delete-images","value":"true"}]}}},"AutoDeleteImagesCustomResource":{"id":"AutoDeleteImagesCustomResource","path":"AwsStack/atomic-functionsRepo/AutoDeleteImagesCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/atomic-functionsRepo/AutoDeleteImagesCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"Custom::ECRAutoDeleteImagesCustomResourceProvider":{"id":"Custom::ECRAutoDeleteImagesCustomResourceProvider","path":"AwsStack/Custom::ECRAutoDeleteImagesCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.206.0"},"children":{"Staging":{"id":"Staging","path":"AwsStack/Custom::ECRAutoDeleteImagesCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.206.0"}},"Role":{"id":"Role","path":"AwsStack/Custom::ECRAutoDeleteImagesCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}},"Handler":{"id":"Handler","path":"AwsStack/Custom::ECRAutoDeleteImagesCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}},"atomic-functionsRepoUri":{"id":"atomic-functionsRepoUri","path":"AwsStack/atomic-functionsRepoUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"atomic-handshakeRepo":{"id":"atomic-handshakeRepo","path":"AwsStack/atomic-handshakeRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.206.0","metadata":[{"repositoryName":"*","removalPolicy":"destroy","autoDeleteImages":true}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/atomic-handshakeRepo/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"repositoryName":"atomic-handshake","tags":[{"key":"aws-cdk:auto-delete-images","value":"true"}]}}},"AutoDeleteImagesCustomResource":{"id":"AutoDeleteImagesCustomResource","path":"AwsStack/atomic-handshakeRepo/AutoDeleteImagesCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/atomic-handshakeRepo/AutoDeleteImagesCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"atomic-handshakeRepoUri":{"id":"atomic-handshakeRepoUri","path":"AwsStack/atomic-handshakeRepoUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"atomic-oauthRepo":{"id":"atomic-oauthRepo","path":"AwsStack/atomic-oauthRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.206.0","metadata":[{"repositoryName":"*","removalPolicy":"destroy","autoDeleteImages":true}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/atomic-oauthRepo/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"repositoryName":"atomic-oauth","tags":[{"key":"aws-cdk:auto-delete-images","value":"true"}]}}},"AutoDeleteImagesCustomResource":{"id":"AutoDeleteImagesCustomResource","path":"AwsStack/atomic-oauthRepo/AutoDeleteImagesCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/atomic-oauthRepo/AutoDeleteImagesCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"atomic-oauthRepoUri":{"id":"atomic-oauthRepoUri","path":"AwsStack/atomic-oauthRepoUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"atomic-appRepo":{"id":"atomic-appRepo","path":"AwsStack/atomic-appRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.206.0","metadata":[{"repositoryName":"*","removalPolicy":"destroy","autoDeleteImages":true}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/atomic-appRepo/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"repositoryName":"atomic-app","tags":[{"key":"aws-cdk:auto-delete-images","value":"true"}]}}},"AutoDeleteImagesCustomResource":{"id":"AutoDeleteImagesCustomResource","path":"AwsStack/atomic-appRepo/AutoDeleteImagesCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/atomic-appRepo/AutoDeleteImagesCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"atomic-appRepoUri":{"id":"atomic-appRepoUri","path":"AwsStack/atomic-appRepoUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"atomic-optaplannerRepo":{"id":"atomic-optaplannerRepo","path":"AwsStack/atomic-optaplannerRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.206.0","metadata":[{"repositoryName":"*","removalPolicy":"destroy","autoDeleteImages":true}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/atomic-optaplannerRepo/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"repositoryName":"atomic-optaplanner","tags":[{"key":"aws-cdk:auto-delete-images","value":"true"}]}}},"AutoDeleteImagesCustomResource":{"id":"AutoDeleteImagesCustomResource","path":"AwsStack/atomic-optaplannerRepo/AutoDeleteImagesCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/atomic-optaplannerRepo/AutoDeleteImagesCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"atomic-optaplannerRepoUri":{"id":"atomic-optaplannerRepoUri","path":"AwsStack/atomic-optaplannerRepoUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"atomic-python-agentRepo":{"id":"atomic-python-agentRepo","path":"AwsStack/atomic-python-agentRepo","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.Repository","version":"2.206.0","metadata":[{"repositoryName":"*","removalPolicy":"destroy","autoDeleteImages":true}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/atomic-python-agentRepo/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.CfnRepository","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECR::Repository","aws:cdk:cloudformation:props":{"repositoryName":"atomic-python-agent","tags":[{"key":"aws-cdk:auto-delete-images","value":"true"}]}}},"AutoDeleteImagesCustomResource":{"id":"AutoDeleteImagesCustomResource","path":"AwsStack/atomic-python-agentRepo/AutoDeleteImagesCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.206.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwsStack/atomic-python-agentRepo/AutoDeleteImagesCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}}}},"atomic-python-agentRepoUri":{"id":"atomic-python-agentRepoUri","path":"AwsStack/atomic-python-agentRepoUri","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"RdsSecurityGroup":{"id":"RdsSecurityGroup","path":"AwsStack/RdsSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.206.0","metadata":[{"vpc":"*","allowAllOutbound":true},{"addIngressRule":["*",{},"*",true]}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/RdsSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AwsStack/RdsSecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"from AwsStackSupertokensSGC2B15E92:5432":{"id":"from AwsStackSupertokensSGC2B15E92:5432","path":"AwsStack/RdsSecurityGroup/from AwsStackSupertokensSGC2B15E92:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from AwsStackSupertokensSGC2B15E92:5432","fromPort":5432,"groupId":{"Fn::GetAtt":["RdsSecurityGroup632A77E4","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["SupertokensSG8D961012","GroupId"]},"toPort":5432}}}}},"AtomicPostgresDB":{"id":"AtomicPostgresDB","path":"AwsStack/AtomicPostgresDB","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.206.0","metadata":[{"engine":{"engineType":"*","singleUserRotationApplication":"*","engineVersion":{"fullVersion":"*","majorVersion":"*"},"parameterGroupFamily":"*","engineFamily":"*","defaultUsername":"*"},"instanceType":"*","vpc":"*","vpcSubnets":{"subnetType":"Private"},"securityGroups":["*"],"credentials":"*","databaseName":"*","removalPolicy":"destroy","storageEncrypted":true,"multiAz":true,"backupRetention":"*","deletionProtection":true}]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"AwsStack/AtomicPostgresDB/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.206.0","metadata":[{"description":"*","vpc":"*","vpcSubnets":{"subnetType":"Private"},"removalPolicy":"*"}]},"children":{"Default":{"id":"Default","path":"AwsStack/AtomicPostgresDB/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for AtomicPostgresDB database","subnetIds":[{"Ref":"AtomicVpcPrivateSubnet1Subnet9483CF54"},{"Ref":"AtomicVpcPrivateSubnet2SubnetD22D1428"}]}}}}},"Secret":{"id":"Secret","path":"AwsStack/AtomicPostgresDB/Secret","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseSecret","version":"2.206.0","metadata":[{"encryptionKey":"*","secretName":"*","replicaRegions":"*"},{"username":"*","secretName":"*","encryptionKey":"*","excludeCharacters":"*","replaceOnPasswordCriteriaChanges":true,"replicaRegions":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicPostgresDB/Secret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":{"Fn::Join":["",["Generated by the CDK for stack: ",{"Ref":"AWS::StackName"}]]},"generateSecretString":{"passwordLength":30,"secretStringTemplate":"{\"username\":\"PostgresAdminCredentials\"}","generateStringKey":"password","excludeCharacters":" %+~`#$&*()|[]{}:;<>?!'/@\"\\"}}}},"Attachment":{"id":"Attachment","path":"AwsStack/AtomicPostgresDB/Secret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.206.0","metadata":[{"secret":"*","target":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicPostgresDB/Secret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"AwsStackAtomicPostgresDBSecret13CD6E0E3fdaad7efa858a3daf9490cf0a702aeb"},"targetId":{"Ref":"AtomicPostgresDB2E9D697F"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"Resource":{"id":"Resource","path":"AwsStack/AtomicPostgresDB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"100","backupRetentionPeriod":1,"copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.small","dbName":"atomicdb","dbSubnetGroupName":{"Ref":"AtomicPostgresDBSubnetGroup067D56E3"},"deletionProtection":true,"engine":"postgres","engineVersion":"15","masterUsername":"PostgresAdminCredentials","masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"AwsStackAtomicPostgresDBSecret13CD6E0E3fdaad7efa858a3daf9490cf0a702aeb"},":SecretString:password::}}"]]},"multiAz":true,"publiclyAccessible":false,"storageEncrypted":true,"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["RdsSecurityGroup632A77E4","GroupId"]}]}}}}},"SupertokensDbConnString":{"id":"SupertokensDbConnString","path":"AwsStack/SupertokensDbConnString","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/SupertokensDbConnString/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/SupertokensDbConnString"}}}}},"PostGraphileDbConnString":{"id":"PostGraphileDbConnString","path":"AwsStack/PostGraphileDbConnString","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/PostGraphileDbConnString/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/PostGraphileDbConnString"}}}}},"PostGraphileJwtSecret":{"id":"PostGraphileJwtSecret","path":"AwsStack/PostGraphileJwtSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/PostGraphileJwtSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/PostGraphileJwtSecret"}}}}},"ApiTokenSecret":{"id":"ApiTokenSecret","path":"AwsStack/ApiTokenSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/ApiTokenSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/ApiTokenSecret"}}}}},"OpenAiApiKey":{"id":"OpenAiApiKey","path":"AwsStack/OpenAiApiKey","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/OpenAiApiKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/OpenAiApiKey"}}}}},"OptaplannerDbConnString":{"id":"OptaplannerDbConnString","path":"AwsStack/OptaplannerDbConnString","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/OptaplannerDbConnString/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/OptaplannerDbConnString"}}}}},"NotionApiToken":{"id":"NotionApiToken","path":"AwsStack/NotionApiToken","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/NotionApiToken/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/NotionApiToken"}}}}},"DeepgramApiKey":{"id":"DeepgramApiKey","path":"AwsStack/DeepgramApiKey","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/DeepgramApiKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/DeepgramApiKey"}}}}},"NotionNotesDbId":{"id":"NotionNotesDbId","path":"AwsStack/NotionNotesDbId","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/NotionNotesDbId/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/NotionNotesDbId"}}}}},"NotionResearchProjectsDbId":{"id":"NotionResearchProjectsDbId","path":"AwsStack/NotionResearchProjectsDbId","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/NotionResearchProjectsDbId/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/NotionResearchProjectsDbId"}}}}},"NotionResearchTasksDbId":{"id":"NotionResearchTasksDbId","path":"AwsStack/NotionResearchTasksDbId","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/NotionResearchTasksDbId/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/NotionResearchTasksDbId"}}}}},"MskBootstrapBrokers":{"id":"MskBootstrapBrokers","path":"AwsStack/MskBootstrapBrokers","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.206.0","metadata":[{"secretName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/MskBootstrapBrokers/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{},"name":"AwsStack/MskBootstrapBrokers"}}}}},"ImportedCertificate":{"id":"ImportedCertificate","path":"AwsStack/ImportedCertificate","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.206.0","metadata":[]}},"AlbSecurityGroup":{"id":"AlbSecurityGroup","path":"AwsStack/AlbSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.206.0","metadata":[{"vpc":"*","allowAllOutbound":true},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{}]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{}]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*",false]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*",false]},{"addEgressRule":["*",{},"*",true]},{"addEgressRule":["*",{},"*",true]},{"addEgressRule":["*",{},"*",true]},{"addEgressRule":["*",{},"*",true]}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AlbSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AwsStack/AlbSecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"from 0.0.0.0/0:80"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"from 0.0.0.0/0:443"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}}}},"AtomicAlb":{"id":"AtomicAlb","path":"AwsStack/AtomicAlb","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.206.0","metadata":["*","*","*"]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicAlb/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["AlbSecurityGroup86A59E99","GroupId"]}],"subnets":[{"Ref":"AtomicVpcPublicSubnet1SubnetA737E17C"},{"Ref":"AtomicVpcPublicSubnet2Subnet2EAC937E"}],"type":"application"}}},"HttpListener":{"id":"HttpListener","path":"AwsStack/AtomicAlb/HttpListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.206.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicAlb/HttpListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"redirect","redirectConfig":{"statusCode":"HTTP_301","port":"443","protocol":"HTTPS"}}],"loadBalancerArn":{"Ref":"AtomicAlbF873927A"},"port":80,"protocol":"HTTP"}}}}},"HttpsListener":{"id":"HttpsListener","path":"AwsStack/AtomicAlb/HttpsListener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.206.0","metadata":["*","*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicAlb/HttpsListener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"certificates":[{"certificateArn":{"Ref":"CertificateArn"}}],"defaultActions":[{"type":"fixed-response","fixedResponseConfig":{"statusCode":"404"}}],"loadBalancerArn":{"Ref":"AtomicAlbF873927A"},"port":443,"protocol":"HTTPS"}}},"SupertokensRule":{"id":"SupertokensRule","path":"AwsStack/AtomicAlb/HttpsListener/SupertokensRule","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListenerRule","version":"2.206.0"},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicAlb/HttpsListener/SupertokensRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListenerRule","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::ListenerRule","aws:cdk:cloudformation:props":{"actions":[{"type":"forward","targetGroupArn":{"Ref":"SupertokensTargetGroupEC539A5A"}}],"conditions":[{"field":"path-pattern","pathPatternConfig":{"values":["/v1/auth/*"]}}],"listenerArn":{"Ref":"AtomicAlbHttpsListener9D23ED41"},"priority":10}}}}},"AppRule":{"id":"AppRule","path":"AwsStack/AtomicAlb/HttpsListener/AppRule","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListenerRule","version":"2.206.0"},"children":{"Resource":{"id":"Resource","path":"AwsStack/AtomicAlb/HttpsListener/AppRule/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListenerRule","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::ListenerRule","aws:cdk:cloudformation:props":{"actions":[{"type":"forward","targetGroupArn":{"Ref":"AppTargetGroup3D716DB6"}}],"conditions":[{"field":"path-pattern","pathPatternConfig":{"values":["/*"]}}],"listenerArn":{"Ref":"AtomicAlbHttpsListener9D23ED41"},"priority":100}}}}}}}}},"SupertokensSG":{"id":"SupertokensSG","path":"AwsStack/SupertokensSG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.206.0","metadata":[{"vpc":"*","allowAllOutbound":true},{"addIngressRule":["*",{},"*",false]},{"addIngressRule":["*",{},"*",false]},{"addEgressRule":["*",{},"*",false]}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/SupertokensSG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AwsStack/SupertokensSG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"from AwsStackAlbSecurityGroupFEFFD71B:3567":{"id":"from AwsStackAlbSecurityGroupFEFFD71B:3567","path":"AwsStack/SupertokensSG/from AwsStackAlbSecurityGroupFEFFD71B:3567","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from AwsStackAlbSecurityGroupFEFFD71B:3567","fromPort":3567,"groupId":{"Fn::GetAtt":["SupertokensSG8D961012","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AlbSecurityGroup86A59E99","GroupId"]},"toPort":3567}}}}},"SupertokensTaskDef":{"id":"SupertokensTaskDef","path":"AwsStack/SupertokensTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.TaskDefinition","version":"2.206.0","metadata":["*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"AwsStack/SupertokensTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":"registry.supertokens.io/supertokens/supertokens-postgresql:6.0","name":"Supertokens","portMappings":[{"containerPort":3567,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"SupertokensLogGroup841B0C09"},"awslogs-stream-prefix":"supertokens","awslogs-region":"us-east-1"}},"environment":[{"name":"POSTGRESQL_TABLE_NAMES_PREFIX","value":"Supertokens"}],"secrets":[{"name":"POSTGRESQL_CONNECTION_URI","valueFrom":{"Ref":"SupertokensDbConnStringE1799986"}}]}],"cpu":"256","executionRoleArn":{"Fn::GetAtt":["ECSTaskRoleF2ADB362","Arn"]},"family":"supertokens","memory":"512","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["ECSTaskRoleF2ADB362","Arn"]}}}},"Supertokens":{"id":"Supertokens","path":"AwsStack/SupertokensTaskDef/Supertokens","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.206.0"}}}},"SupertokensLogGroup":{"id":"SupertokensLogGroup","path":"AwsStack/SupertokensLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.206.0","metadata":[{"logGroupName":"*","retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/SupertokensLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/ecs/Supertokens","retentionInDays":30}}}}},"SupertokensService":{"id":"SupertokensService","path":"AwsStack/SupertokensService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.206.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"AwsStack/SupertokensService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"AtomicCluster0DDF655C"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50},"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"SupertokensTargetGroupEC539A5A"},"containerName":"Supertokens","containerPort":3567}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"AtomicVpcPrivateSubnet1Subnet9483CF54"},{"Ref":"AtomicVpcPrivateSubnet2SubnetD22D1428"}],"securityGroups":[{"Fn::GetAtt":["SupertokensSG8D961012","GroupId"]}]}},"taskDefinition":{"Ref":"SupertokensTaskDef562C1644"}}}}}},"SupertokensTargetGroup":{"id":"SupertokensTargetGroup","path":"AwsStack/SupertokensTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.206.0"},"children":{"Resource":{"id":"Resource","path":"AwsStack/SupertokensTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckPath":"/hello","port":3567,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Ref":"AtomicVpcD404E496"}}}}}},"AppSG":{"id":"AppSG","path":"AwsStack/AppSG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.206.0","metadata":[{"vpc":"*","allowAllOutbound":true},{"addIngressRule":["*",{},"*",false]},{"addIngressRule":["*",{},"*",false]}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AppSG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AwsStack/AppSG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"AtomicVpcD404E496"}}}},"from AwsStackAlbSecurityGroupFEFFD71B:3000":{"id":"from AwsStackAlbSecurityGroupFEFFD71B:3000","path":"AwsStack/AppSG/from AwsStackAlbSecurityGroupFEFFD71B:3000","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"from AwsStackAlbSecurityGroupFEFFD71B:3000","fromPort":3000,"groupId":{"Fn::GetAtt":["AppSG652848D9","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["AlbSecurityGroup86A59E99","GroupId"]},"toPort":3000}}}}},"AppTaskDef":{"id":"AppTaskDef","path":"AwsStack/AppTaskDef","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.TaskDefinition","version":"2.206.0","metadata":["*","*","*","*","*"]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AppTaskDef/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnTaskDefinition","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::TaskDefinition","aws:cdk:cloudformation:props":{"containerDefinitions":[{"essential":true,"image":{"Fn::Join":["",[{"Fn::Select":[4,{"Fn::Split":[":",{"Fn::GetAtt":["atomicappRepoBED6513B","Arn"]}]}]},".dkr.ecr.",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["atomicappRepoBED6513B","Arn"]}]}]},".",{"Ref":"AWS::URLSuffix"},"/",{"Ref":"atomicappRepoBED6513B"},":latest"]]},"name":"App","portMappings":[{"containerPort":3000,"protocol":"tcp"}],"logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":{"Ref":"AppLogGroup7D8CD952"},"awslogs-stream-prefix":"app","awslogs-region":"us-east-1"}},"environment":[{"name":"NEXT_PUBLIC_SUPERTOKENS_API_DOMAIN","value":"https://app.example.com/v1/auth"}]}],"cpu":"512","executionRoleArn":{"Fn::GetAtt":["ECSTaskRoleF2ADB362","Arn"]},"family":"app","memory":"1024","networkMode":"awsvpc","requiresCompatibilities":["FARGATE"],"taskRoleArn":{"Fn::GetAtt":["ECSTaskRoleF2ADB362","Arn"]}}}},"App":{"id":"App","path":"AwsStack/AppTaskDef/App","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.ContainerDefinition","version":"2.206.0"}}}},"AppLogGroup":{"id":"AppLogGroup","path":"AwsStack/AppLogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.206.0","metadata":[{"logGroupName":"*","retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"AwsStack/AppLogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":"/aws/ecs/App","retentionInDays":30}}}}},"AppService":{"id":"AppService","path":"AwsStack/AppService","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.FargateService","version":"2.206.0","metadata":["*"]},"children":{"Service":{"id":"Service","path":"AwsStack/AppService/Service","constructInfo":{"fqn":"aws-cdk-lib.aws_ecs.CfnService","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ECS::Service","aws:cdk:cloudformation:props":{"cluster":{"Ref":"AtomicCluster0DDF655C"},"deploymentConfiguration":{"maximumPercent":200,"minimumHealthyPercent":50},"enableEcsManagedTags":false,"healthCheckGracePeriodSeconds":60,"launchType":"FARGATE","loadBalancers":[{"targetGroupArn":{"Ref":"AppTargetGroup3D716DB6"},"containerName":"App","containerPort":3000}],"networkConfiguration":{"awsvpcConfiguration":{"assignPublicIp":"DISABLED","subnets":[{"Ref":"AtomicVpcPrivateSubnet1Subnet9483CF54"},{"Ref":"AtomicVpcPrivateSubnet2SubnetD22D1428"}],"securityGroups":[{"Fn::GetAtt":["AppSG652848D9","GroupId"]}]}},"taskDefinition":{"Ref":"AppTaskDef32F3E122"}}}}}},"AppTargetGroup":{"id":"AppTargetGroup","path":"AwsStack/AppTargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.206.0"},"children":{"Resource":{"id":"Resource","path":"AwsStack/AppTargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.206.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"healthCheckPath":"/","port":3000,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"ip","vpcId":{"Ref":"AtomicVpcD404E496"}}}}}},"ApplicationEndpoint":{"id":"ApplicationEndpoint","path":"AwsStack/ApplicationEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.206.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AwsStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AwsStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.206.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AwsStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.206.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AwsStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.206.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}